<!DOCTYPE html>
<html lang="en" itemscope itemtype="http://schema.org/Article">
<head> 

<style type="text/css">

.topLeft	{	border-top: 1px solid #000000;
				border-left: 1px solid #000000;
				padding: 10px;
				 vertical-align: text-top;			
			}
			
.topLeftThick	{	border-top: 2px solid #000000;
				border-left: 1px solid #000000;
				 vertical-align: text-top;
			}
	        
.topLeftRight	{border-top: 1px solid #000000;
	         		  border-left: 1px solid #000000;
	         		  border-right: 1px solid #000000;
	         		  padding: 10px;
	         		  vertical-align: text-top;
			}

.topLeftRightThick	{border-top:  2px solid #000000;
	         		  border-left: 1px solid #000000;
	         		  border-right: 1px solid #000000;
	         		  vertical-align: text-top;
			}

.topLeftBottom	{border-top: 1px solid #000000;
	         			  border-left: 1px solid #000000;
	         			  border-bottom: 2px solid #000000;
	         			  padding: 10px;
	         			 vertical-align: text-top;
	        			}        
	     
.all	{border-top: 1px solid #000000;
	      border-left: 1px solid #000000;
	      border-bottom: 2px solid #000000;
	      border-right: 1px solid #000000;
	      padding: 10px;
	      vertical-align: text-top;
	     }	

table.plain {border-collapse: separate;
					border-spacing: 0px;
					width: 90%;
					margin-left: auto;
					margin-right: auto;					
					}
td.plain {padding: 6px;
			vertical-align: text-top;
					}

table.author {border-collapse: separate;
					border-spacing: 6px;
					}
td.authors {padding: 6px;
					}

li:not(:last-child) {
	margin-bottom: .5em;
	}
				
div.center {margin-left: auto; margin-right: auto;
	}

</style>
<meta charset="utf-8" />
<meta id="DOI" content="10.1045/march2016-cataldo" />
<meta itemprop="datePublished" content="2016-03-15" />
<meta id="description" content="D-Lib Magazine Article" /> 
<meta id="keywords" content="LOCKSS, Private LOCKSS Network, Configuration" />
<link rel="metadata" href="03cataldo.meta.xml" />
<link rel="metadata" href="../03bib.meta.bib" />
<link rel="metadata" href="../03ris.meta.ris" />
<link href="../../../style/style1.css" rel="stylesheet" type="text/css" />

<title>A New Approach to Configuration Management for Private LOCKSS Networks</title>
</head>

<body>
<form action="https://www.dlib.org/cgi-bin/search.cgi" method="get">

<div style="height:2px;background:#2b538e"></div>
<div style="height:4px;background:#4078b1"></div>

<div style="height:30px;background:#4078b1">

<span style="color: #ffffff; font-size: 12px; float: right; margin-right: 10px;">Search D-Lib:
<input type="text" id="words" value="" size="25" />
<input type="submit" id="search" value="Go!" />
<input type="hidden" id="config" value="htdig" />
<input type="hidden" id="restrict" value="" />
<input type="hidden" id="exclude" value="" />
</span>
</div>

<div style="height:1px;background:#e04c1e"></div>
<div style="height:1px;background:#4078b1"></div>
<div style="height:1px;background:#abc0d6"></div>
<div style="height:2px;background:#4078b1"></div>
<div style="height:1px;background:#abc0d6"></div>
<div style="height:1px;background:#2b538e"></div>
<div style="height:92px;background:#4078b1"><img width="450" height="90" alt="D-Lib-blocks5" src="../../../img2/D-Lib-blocks5.gif">
</div>
<div style="height:1px;background:#abc0d6"></div>
<div style="height:2px;background:#4078b1"></div>
<div style="height:1px;background:#abc0d6"></div>
<div style="height:2px;background:#e04c1e"></div>
<div style="height:24px;background:#eda443"><img src="../../../img2/magazine5.gif" alt="The Magazine of Digital Library Research" width="830" height="24" /></div>
<div style="height:1px;background:#e04c1e"></div>
<div style="height:28px;background:#2b538e">
<div id="navtable">
<table>
<tr><td class="navtext"><img src="../../../img2/transparent.gif" alt="" width="20" height="20" /><a href="../../../dlib.html">HOME</a>&nbsp;|&nbsp;<a href="../../../about.html">ABOUT D-LIB</a>&nbsp;|&nbsp;<a href="../../../contents.html" class="navtext">CURRENT ISSUE</a>&nbsp;|&nbsp;<a href="../../../back.html">ARCHIVE</a>&nbsp;|&nbsp;<a href="../../../author-index.html">INDEXES</a>&nbsp;|&nbsp;<a href="../../../groups.html">CALENDAR</a>&nbsp;|&nbsp;<a href="../../author-guidelines.html">AUTHOR GUIDELINES</a>&nbsp;|&nbsp;<a href="https://www.dlib.org/mailman/listinfo/dlib-subscribers">SUBSCRIBE</a>&nbsp;|&nbsp;<a href="../../letters.html">CONTACT D-LIB</a></td></tr></table></div></div>
<div style="height:4px;background:#2b538e"></div>
<div style="height:1px;background:#e04c1e"></div>

<div style="padding-left: 2.5em; padding-top: 1em;">

<h3 class="blue-space">D-Lib Magazine</h3>
<p class="blue">March/April 2016<br />
Volume 22, Number 3/4<br />
<a href="../03contents.html">Table of Contents</a>
</p> 

<div class="divider-full">&nbsp;</div>

<h3 class="blue-space">A New Approach to Configuration Management for Private LOCKSS Networks</h3>

<p class="blue">
Tobin M. Cataldo<br />
Birmingham Public Library, Birmingham, Alabama<br />
tcataldo&#064;bham.lib.al.us

<br /><br />DOI: 10.1045/march2016-cataldo
 </p>

<div class="divider-full">&nbsp;</div>

<p class="blue"><a href="03cataldo.print.html" class="fc">Printer-friendly Version</a></p>

<div class="divider-full">&nbsp;</div>
 <!-- Abstract or TOC goes here --> 

<h3 class="blue">Abstract</h3>

<p class="blue">
The node-based configuration management model is an alternative approach to configuration management for Private LOCKSS Networks that reduces external dependencies and subsequent vulnerabilities by flattening the hierarchical vendor-consumer model into a preservation node-based service. The node-based configuration management model also describes approaches for leveraging the LOCKSS preservation protocols to distribute and preserve the configuration data, and maintain continuous service regardless of network membership changes or infrastructural failure.</p>

<!-- Article goes next --> 

<div class="divider-full">&nbsp;</div>
<h3>1 Introduction</h3>

<p>The <a href="http://www.adpn.org/">Alabama Digital Preservation Network</a> (ADPNet) is a <a href="http://www.lockss.org/community/networks/">Private LOCKSS Network</a> (PLN) providing digital preservation services for memory organizations throughout Alabama. Specifically, ADPNet is a collaborative network of libraries and archives in Alabama working in a peer-based organizational framework. In this peer-based framework, there is no true administrative hierarchy, and management tasks rotate among network members.  As a PLN, LOCKSS preservation software forms a core component to the identity of ADPNet.</p>

<p>Lacking the intra-network capacity to create and operate a PLN independently, founding members of ADPNet leaned heavily on the expertise of LOCKSS to design and instantiate the preservation network. As a result, network administration, configuration, and software support for ADPNet were organized in the hierarchical vendor-consumer administrative model that mimicked the established Global LOCKSS Network (GLN). In the vendor-consumer administrative model, LOCKSS controls the single authoritative source, or configuration server, for all of the ADPNet preservation nodes. While LOCKSS is generally referred to in this document as the "vendor" in the vendor-consumer model, particularly for networks directly administered by LOCKSS, the vendor role could be filled by any entity or institution maintaining singular operational control of the preservation network. For a PLN not directly administered by LOCKSS, the organization providing or reselling the preservation network would be classified as the vendor. The hierarchical vendor-consumer model provides a number of benefits, but also carries with it several, perhaps unintended, consequences. The most serious consequence is that a disruption in the link between the ADPNet preservation nodes and the LOCKSS configuration server has the potential to negatively impact the ability of ADPNet to offer continuous preservation services.</p>

<div class="divider-full">&nbsp;</div>
<h3>2 Private LOCKSS Networks &#151; In Brief</h3>

<p>In general terms, a PLN can be described as a known set of peer preservation nodes operating independently, but participating cooperatively, in a defined group for the discovery of content, the polling of preserved data, and consequently self-repair, or self-alignment to the group majority [<a href="03cataldo.html#1">1</a>] [<a href="03cataldo.html#2">2</a>]. In a nominally operating PLN, any individual preservation node could fail without significant consequence to the veracity of the preserved data or the soundness of the network, provided sufficient redundancy exists. This data protection and node fault tolerance are key benefits brought about due to the general design of the LOCKSS preservation network. Independent nodes maintain full replicas of preservation data and self-align to the majority through the process of polling [<a href="03cataldo.html#3">3</a>]. The result is several, fully retrievable replicas of preservation data in the network. </p>

<p>PLNs are an extension of the original electronic journal-centric GLN devised by leveraging the LOCKSS preservation software to collect and preserve a wider variety of data types. While the GLN, by necessity, is strongly hierarchical, PLNs are more freeform and can take various organizational models, from centrally controlled to flattened, collaborative models. The hierarchical vendor-consumer model is most prominent, perhaps, on account of factors ranging from financial control of the network to the less troublesome nature of centralized technical control. No particular organizational model is software-defined mandatory for a PLN.  Many organizational models are possible for PLNs due to the collaboratively-independent nature of the preservation nodes. In a LOCKSS preservation network, nodes participate in preservation groups, and the group boundary is defined on a common authoritative configuration server.</p>

<div class="divider-full">&nbsp;</div>
<h3>3 Configuration Server</h3>

<p>The preservation nodes query the configuration server to discover network peers, archival unit title lists, shared plugin definitions, and software operating parameters. Configuration data is typically maintained in a set of XML documents. The most vulnerable period in the execution of LOCKSS software is during startup. The absence of the expected configuration documents will impede the ability of LOCKSS to operate nominally. It should be noted, however, that even with the inability of LOCKSS software to execute, the locally cached replicas of the preservation data are still accessible through file system interaction. LOCKSS-driven preservation activities, namely voting and polling, for the data are suspended until the LOCKSS software is executing normally with accurate configuration data. In the hierarchical vendor-consumer model, LOCKSS maintains independent control of the configuration server, and in numerous, perhaps most, scenarios, vendor control of the configuration server may be preferable due to the vendor's unparalleled expertise in LOCKSS software configuration and performance tuning. The configuration server is a critical component for the successful execution of LOCKSS software. When operating nominally LOCKSS software creates a robust, independent, and redundant network for preserved data.</p>

<p>LOCKSS and other reputable PLN vendors include backup and fail-over procedures for the configuration server [<a href="03cataldo.html#4">4</a>]. The vendor-consumer administrative model is not a description of the network topology within the administrative control of the vendor. To the consumer, in the hierarchical vendor-consumer administrative model, there is little difference between the primary vendor-controlled configuration server and the backup.  </p>

<div class="divider-full">&nbsp;</div>
<h3>4 Vendor-Consumer Administrative Model</h3>

<p>In the vendor-consumer administrative model, from the node perspective, the described redundancy and retrievability of the preservation data does not extend to the configuration server data. In fact, in the most common scenarios, there is little redundancy of production-ready  configuration data within the preservation network.</p> 

<div style="text-align: center;">
<img style="margin: 0px 0px;" src="cataldo-fig1.png" alt="cataldo-fig1" width="483" height="433" class="borderGray" />
<p><i>Figure 1: Vendor-consumer Administrative Model</i></p>
</div>

<p>In normal LOCKSS operations, plugins are cached on the preservation node, and while the configuration data could be retrieved and cached on a preservation node, the process to do so it is not regularly and universally done. For LOCKSS-administered PLNs, LOCKSS maintains the title list on version control [<a href="03cataldo.html#5">5</a>]. During recovery, the title list could be rebuilt from the version control sources, provided the entire title list is represented. The ability to recover the title list may not extend to alternative PLN vendors. The LOCKSS configuration document could be reconstructed, to some extent, with artefactual hints represented in the LOCKSS software logging mechanism. However, for a PLN without LOCKSS software operational knowledge, moving from recovery to production would be a challenging if not monumental task. In the vendor-consumer model, LOCKSS operational knowledge is not prerequisite, and PLNs may have little understanding on how to recover and reconstruct the necessary configuration documents. Dependency on the vendor for operational control of the preservation network does not create an environment emphasizing the necessity of obtaining operational knowledge. As a result, an unrecoverable disruption in the link between the preservation nodes and the LOCKSS configuration server could leave ADPNet without the means to define the preservation group or control network operations until a new configuration service is brought online. For a PLN with little to no understanding on how to reconstruct the configuration data or with no access to title list information through alternative sources, an unrecoverable disruption in the link with the LOCKSS configuration server could be serious, perhaps fatal.</p>

<div style="text-align: center;">
<img style="margin: 0px 0px;" src="cataldo-fig2.png" alt="cataldo-fig2" width="477" height="440" class="borderGray" />
<p><i>Figure 2: Disrupted Vendor-consumer Model</i></p>
</div>

<p>Despite its benefits, the vendor-consumer administrative model creates a network dependency, in various degrees depending on vendor, that is not fault tolerant or redundant and is ultimately a vulnerability to a preservation network. The <i>raison d'etre</i> of a preservation network is to offer continuous and reliable data protection regardless of mishaps, events, and institutional changes. Accordingly, the preservation network should work to identify all such dependencies and vulnerabilities and create an action plan to mitigate the negative effects of those dependencies. While it is true that every PLN should develop preparedness for network contingencies, actual implementation should be consistent with the PLN's intra-network capacity to operate independently.</p>

<div class="divider-full">&nbsp;</div>
<h3>5 Node-based Configuration Management</h3>

<p>According to the vendor-consumer model, risks associated with network dependency primarily relate to the control of the configuration server and the lack of redundant production-ready configuration documents outside of the control of the vendor. Additionally, in the vendor-consumer administrative model, dependency on the vendor for operational management of the preservation network does not facilitate growth of the intra-network capacity of a PLN to operate independently. One method of reducing the risks associated with the vendor-consumer model is by reducing dependency on the vendor.  The first inclination would be to reproduce the configuration server within direct control of a network member; that is, bring up configuration software services on a discrete server within the virtual walls of a member institution. One could argue, however, that this is simply replacing one set of dependencies with another without addressing the vulnerability that could ultimately affect continuous preservation service. Redeploying the configuration server within the direct control of a single institution in a software services environment that is not reproducible across the network creates a network dependency on an institution that is not tolerant to membership changes. Rather than redeploying network-critical configuration services on an isolated server, PLNs should define a configuration model that is redundant, both in technical and knowledge-based infrastructure, is easily brought up, and is easily administered from a common, shared platform &#151; the preservation node.</p>

<div style="text-align: center;">
<img style="margin: 0px 0px;" src="cataldo-fig3.png" alt="cataldo-fig3" width="559" height="436" class="borderGray" />
<p><i>Figure 3: Node-based Configuration Management Model</i></p>
</div>

<p>In node-based configuration management, a preservation node is promoted to the role of configuration services provider. The promoted node provides the configuration data for the network and exposes the configuration data as an archival unit for collection by the network peers. When the configuration data is replicated as an archival unit across all network nodes, every preservation node has the necessary tools to assume the role of configuration services provider. By providing and replicating configuration data across all preservation nodes, LOCKSS software operational management is exposed to all members of the PLN.</p>

<div class="divider-dot">&nbsp;</div>
<h4>5.1 Persistent URL</h4>

<p>In LOCKSS preservation networks, the preservation nodes reference the configuration server by URL. In the node-based configuration management model, a promoted preservation node is the configuration server. Rather than hard-coding the direct URL to the preservation node acting as the configuration services provider into the local configuration file on each network node, a persistent configuration URL is defined and registered as a host answer record for the registered domain in DNS. The persistent configuration URL is the static, standard address reference for use by the preservation nodes. The PLN utilizes the DNS record to specify the IP of the promoted node for the persistent configuration URL, and the IP endpoint can change as needed without modification to the URL.</p>

<p><i>Example Patterns</i></p>

<p><i>Persistent Configuration URL:  configuration.my-lockss-pln.org</i><br />
<i>Standard LOCKSS Configuration Reference: http://configuration.my-lockss-pln.org/lockss.xml</i><br />
<i>DNS Answer Record: configuration.my-lockss-pln.org &nbsp; A &nbsp; [NODE STATIC IP]</i>
</p>

<div class="divider-dot">&nbsp;</div>
<h4>5.2 Configuration Data Archival Unit</h4>

<p>In addition to providing the core LOCKSS configuration data through the known persistent configuration URLs, the node promoted to configuration services provider should also expose real-time software configuration data and back-end sources to the network peers. By exposing sources and configuration data, the PLN can define the exposed data as an archival unit and utilize the LOCKSS preservation software to create redundancy and retrievability of the configuration data across all of the network peers. The base URL for the configuration data archival unit definition is the persistent configuration URL. Collection and preservation of the configuration data archival unit require no modification to the base operation of LOCKSS software.  </p>

<div class="divider-dot">&nbsp;</div>
<h4>5.3 Services Transfer</h4>

<p>In the event of a service disruption on the promoted node, an alternate preservation node can be promoted to configuration services provider by loading the locally cached configuration data and identifying the new IP endpoint in the DNS record for the persistent configuration URL. If the locally cached configuration data is current, the transfer of configuration services to a new node would be a seamless process.  By defining the configuration data archival unit with a base URL of the persistent configuration URL, the established configuration data archival unit requires no modification when configuration services are transferred to a new node [<a href="03cataldo.html#6">6</a>]. </p>

<div style="text-align: center;">
<img style="margin: 0px 0px;" src="cataldo-fig4.png" alt="cataldo-fig4" width="582" height="449" class="borderGray" />
<p><i>Figure 4: Disrupted Node-based Model, with Recovery</i></p>
</div>

<div class="divider-dot">&nbsp;</div>
<h4>5.4 Network Topology Considerations</h4>

<p>It should be emphasized that excising the vendor from the preservation network topology is not a goal of the node-based configuration model. The model is concerned with creating redundant, reproducible fail-safe systems that can ensure preservation services in a continuous manner regardless of events. Redundant systems should include technical and knowledge-based considerations. Through the process of creating an inventory of dependent services and developing an action plan to mitigate those dependencies, the PLN can position itself to move more seamlessly from recovery to production. Vendor cooperation is important for all PLNs and is particularly important for PLNs without the capacity to operate independently.</p>

<div class="divider-full">&nbsp;</div>
<h3>6 Node-based Configuration Management at ADPNet</h3>

<p>In the node-based configuration management model, a preservation node is promoted to the role of configuration services provider. Depending on implementation, a standard set of ancillary software may be added to the promoted preservation node in order to accomplish the software tasks needed to provide the configuration data. In the case of ADPNet's implementation of node-based configuration management, the framework for provisioning the title list was reworked to be database-driven and preservation node-specific [<a href="03cataldo.html#7">7</a>].  For ADPNet, the ancillary software needed to provide configuration services reduced to a Web server, a database and a programming language executable within the context of the Web server. The only relevant preconditions for software selection were wide availability, easy customization, transportable configuration files, and execution within a relatively small footprint. In order to maximize network reproducibility and minimize down time, each preservation node should, ideally, be pre-equipped, even if latent, with the software infrastructure to assume the role of configuration services provider. The configuration data archival unit exposes the software configuration files, software bring up walk-throughs, and database data needed to reproduce the executing configuration services environment and re-expose configuration sources and data on the newly promoted preservation node. After updating the DNS record to the new IP endpoint, configuration services can continue, and the LOCKSS preservation system can  proceed with regular ingest of the configuration data archival unit. The result is a preservation network that can offer continuous service.</p>

<div class="divider-full">&nbsp;</div>
<h3>7 Security Implications</h3>

<p>The current LOCKSS software ingest process for archival units utilizes Web protocols for data transfer. In the node-based configuration management model, system and software operational parameters are exposed over Web protocols. The resulting implications and challenges to security can be mitigated by limiting communication ports to the known peer preservation nodes and establishing good security practices regarding local access on each individual preservation node. Ultimately, the PLN will need to find a balance between data security and systems reproducibility across heterogeneous peers. </p>

<div class="divider-full">&nbsp;</div>
<h3>8 Conclusion</h3>

<p>Utilizing the LOCKSS preservation software to create redundancy and retrievability of configuration data is a good method of creating a fault tolerant preservation network. By configuring the preservation node to provide the configuration data, no additional hardware is needed, and the role can be assumed by any of the network peers. By exposing production-ready configuration data, the network encourages the growth of its own intra-network capacity to operate independently. The goal is long-term, sustainable digital preservation by providing readily available infrastructure and readily available knowledge.  </p>

<div class="divider-full">&nbsp;</div>
<h3>References</h3>

<table style="width:90%">
<tr>
<td style="padding-bottom: 12px; vertical-align: top;"><a id="1">[1]</a></td>
<td style="padding-bottom: 12px; vertical-align: top;"><a href="http://documents.clockss.org/index.php/LOCKSS:_Basic_Concepts">LOCKSS: Basic Concepts</a>.</td>
</tr>
<tr>
<td style="padding-bottom: 12px; vertical-align: top;"><a id="2">[2]</a></td>
<td style="padding-bottom: 12px; vertical-align: top;">Rosenthal, David S. H., Daniel L. Vargas, Tom A. Lipkis and Claire T. Griffin. "Enhancing the LOCKSS Digital Preservation Technology." <i>D-Lib Magazine</i>. 21, no. 9/10, (September-October 2015). <a href="https://doi.org/10.1045/september2015-rosenthal">http://doi.org/10.1045/september2015-rosenthal</a></td>
</tr>
<tr>
<td style="padding-bottom: 12px; vertical-align: top;"><a id="3">[3]</a></td>
<td style="padding-bottom: 12px; vertical-align: top;"><a href="http://documents.clockss.org/index.php/LOCKSS:_Polling_and_Repair_Protocol">LOCKSS: Polling and Repair Protocol</a>.</td>
</tr>
<tr>
<td style="padding-bottom: 12px; vertical-align: top;"><a id="4">[4]</a></td>
<td style="padding-bottom: 12px; vertical-align: top;"> <a href="http://documents.clockss.org/index.php/LOCKSS:_Property_Server_Operations#Cloud_Mirror_and_Fail-over">LOCKSS: Property Server Operations</a>.</td>
</tr>
<tr>
<td style="padding-bottom: 12px; vertical-align: top;"><a id="5">[5]</a></td>
<td style="padding-bottom: 12px; vertical-align: top;"> <a href="https://github.com/lockss/lockss-daemon/tree/master/tdb">LOCKSS Daemon &#151; TDB</a>.</td>
</tr>
<tr>
<td style="padding-bottom: 12px; vertical-align: top;"><a id="6">[6]</a></td>
<td style="padding-bottom: 12px; vertical-align: top;"> <a href="http://adpn.org/wiki/LOCKSS_Software#File_System_Deep_Dive">LOCKSS Software: File System Deep Dive</a>.</td>
</tr>
<tr>
<td style="padding-bottom: 12px; vertical-align: top;"><a id="7">[7]</a></td>
<td style="padding-bottom: 12px; vertical-align: top;">Cataldo, Tobin M. "<a href="http://plnwiki.lockss.org/wiki/uploads/f/f5/Partitioning.pdf">Data Partitioning for Private LOCKSS Networks</a>." Presentation at the LOCKSS PLN Community Meeting, Montgomery, AL, October 24-25, 2013.</td>
</tr>
</table>

<div class="divider-full">&nbsp;</div>
<h3>About the Author</h3>

<p class="blue"><b>Tobin M. Cataldo</b> is the Information Systems Manager at Birmingham Public Library in Birmingham, Alabama and has been involved with the Alabama Digital Preservation Network since 2011. </p>

<div class="divider-full">&nbsp;</div>


 <!-- Standard Copyright line here  -->

<div class="center">
<p class="footer">Copyright &reg; 2016 Tobin M. Cataldo</p>  
</div>

<div style="height:1px;background:#2b538e"></div>

</div>
</form>
</body>
</html>