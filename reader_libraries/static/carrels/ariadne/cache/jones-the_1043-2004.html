<!DOCTYPE html>
<html lang="en">
    <head>
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <link rel="stylesheet" type="text/css" href="../../css/style.css">

        <title>The Tapir: Adding E-Theses Functionality to DSpace - Ariadne</title>

        <meta name="citation_journal_title" content="Ariadne" />
        <meta name="citation_issn" content="1361-3200">

        
            <meta name="citation_title" content="The Tapir: Adding E-Theses Functionality to DSpace" />
        

        
            <meta name="citation_publication_date" content="2004" />
        

        
            <meta name="citation_issue" content="41" />
        


        
            
                <meta name="citation_author" content="richard jones" />
            
        

        
            <link rel="alternate" type="application/x-bibtex" href="jones/citation.bibtex.html" title="Ariadne" />
        
            <link rel="alternate" type="application/x-research-info-systems" href="jones/citation.ris" title="Ariadne" />
        

        
    </head>
    <body>
        <header>
            <a id="logo" href="../../index.html"><img src="../../images/logo.png" alt="Home"></a>
            <div id="subtitle">Web Magazine for Information Professionals</div>
            <nav>
                
                    <a href="../../index.html">Home</a>
                
                    <a href="../../current-issue.html">Coming issue</a>
                
                    <a href="../../issue.html">Archive</a>
                
                    <a href="../../author.html">Authors</a>
                
                    <a href="../../articles.html">Articles</a>
                
                    <a href="../../guidelines.html">Guidelines</a>
                
            </nav>
        </header>


<article>
    <header>
        <h1>The Tapir: Adding E-Theses Functionality to DSpace</h1>
    </header>


    
    <aside>
        
            
                <h3>Buzz</h3>
                <p id="buzz">
                    
                        
                        
                            <a href="../../buzz/software/index.html">software</a>
                        
                    
                        
                        
                            <a href="../../buzz/java/index.html">java</a>
                        
                    
                        
                        
                            <a href="../../buzz/wiki/index.html">wiki</a>
                        
                    
                        
                        
                            <a href="../../buzz/api/index.html">api</a>
                        
                    
                        
                        
                    
                        
                        
                            <a href="../../buzz/html/index.html">html</a>
                        
                    
                        
                        
                            <a href="../../buzz/database/index.html">database</a>
                        
                    
                        
                        
                            <a href="../../buzz/bsd/index.html">bsd</a>
                        
                    
                        
                        
                            <a href="../../buzz/xml/index.html">xml</a>
                        
                    
                        
                        
                            <a href="../../buzz/apache/index.html">apache</a>
                        
                    
                        
                        
                            <a href="../../buzz/archives/index.html">archives</a>
                        
                    
                        
                        
                            <a href="../../buzz/metadata/index.html">metadata</a>
                        
                    
                        
                        
                    
                        
                        
                            <a href="../../buzz/identifier/index.html">identifier</a>
                        
                    
                        
                        
                            <a href="../../buzz/repositories/index.html">repositories</a>
                        
                    
                        
                        
                            <a href="../../buzz/preservation/index.html">preservation</a>
                        
                    
                        
                        
                            <a href="../../buzz/oai-pmh/index.html">oai-pmh</a>
                        
                    
                        
                        
                    
                        
                        
                    
                        
                        
                    
                        
                        
                    
                        
                        
                    
                        
                        
                            <a href="../../buzz/dspace/index.html">dspace</a>
                        
                    
                        
                        
                            <a href="../../buzz/lucene/index.html">lucene</a>
                        
                    
                        
                        
                            <a href="../../buzz/licence/index.html">licence</a>
                        
                    
                        
                        
                    
                        
                        
                    
                        
                        
                            <a href="../../buzz/interoperability/index.html">interoperability</a>
                        
                    
                        
                        
                    
                        
                        
                            <a href="../../buzz/url/index.html">url</a>
                        
                    
                        
                        
                            <a href="../../buzz/research/index.html">research</a>
                        
                    
                        
                        
                            <a href="../../buzz/standards/index.html">standards</a>
                        
                    
                </p>
            
        

        <h3>Citation</h3>
        <ul>
            <li><a href="jones/citation.bibtex.html">BibTex</a></li>
            <li><a href="jones/citation.ris">RIS</a></li>
        </ul>
    </aside>
    <div class="summary">
        <a href="http://www.ariadne.ac.uk/issue41/jones#author1">Richard Jones</a> demonstrates how the Theses Alive Plugin for Institutional Repositories (Tapir) has provided E-Theses functionality for DSpace.
    </div>

    <div class="content">
        <p>The Theses Alive Plugin for Institutional Repositories (<a href="http://sourceforge.net/projects/tapir-eul/">Tapir</a>) [<a href="jones.html#1">1</a>] has been developed at <a href="http://www.lib.ed.ac.uk/">Edinburgh University Library</a> [<a href="jones.html#2">2</a>] to help provide an E-Thesis service within an institution using <a href="http://www.dspace.org/">DSpace</a> [<a href="jones.html#3">3</a>]. It has been developed as part of the <a href="http://www.thesesalive.ac.uk/">Theses Alive!</a> [<a href="jones.html#4">4</a>] Project under funding from the Joint Information Systems Committee (<a href="http://www.jisc.ac.uk/">JISC</a>) [<a href="jones.html#5">5</a>], as part of the Focus on Access to Institutional Resources (<a href="http://www.jisc.ac.uk/index.cfm?name=programme_fair">FAIR</a>) [<a href="jones.html#6">6</a>] Programme.</p><p>This article looks at DSpace, the repository system initially developed by Hewlett-Packard and MIT and subsequently made available as a community-owned package. We discuss how this community driven open-source development method can work when third-party tools such as the Tapir are also involved, and what issues arise. One of the primary objectives is to introduce the Tapir in detail, explaining what has been developed and what relevance this has to E-Theses. There is also a very brief introduction to the UK-recommended E-Theses Metadata set.</p><p>As a use case, we will look at the recently released Edinburgh Research Archive (<a href="http://www.era.lib.ed.ac.uk/">ERA</a>) [<a href="jones.html#7">7</a>], and will examine DSpace and the Tapir working together to provide Edinburgh's Institutional Repository.</p><p>Finally we look at how development of tools such as the Tapir can be sustained and what issues were encountered during the recent upgrade from DSpace 1.1.1 to DSpace 1.2. The future of the package is considered and some recommendations for the future are made.</p><h2>What is DSpace?</h2><p>DSpace was initially developed by Hewlett-Packard and MIT in collaboration [<a href="jones.html#8">8</a>]. The objective was to create a package that could provide an institutional repository which addressed the problem of digital preservation as a central theme. Since then there have been considerable changes to the process of development, and these changes are continuing. A number of individuals from institutions using DSpace have taken on the role of developers, and a community of interested parties has evolved who have started to feed code back into the core. This is part of the open-source development model into which DSpace is moving, and will be discussed further in the following section.</p><p>The application itself provides ways of capturing, storing, indexing, preserving and disseminating digital objects. In its primary role as an institutional repository package this is the intellectual output of the institution when such output is in digital form. This can include, but is not limited to, research papers, conference papers, book chapters, datasets, learning objects and, of course, E-Theses.</p><p>Capture happens primarily through a Web interface which collects some metadata elements and manages file uploads; as a secondary means of capturing items there is also a bulk upload feature. Storage currently occurs as a combination of information in a relational database and a traditional file system, although plans to change this to enhance the preservation aspects are currently in motion. <a href="http://jakarta.apache.org/lucene/">Lucene</a> [<a href="jones.html#9">9</a>], a third-party java search engine, provides the indexing and searching facilities that DSpace utilises. Exposure is provided in a number of ways: first there is the traditional Web interface, fed from search and hierarchical browse facilities, second the system exposes its metadata via the <a href="http://www.openarchives.org/">OAI-PMH</a> [<a href="jones.html#10">10</a>].</p><h2>Open Source Development, DSpace and the Tapir</h2><p>There are various ways that open-source development can be achieved, and here we will briefly examine the model to which DSpace is attempting to adhere.</p><p>The source code is maintained in a version-controlled repository [<a href="jones.html#11">11</a>] on a publicly accessible server (there are a number of these available, but DSpace is hosted by <a href="http://sourceforge.net/">SourceForge</a> [<a href="jones.html#12">12</a>]). From this repository anyone may obtain a copy of the current source code in whatever state it is in. A number of individuals have administrative control over the versioning system, and these administrators are referred to as committers; their role is to action any changes to the core code. Only trusted developers should be given this access (by other trusted developers), and they will vet code submissions from <em>contributors</em> to see if they are ready to go into the source. Periodically a version of the source code will be declared as <em>stable</em> and it can be packaged up into an official release which can be downloaded and used by people not interested in working with the development copy.</p><p>At time of writing DSpace has yet fully to mature into this form of development, but the first steps have been taken.</p><p>The way that third-party developments such as the Tapir fit into this is as follows. First, you must be willing to work from the most bleeding edge version of the source code; this often means having some space on a development machine of your own where you can regularly build and work with the most recent version.</p><p>It is also necessary to make a decision as to the developmental model that you will use for your own software. Will you write patches to existing source code and commit the changes to the versioning system, or will you write and maintain your own software pack that can be installed onto DSpace? At Edinburgh University Library we have chosen the latter approach for a number of reasons:</p><ul><li>It was not necessarily anticipated that our developments would be of interest to the whole of the DSpace community.</li><li>The developmental model of DSpace at the time the project began was not as open as it is now.</li><li>The Tapir was primarily being developed for UK E-Theses sites, and development was not expected to move at the same speed as DSpace development.</li></ul><p>For these reasons we have created our own SourceForge project [<a href="jones.html#1">1</a>] and maintain our own source code. The question then is whether we should be using the same developmental model as DSpace? Currently we are not, since the Tapir is a Theses Alive! project outcome and we have some interest in controlling the direction of development. This is not a problem at the moment since there is little code being contributed from other sources, but we are prepared to open development of the software further if there is a demand for it, and the licence allows for the code base to be forked.</p><p>If you choose to commit software directly back to the DSpace source code then you must either have committer status with the version control system or be in direct contact with a <em>committer</em>. There are a number of mailing lists that you can join to make this possible [<a href="jones.html#13">13</a>].</p><p>To create the Tapir we chose not only to build separately from the DSpace core but also to create our own Java file package (JAR) which would ultimately be installed in the DSpace library directory alongside other third-party tools such as Lucene or the JavaMail package. The advantage of this over integrating into the DSpace source is easier installation and maintenance.</p><p>At this point a brief note on licensing is also warranted: DSpace has been released under a BSD-style licence [<a href="jones.html#14">14</a>], which is a common standard open-source licence. The Tapir has also been released under a similar licence, with agreement from the University's legal advisors, in part to ensure that future integration with DSpace is feasible.</p><h2>The Tapir</h2><p>The objective of the Tapir was, as already mentioned, to provide E-Theses functionality to DSpace. We have previously performed a comparative evaluation of two packages: see <a href="http://www.ariadne.ac.uk/issue/issue38/jones/">DSpace vs. ETD-db: Choosing software to manage electronic theses and dissertations</a> in <em>Ariadne</em> issue 38 [<a href="jones.html#15">15</a>] to see which was most suitable for our E-Theses management system. Consequently some of the shortcomings of DSpace to ETD-db [<a href="jones.html#16">16</a>] were adopted as desired features for the Tapir.</p><p>The general feature list that we had in mind was as follows:</p><ol><li>Allow supervisors to observe the work of students, to make changes, suggestions or comments prior to submission.</li><li>Collect the relevant metadata for an E-Thesis.</li><li>Allow E-Thesis metadata collection and item submission to be done separately to other research material's metadata collection.</li><li>Allow for easy identification of the type of content in the institutional repository (e.g. E-Thesis, E-Print etc).</li><li>Provide a metadata export facility for services not using OAI-PMH</li></ol><p>This is, of course, in addition to the administrative procedures that were to be developed along with the other project aims from Theses Alive!</p><p>At time of writing features 1 - 4 are well developed and 5 is in the pipeline. We now examine the way in which the first four of these features were developed in order to provide some insight into both the nature of the Tapir and the developmental methods that were employed. Later we will look at how this could have been improved both from the point of view of Tapir development and the DSpace architecture.</p><h2>Supervision Orders</h2><p>This section discusses the way in which we designed and built the supervision orders facilities, and is the longest section because it introduces most of the issues surrounding developing for DSpace, and tackles them where relevant.</p><p>The full range of functionality provided by the supervision order system is as follows:</p><ol><li>Collaborative workspace in which items that are in the process of being submitted appear in the supervisor's private workspace. This is good for integrating E-Theses into a traditional institutional repository because the supervisor can also be simultaneously authoring other documents in this workspace and be supervising more than one thesis (See Figure 8).</li><li>Tools for supervisors with insufficient privileges to edit a student's submission to be able to observe the ongoing work. This is the sort of functionality that might be required by external advisors.</li><li>Tools to allow online, recorded, communication between students and supervisors. At a later time it should be possible to decide whether these notes form an interesting part of the submission or can be discarded.</li><li>A system to administer supervision orders that provide the above functionality. This includes an authorisation tool to provide different types of supervision.</li></ol><p>To integrate this into the initial DSpace system it is necessary to understand where this functionality can be inserted. For feature 1: in DSpace there is a 'My DSpace' section from which logged-in users can manage their digital items, and this is the obvious place to insert the user interface (UI) for the functionality. In fact, in 'My DSpace' there already exists an 'In Progress Submissions' area in which items part way through submission reside while the author is logged out of the system. This is effectively<em> exactly </em>what an item in our desired collaborative workspace will be, so we can see straight away the point at which we will insert our own functionality.</p><p>The underlying object structure out of which DSpace is built models items that exist in the 'In Progress Submissions' section as 'Workspace Items' (<span class="courier">org.dspace.content.WorkspaceItem</span>) which behave slightly differently to normal items. Nonetheless, the Workspace Item is a type of Item as far as many of its properties are concerned, and this means that some operations which can be applied to items can also be applied to workspace items; for example, and important in this case, the application of authorisation policies.</p><p>Since there is nothing to prevent us making any Workspace Item visible to anyone using the application, all we need to do is provide UI tools for the collaborative workspace, then decide <em>who</em> is allowed to look at any particular Workspace Item via the authorisation policies. We therefore create a linking database table where we join EPerson Groups (collections of authenticated system users) to specific Workspace Items (See Figure 1). Manipulation of this table will be the goal of feature 4.</p><div align="center"><img alt="diagram (34KB) : Figure 1: Basic relationship between EPerson Groups and Workspace Items" src="../../images/issue41-jones/Figure1-d.jpg" border="0" height="188" width="479"><br><p class="caption">Figure 1: Basic relationship between EPerson Groups and Workspace Items</p></div><p>Now we can easily obtain, for any single EPerson's 'My DSpace', all Workspace Items with which an EPerson is associated.</p><p>We authorise the supervisors to open the item by simply applying policies using the tool developed for feature 4 above to the item from which the Workspace Item is derived. The policies that we define are as follows:</p><ul><li><strong>None </strong>- The supervisors have no authorisations concerning the workspace item. This is only useful if you intend to configure your own policies manually.</li><li><strong>Editor</strong> - The supervisors have full editorial control over the item. This gives them precisely the same authorisations as the owner of the item. This would also form the basis of a truly collaborative workspace.</li><li><strong>Observer</strong> - The supervisors may only observe the metadata and files of the item, but cannot make changes. This is the driving force behind feature 2.</li></ul><p>We can extend Figure 1 to show how all this is related inside the system, as depicted in Figure 2.</p><div align="center"><img alt="diagram (56KB) : Figure 2: Advanced relationship between Groups and Workspace Items" src="../../images/issue41-jones/Figure2-d.jpg" border="0" height="376" width="488"><br><p class="caption">Figure 2: Advanced relationship between Groups and Workspace Items</p></div><p>The fact that we can now prevent groups from editing items, whilst still giving them permission to read items, means that we must make allowances for a different sort of interface in the workspace. The obvious candidate for this is the standard item viewer in DSpace, but the problem with it is that it requires the item to have a <a href="http://www.handle.net/">handle</a> [<a href="jones.html#17">17</a>], which our workspace items do not yet possess.</p><p>In order to maintain our development model it is necessary, unfortunately, for us to duplicate a large body of DSpace code in the Tapir in order to modify some of the functionality. We make a modified copy of the item viewer that can see workspace items, but still fulfils the requirements to function within the workspace.</p><p>So we provide a basic interface for feature 2, but we must provide an entirely new area of the system for feature 3. This is relatively straightforward as we can easily deploy new <a href="http://java.sun.com/products/servlet/">servlets</a> [<a href="jones.html#18">18</a>], which are the crux of the DSpace users' interaction with the core system. In order to explain how these servlets work the notes system (Tapir v0.4) is diagrammatically explained in Figure 3:</p><div align="center"><img alt="diagram (28KB) : Figure 3: Basic representation of a specific servlet as an example of how servlets work" src="../../images/issue41-jones/Figure3-d.jpg" border="0" height="474" width="587"><br><p class="caption">Figure 3: Basic representation of a specific servlet as an example of how servlets work</p></div><p>The NotesServlet looks at the request type that the client has made, and maps it onto one of a number of operations that it can perform, runs the relevant procedures and returns the final result. This is also the general form of servlet behaviour.</p><p>The final thing that really needs explanation is how we embed these extra facilities into the DSpace application as a whole. We are fortunate to have our own set of core classes which are easily included in the DSpace library, and we have a lot of our own custom user interface components (<a href="http://java.sun.com/products/jsp/">JSPs</a> [<a href="jones.html#19">19</a>]) which stand by themselves, and are therefore also easily included in the DSpace Web application.</p><p>The core of our problem is that we wish to include access via 'My DSpace', which is part of the DSpace user interface package, and which consists of a large number of components that deal with various parts of the system. The information for the interface is pre-prepared by its servlet (<span class="courier">org.dspace.app.webui.servlet.MyDSpaceServlet</span>) before the UI components see any of the information. This, in itself, is not a bad thing; generally speaking it is essential that the user interface and the core logic of any application remain separate [<a href="jones.html#20">20</a>]. Problems arise when you wish to plug additional components into your UI without modifying any of the core code of the system.</p><p>We took the decision to maintain our code separately from the DSpace code for reasons previously discussed. The down-side is that it is then impossible to leverage core functionality in the native user interface without resorting to more obscure and less desirable methods. For example, the Tapir has to wait until DSpace has completed its business when loading the 'My DSpace' page before making a call from the Java Server Page (JSP) to a class which it needs to run before it can output its own interface sections. This is an unpleasant fix which can only be tolerated due to the fact that any other solution is contrary to our general development method and introduces potentially worse maintenance issues. Other solutions are currently being considered.</p><p>Toolkits such as Apache Cocoon exist to alleviate these problems in general, and future versions of DSpace will employ that sort of technology to make modular user interface components easier to incorporate.</p><h2>E-Thesis Metadata</h2><p>The UK recommended E-Theses metadata set [<a href="jones.html#21">21</a>] has formed the basis for the Tapir's theses submission system's metadata collection section. This metadata set was developed in collaboration with the Robert Gordon University (Electronic Theses Project [<a href="jones.html#22">22</a>]), the University of Glasgow (<a href="http://www.lib.gla.ac.uk/daedalus/">DAEDALUS</a> [<a href="jones.html#23">23</a>]) and the British Library [<a href="jones.html#24">24</a>]. Devising a new submission system for DSpace is straightforward enough, although there is a strong case to be made for redesigning the entire submission system to cater for customisable metadata (at time of writing some development has begun in this area at MIT).</p><p>The metadata set will not be discussed in detail here, but some of the more interesting recommendations are summarised in Table 1.</p><table summary="layout" align="center" border="1" cellpadding="5" width="95%"><tbody><tr><th>Field name</th><th>Element and Qualifier</th><th>Populated by</th><th>Repeatable</th><th>Required</th></tr><tr><td>Author</td><td>contributor.author</td><td>Student</td><td>No</td><td>Yes</td></tr><tr><td>Supervisor/ Advisor</td><td>contributor.advisor</td><td>Student</td><td>Yes</td><td>No</td></tr><tr><td>Institution, College, School</td><td>publisher</td><td>Default maintained by institution</td><td>Yes</td><td>Yes</td></tr><tr><td>Type, Qualification Level, Qualification Name</td><td>type</td><td>Student</td><td>No</td><td>Yes</td></tr></tbody></table><p class="caption">Table 1: Some metadata elements used in the Tapir</p><p>Of particular note is the 'Institution, College, School' element where we have provided the facilities for authority controlled values which cannot be edited by the submitter as well as free-text values that can (See Figure 4). The purpose of this is to ensure that collections can enforce the correct values for their own purposes but if awards have been obtained jointly with other institutions these can be added by the submitter.</p><div align="center"><img alt="screenshot (15KB) : Figure 4: The Institution, College and School of the submitter" src="../../images/issue41-jones/Figure4-d.jpg" border="0" height="147" width="613"><br><p class="caption">Figure 4: The Institution, College and School of the submitter</p></div><h2>E-Theses Submission System</h2><p>The E-Theses submission system has a number of objectives to fulfil:</p><ol><li>Sit alongside one or more other submission systems</li><li>Collect the metadata discussed in the previous section</li><li>Apply a multi-part licence to the item</li><li>Apply 'physical' restrictions to item access where necessary</li></ol><p>Feature 2 is relatively straightforward once you are familiar with the DSpace API (Application Programming Interface) for reading and writing metadata. All that is required is a modification of the user interface and the underlying servlet. Things only need to become more complicated if you wish to have more sophisticated elements such as our authority-controlled and simultaneously user-editable 'Institution, College, School' field.</p><p>Feature 1 is a effectively a meta-feature for this section. We need to provide a choice of one or more submission systems to be made. Currently all requests to start a submission go to DSpace's SubmitServlet (<span class="courier">org.dspace.app.webui.servlet.SubmitServlet</span>), so the obvious course of action is to replace this with something which provides all of the required interaction as well as the facility to choose between submission servlets. This includes dealing with the possibility that users may wish to start a submission from within a collection and that they may wish to suspend submission for a short period of time (where the item rests in the workspace), then resume later on. The system behaves as shown in Figure 5.</p><div align="center"><img alt="diagram (69KB) : Figure 5: Choosing and deploying a submission interface" src="../../images/issue41-jones/Figure5-d.jpg" border="0" height="256" width="561"><br><p class="caption">Figure 5: Choosing and deploying a submission interface</p></div><p>So our submit servlet (<span class="courier">ac.ed.dspace.app.webui.SelectSubmitServlet</span>) replaces the current DSpace submit servlet, takes all the same requests as the original, but processes them in a different way. It also provides additional facilities to choose between different submission engines. In this way it is possible to have arbitrarily many submission engines deployed with minor modifications of the servlet.</p><p>Substituting our servlet for the DSpace servlet is relatively straightforward, as a single configuration file maintains the mapping from requested URLs to servlets. This mapping is in a basic XML file and we replace <span class="courier">org.dspace.app.webui.servlet.SubmitServlet</span> with <span class="courier">ac.ed.dspace.app.webui.servlet.SelectSubmitServlet</span> to substitute in all of the above behaviour.</p><p>Lastly we move onto solving the licensing and restrictions features 3 and 4, which are intrinsically linked. There are two important concepts that need to be considered when dealing with this: first, that there are three parties involved in licensing (the submitter, the institution and the end-user); second, that restrictions are not necessarily absolute (they may have time or domain dependencies). We consider both of these when designing the Tapir, and the following is a description of how the multi-part licences we use work with our restriction system.</p><p>First we define three licences: a <em>deposit licence</em>, which gives the repository administrators the rights they need to hold and maintain the item; a <em>use licence</em>, which gives the end-users the rights they need to use the item in a reasonable manner; a <em>restriction licence</em>, which gives the submitter some control over the availability of the item. Implementation of these licences is site-specific but the Tapir ships with the defaults that we use at Edinburgh University Library. Next we define six restrictions that are available to depositors:</p><ul><li><strong>None </strong>- no restriction on access</li><li><strong>Domain, 1 year</strong> - restricted to institutional domain for 1 year</li><li><strong>Domain, 2 years</strong> - restricted to institutional domain for 2 years</li><li><strong>Withheld, 1 year</strong> - restricted from all for 1 year</li><li><strong>Withheld, 2 years </strong>- restricted from all for 2 years</li><li><strong>Withheld permanently</strong> - restricted from all forever</li></ul><p>The process of building the licence is described in Figure 6. All items have a deposit licence, then time-dependent licences are applied for domain-restricted and non-permanently restricted items, which then also have a restrict licence appended. For non-restricted items the simple end-user licence is <em>appended</em> instead.</p><div align="center"><img alt="diagram (31KB) : Figure 6: Procedure flow for constructing multi-part licences" src="../../images/issue41-jones/Figure6-d.jpg" border="0" height="605" width="442"><br><p class="caption">Figure 6: Procedure flow for constructing multi-part licences</p></div><p>The following is a stripped down example of a full multi-part licence submitted on 30 March 2004:</p><p class="box">=========================================================<br>Time Dependencies on this Licence<br>=========================================================<br><br>The 'Permanent Licence' contained within this file is limited in scope for 2 years. Until 30th March 2006 the licence applies only to users who exist within the University of Edinburgh domain<br><br>For all users outside ed.ac.uk (Edinburgh University) the 'Temporary Licence' contained within this file applies.<br>=========================================================<br><br>=========================================================<br>| Permanent Licence |<br>=========================================================<br><br>Standard Use Licence (e.g. Creative Commons)<br><br>=========================================================<br><br>=========================================================<br>| Temporary Licence |<br>=========================================================<br><br>Standard Restriction Licence<br><br>=========================================================<br><br>=========================================================<br>| Site Licence |<br>=========================================================<br><br>Licence Required by site to hold item<br>=========================================================</p><p>The choice of restriction also affects the way that 'physical' restrictions apply. As of Tapir v0.4 restrictions are applied automatically for all options other than domain restriction (the issues surrounding domain restriction are still under investigation at time of writing). To provide the restrictions required we simply 'withdraw' the item from the repository, allowing it to exist without being available to any users other than administrators.</p><h2>Item Type Identification</h2><p>It was identified fairly early on that academics were interested in maintaining at least some distance between theses and research papers, suggesting that in some situations theses were 'research training' and not necessarily research quality. Without commenting on this, we have chosen to make some minor modifications to the DSpace interface to ensure there is a quick and easy method of identifying all research types that enter the repository. In addition we have removed thesis supervisors from the author listings for the item, preferring instead to list them on the item metadata page instead.</p><p>In order to achieve the desired customisations it was necessary for us to replace the DSpace item listing and item metadata classes (<span class="courier">org.dspace.app.webui.jsptag.ItemListTag</span> and <span class="courier">org.dspace.app.webui.jsptag.ItemTag</span> respectively) with custom local files; these are compiled java classes with display code built in. This is not ideal as it makes localisation that bit more complex and harder to maintain. On the other hand, the tag library approach makes it easy to replace one tag with another in a single XML config file.</p><p>Our new item listing, then, simply contains an extra column displaying the item type alongside the title and authors, (authors' names have been removed), as shown in Figure 7.</p><div align="center"><img alt="screenshot (41KB) : Figure 7: An extract from our new item listing page" src="../../images/issue41-jones/Figure7-d.jpg" border="0" height="124" width="600"><br><p class="caption">Figure 7: An extract from our new item listing page</p></div><p>Correspondingly the new item metadata page copes with the E-Theses metadata set correctly, and divides up contributors into their relevant groups (authors, supervisors, advisors).</p><h2>The Edinburgh Research Archive</h2><p>To show the Tapir in a typical setting we introduce the Edinburgh Research Archive (ERA), which is an institution repository service run by Edinburgh University Library. The primary aims of ERA are to hold to outcomes of the Theses Alive! and SHERPA [<a href="jones.html#25">25</a>] projects, being E-Theses and E-Prints respectively. In addition to this, evaluation of DSpace, and thus ERA, is being conducted in contexts as diverse as learning objects and conference posters.</p><p>Currently ERA is DSpace 1.1.1 using Tapir 0.3 (along with some additional local customisations), although an upgrade to the most recent versions of these two pieces of software is imminent. Figure 8<em> </em>shows how we have integrated DSpace into the general 'look and feel' of the Library Web site, and you will notice also the 'WorkSpace', which is a product of the Tapir.</p><div align="center"><img alt="screenshot (61KB) : Figure 8: ERA User's homepage" src="../../images/issue41-jones/Figure8a.gif" border="0" height="439" width="600"><br><p class="caption">Figure 8: ERA User's homepage</p></div><p>Notice that the user is both authoring and supervising items in the same workspace, and has the same options for both items even though they are only responsible for originating one of them.</p><p>What follows now, then, are a set of screenshots of ERA, highlighting the functionality that the Tapir has added to DSpace.<em> </em>Figure 9 shows the various options available to the user in their collaborative workspace. Figure 10 shows an extract from the licence page, where users select their restriction level.<em> </em>Figure 11 shows part of the administrative interface for configuring supervision orders.</p><div align="center"><img alt="screenshot (48KB) : Figure 9: Collaborative workspace options" src="../../images/issue41-jones/Figure9a.gif" border="0" height="395" width="600"><br><p class="caption">Figure 9: Collaborative workspace options</p></div><hr size="2" width="50%"><div align="center"><img alt="screenshot (88KB) : Figure 10: The licence restriction options available to the submitter" src="../../images/issue41-jones/Figure10a.gif" border="0" height="400" width="600"><br><p class="caption">Figure 10: The licence restriction options available to the submitter</p></div><hr size="2" width="50%"><div align="center"><img alt="screenshot (67KB) : Figure 11: Administrative tools for applying supervision orders" src="../../images/issue41-jones/Figure11-d.jpg" border="0" height="387" width="600"><br><p class="caption">Figure 11: Administrative tools for applying supervision orders</p></div><h2>Cross-Version Code Maintenance</h2><p>Maintaining software that is dependent on other software, such as the Tapir, always brings with it maintenance issues. Sometimes problems arise when API changes in the host software require code changes in the agent. Other problems arise when the agent has supplanted host functionality with its own, but then host functionality has been upgraded and the agent would like to take advantage of the improvements.</p><p>Examples of both these situations can be found when considering the upgrade of DSpace from v1.1.1 to v1.2 and ensuring that the Tapir is compatible with the latter. During the development of DSpace 1.2 it was decided that upload of files to the server required additional information, and thus the operation called to achieve this was modified to use another parameter. The effect of this is that requests to upload files by the Tapir's submission system were no longer compatible with the storage layer in DSpace. On another occasion, significant functionality had been added to the default DSpace submission system to deal with HTML files and their relationships. This functionality was desirable in the Tapir, and so had to be included in the custom E-Theses and E-Prints submission systems.</p><p>Long-term solutions to these sorts of problems are difficult, although a more modular architecture would certainly be an asset for third-party developers. In addition it could be argued that some elements of DSpace are too large and not specific enough. Breaking down some of the current 'modules' would be an advantage for people only wishing to replace small areas of functionality. For example, the submission system could be split into sections: metadata, file management, licensing, verification and commitment, each of which could interoperate with the other modules. In this case, then, the Tapir would only need to override the metadata and licensing sections of the submission system.</p><p>DSpace development is proceeding towards such a modular configuration, with the ultimate goal being the 2.x architecture [<a href="jones.html#26">26</a>]. The path from the current state to the target state, though, is long and we can expect to see software such as the Tapir adapting regularly to remain current.</p><h2>Conclusion</h2><p>The Tapir has addressed most of the objectives for which it was originally specified, and the hope is that much of the code which drives it will eventually make its way into the DSpace source code. Now that DSpace 1.2 has been released, and 1.2.1 is imminent, the community-driven development effort seems to be gaining some momentum, and there may well be room for developments such as the Tapir or other work such as <a href="http://www.lib.cam.ac.uk/dspace/">DSpace@Cambridge</a> [<a href="jones.html#27">27</a>], North Carolina SILS-ETD [<a href="jones.html#28">28</a>], or <a href="http://simile.mit.edu/">SIMILE</a> [<a href="jones.html#29">29</a>] to name but a few (information on other projects is available on the <a href="http://wiki.dspace.org/">DSpace Wiki</a> [<a href="jones.html#30">30</a>]), to become part of the main source code.</p><p>The Theses Alive! project, meanwhile, draws to a close, but Edinburgh University Library has already made the decision to continue to work with DSpace, and there is the possibility that additional developments will be made along the way as uses for the software are investigated and implemented.</p><h2>References</h2><ol><li><a name="1"></a> Tapir SourceForge page: <a href="http://sourceforge.net/projects/tapir-eul/">http://sourceforge.net/projects/tapir-eul/</a></li><li><a name="2"></a> Edinburgh University Library: <a href="http://www.lib.ed.ac.uk/">http://www.lib.ed.ac.uk/</a></li><li><a name="3"></a> DSpace: <a href="http://www.dspace.org/">http://www.dspace.org/</a></li><li><a name="4"></a> Theses Alive! project home page: <a href="http://www.thesesalive.ac.uk/">http://www.thesesalive.ac.uk/</a></li><li><a name="5"></a> Joint Information Systems Committee (JISC) home page: <a href="http://www.jisc.ac.uk/">http://www.jisc.ac.uk/</a></li><li><a name="6"></a> JISC FAIR Programme: <a href="http://www.jisc.ac.uk/index.cfm?name=programme_fair">http://www.jisc.ac.uk/index.cfm?name=programme_fair</a></li><li><a name="7"></a> Edinburgh Research Archive (ERA): <a href="http://www.era.lib.ed.ac.uk/">http://www.era.lib.ed.ac.uk/</a></li><li><a name="8"></a> The HP-MIT Alliance: <a href="http://www.hpl.hp.com/mit/">http://www.hpl.hp.com/mit/</a></li><li><a name="9"></a> Lucene Java search engine: <a href="http://jakarta.apache.org/lucene/">http://jakarta.apache.org/lucene/</a></li><li><a name="10"></a> Open Archives Initiative, originators of the OAI-PMH: <a href="http://www.openarchives.org/">http://www.openarchives.org/</a></li><li><a name="11"></a> Some example versioning systems: Concurrent Versions System: <a href="https://www.cvshome.org/">https://www.cvshome.org/</a> Sub-Version: <a href="http://subversion.tigris.org/">http://subversion.tigris.org/</a></li><li><a name="12"></a> SourceForge, open-source development support: <a href="http://sourceforge.net/">http://sourceforge.net/</a></li><li><a name="13"></a> DSpace mailing lists for technical information: General Technical List:<a href="mailto:%20dspace-tech@lists.sourceforge.net"> dspace-tech@lists.sourceforge.net</a><br>Developers List: <a href="mailto:dspace-devel@lists.sourceforge.net">dspace-devel@lists.sourceforge.net</a></li><li><a name="14"></a> The Berkley Software Design licence, examples of which are available: <a href="http://www.opensource.org/licenses/bsd-license.php">http://www.opensource.org/licenses/bsd-license.php</a></li><li><a name="15"></a>DSpace vs. ETD-db: Choosing software to manage electronic theses and dissertations, January 2004, <em>Ariadne</em>, Issue 38. <a href="http://www.ariadne.ac.uk/issue38/jones/">http://www.ariadne.ac.uk/issue38/jones/</a></li><li><a name="16"></a> Virginia Tech ETD-db system: <a href="http://scholar.lib.vt.edu/ETD-db/">http://scholar.lib.vt.edu/ETD-db/</a></li><li><a name="17"></a> CNRI Handle System: <a href="http://www.handle.net/">http://www.handle.net/</a></li><li><a name="18"></a> Java Servlet Technology: <a href="http://java.sun.com/products/servlet/">http://java.sun.com/products/servlet/</a></li><li><a name="19"></a> Java Server Pages (JSP) Technology: <a href="http://java.sun.com/products/jsp/">http://java.sun.com/products/jsp/</a></li><li><a name="20"></a> Model-View-Controller pattern: <a href="http://java.sun.com/blueprints/patterns/MVC-detailed.html">http://java.sun.com/blueprints/patterns/MVC-detailed.html</a></li><li><a name="21"></a> UK Recommended E-Theses metadata set:<br><a href="http://www2.rgu.ac.uk/library/guidelines/metadata.html">http://www2.rgu.ac.uk/library/guidelines/metadata.html</a></li><li><a name="22"></a> Electronic Theses project at the Robert Gordon University: <a href="http://www2.rgu.ac.uk/library/e-theses.htm%20">http://www2.rgu.ac.uk/library/e-theses.htm </a></li><li><a name="23"></a> DAEDALUS Project, University of Glasgow: <a href="http://www.lib.gla.ac.uk/daedalus/">http://www.lib.gla.ac.uk/daedalus/</a></li><li><a name="24"></a> The British Library Theses/Dissertations: <a href="http://www.bl.uk/services/document/theses.html%20">http://www.bl.uk/services/document/theses.html </a></li><li><a name="25"></a> SHERPA Project: <a href="http://www.sherpa.ac.uk/">http://www.sherpa.ac.uk/</a></li><li><a name="26"></a> DSpace 2.x proposed architecture: <a href="http://www.dspace.org/conference/agenda.html">http://www.dspace.org/conference/agenda.html</a> and<br><a href="http://www.dspace.org/conference/presentations/architecture.ppt">http://www.dspace.org/conference/presentations/architecture.ppt</a></li><li><a name="27"></a> DSpace@Cambridge: <a href="http://www.lib.cam.ac.uk/dspace/">http://www.lib.cam.ac.uk/dspace/</a></li><li><a name="28"></a> Hemminger, B. Fox, J. Ni, M. (2004). "Improving the ETD submission process through automated author self contribution using DSpace", ETD 2004, Lexington, KY:<br><a href="http://ils.unc.edu/bmh/pubs/ETD%202004%20paper.pdf">http://ils.unc.edu/bmh/pubs/ETD%202004%20paper.pdf</a> Also see: <a href="http://etd.ils.unc.edu/">http://etd.ils.unc.edu/</a></li><li><a name="29"></a> Semantic Interoperability of Metadata and Information in unLike Environments (SIMILIE): <a href="http://simile.mit.edu/">http://simile.mit.edu/</a></li><li><a name="30"></a> DSpace Wiki: <a href="http://wiki.dspace.org/">http://wiki.dspace.org/</a></li></ol><h2>Author Details</h2><p class="authors"><a name="author1"></a> <strong>Richard Jones</strong><br>Systems Developer<br>Edinburgh University Library<br><br>Email: <a href="mailto:r.d.jones@ed.ac.uk">r.d.jones@ed.ac.uk</a><br>Web site: <a href="http://www.thesesalive.ac.uk/">http://www.thesesalive.ac.uk/</a></p><p class="right"><small><a href="jones.html#top">Return to top</a></small></p><p class="footer">Article Title: "The Tapir: Adding E-Theses Functionality to DSpace"<br>Author: Richard Jones<br>Publication Date: 30-October-2004<br>Publication: Ariadne Issue 41<br>Originating URL: http://www.ariadne.ac.uk/issue41/jones/</p>

    </div>

    <footer>
        
<a class="resp-sharing-button__link" href="https://facebook.com/sharer/sharer.php?u=http%3A%2F%2Fsharingbuttons.io" target="_blank" aria-label="Facebook">
    <div class="resp-sharing-button resp-sharing-button--facebook resp-sharing-button--medium"><div aria-hidden="true" class="resp-sharing-button__icon resp-sharing-button__icon--solidcircle">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 0C5.38 0 0 5.38 0 12s5.38 12 12 12 12-5.38 12-12S18.62 0 12 0zm3.6 11.5h-2.1v7h-3v-7h-2v-2h2V8.34c0-1.1.35-2.82 2.65-2.82h2.35v2.3h-1.4c-.25 0-.6.13-.6.66V9.5h2.34l-.24 2z"/></svg></div>Facebook</div>
</a>


<a class="resp-sharing-button__link" href="https://twitter.com/intent/tweet/?text=Super%20fast%20and%20easy%20Social%20Media%20Sharing%20Buttons.%20No%20JavaScript.%20No%20tracking.&amp;url=http%3A%2F%2Fsharingbuttons.io" target="_blank" aria-label="Twitter">
    <div class="resp-sharing-button resp-sharing-button--twitter resp-sharing-button--medium"><div aria-hidden="true" class="resp-sharing-button__icon resp-sharing-button__icon--solidcircle">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 0C5.38 0 0 5.38 0 12s5.38 12 12 12 12-5.38 12-12S18.62 0 12 0zm5.26 9.38v.34c0 3.48-2.64 7.5-7.48 7.5-1.48 0-2.87-.44-4.03-1.2 1.37.17 2.77-.2 3.9-1.08-1.16-.02-2.13-.78-2.46-1.83.38.1.8.07 1.17-.03-1.2-.24-2.1-1.3-2.1-2.58v-.05c.35.2.75.32 1.18.33-.7-.47-1.17-1.28-1.17-2.2 0-.47.13-.92.36-1.3C7.94 8.85 9.88 9.9 12.06 10c-.04-.2-.06-.4-.06-.6 0-1.46 1.18-2.63 2.63-2.63.76 0 1.44.3 1.92.82.6-.12 1.95-.27 1.95-.27-.35.53-.72 1.66-1.24 2.04z"/></svg></div>Twitter</div>
</a>


<a class="resp-sharing-button__link" href="https://plus.google.com/share?url=http%3A%2F%2Fsharingbuttons.io" target="_blank" aria-label="Google+">
    <div class="resp-sharing-button resp-sharing-button--google resp-sharing-button--medium"><div aria-hidden="true" class="resp-sharing-button__icon resp-sharing-button__icon--solidcircle">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12.65 8.6c-.02-.66-.3-1.3-.8-1.8S10.67 6 9.98 6c-.63 0-1.2.25-1.64.68-.45.44-.68 1.05-.66 1.7.02.68.3 1.32.8 1.8.96.97 2.6 1.04 3.5.14.45-.45.7-1.05.67-1.7zm-2.5 5.63c-2.14 0-3.96.95-3.96 2.1 0 1.12 1.8 2.08 3.94 2.08s3.98-.93 3.98-2.06c0-1.14-1.82-2.1-3.98-2.1z"/><path d="M12 0C5.38 0 0 5.38 0 12s5.38 12 12 12 12-5.38 12-12S18.62 0 12 0zm-1.84 19.4c-2.8 0-4.97-1.35-4.97-3.08s2.15-3.1 4.94-3.1c.84 0 1.6.14 2.28.36-.57-.4-1.25-.86-1.3-1.7-.26.06-.52.1-.8.1-.95 0-1.87-.38-2.57-1.08-.67-.68-1.06-1.55-1.1-2.48-.02-.94.32-1.8.96-2.45.65-.63 1.5-.93 2.4-.92V5h3.95v1h-1.53l.12.1c.67.67 1.06 1.55 1.1 2.48.02.93-.32 1.8-.97 2.45-.16.15-.33.3-.5.4-.2.6.05.8.83 1.33.9.6 2.1 1.42 2.1 3.56 0 1.73-2.17 3.1-4.96 3.1zM20 10h-2v2h-1v-2h-2V9h2V7h1v2h2v1z"/></svg></div>Google+</div>
</a>


<a class="resp-sharing-button__link" href="mailto:?subject=Super%20fast%20and%20easy%20Social%20Media%20Sharing%20Buttons.%20No%20JavaScript.%20No%20tracking.&amp;body=http%3A%2F%2Fsharingbuttons.io" target="_self" aria-label="E-Mail">
    <div class="resp-sharing-button resp-sharing-button--email resp-sharing-button--medium"><div aria-hidden="true" class="resp-sharing-button__icon resp-sharing-button__icon--solidcircle">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 0C5.38 0 0 5.38 0 12s5.38 12 12 12 12-5.38 12-12S18.62 0 12 0zm8 16c0 1.1-.9 2-2 2H6c-1.1 0-2-.9-2-2V8c0-1.1.9-2 2-2h12c1.1 0 2 .9 2 2v8z"/><path d="M17.9 8.18c-.2-.2-.5-.24-.72-.07L12 12.38 6.82 8.1c-.22-.16-.53-.13-.7.08s-.15.53.06.7l3.62 2.97-3.57 2.23c-.23.14-.3.45-.15.7.1.14.25.22.42.22.1 0 .18-.02.27-.08l3.85-2.4 1.06.87c.1.04.2.1.32.1s.23-.06.32-.1l1.06-.9 3.86 2.4c.08.06.17.1.26.1.17 0 .33-.1.42-.25.15-.24.08-.55-.15-.7l-3.57-2.22 3.62-2.96c.2-.2.24-.5.07-.72z"/></svg></div>E-Mail</div>
</a>


<a class="resp-sharing-button__link" href="https://pinterest.com/pin/create/button/?url=http%3A%2F%2Fsharingbuttons.io&amp;media=http%3A%2F%2Fsharingbuttons.io&amp;description=Super%20fast%20and%20easy%20Social%20Media%20Sharing%20Buttons.%20No%20JavaScript.%20No%20tracking." target="_blank" aria-label="Pinterest">
    <div class="resp-sharing-button resp-sharing-button--pinterest resp-sharing-button--medium"><div aria-hidden="true" class="resp-sharing-button__icon resp-sharing-button__icon--solidcircle">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 0C5.38 0 0 5.38 0 12s5.38 12 12 12 12-5.38 12-12S18.62 0 12 0zm1.4 15.56c-1 0-1.94-.53-2.25-1.14l-.65 2.52c-.4 1.45-1.57 2.9-1.66 3-.06.1-.2.07-.22-.04-.02-.2-.32-2 .03-3.5l1.18-5s-.3-.6-.3-1.46c0-1.36.8-2.37 1.78-2.37.85 0 1.25.62 1.25 1.37 0 .85-.53 2.1-.8 3.27-.24.98.48 1.78 1.44 1.78 1.73 0 2.9-2.24 2.9-4.9 0-2-1.35-3.5-3.82-3.5-2.8 0-4.53 2.07-4.53 4.4 0 .5.1.9.25 1.23l-1.5.82c-.36-.64-.54-1.43-.54-2.28 0-2.6 2.2-5.74 6.57-5.74 3.5 0 5.82 2.54 5.82 5.27 0 3.6-2 6.3-4.96 6.3z"/></svg></div>Pinterest</div>
</a>


<a class="resp-sharing-button__link" href="https://www.linkedin.com/shareArticle?mini=true&amp;url=http%3A%2F%2Fsharingbuttons.io&amp;title=Super%20fast%20and%20easy%20Social%20Media%20Sharing%20Buttons.%20No%20JavaScript.%20No%20tracking.&amp;summary=Super%20fast%20and%20easy%20Social%20Media%20Sharing%20Buttons.%20No%20JavaScript.%20No%20tracking.&amp;source=http%3A%2F%2Fsharingbuttons.io" target="_blank" aria-label="LinkedIn">
    <div class="resp-sharing-button resp-sharing-button--linkedin resp-sharing-button--medium"><div aria-hidden="true" class="resp-sharing-button__icon resp-sharing-button__icon--solidcircle">
    <svg version="1.1" x="0px" y="0px" width="24px" height="24px" viewBox="0 0 24 24" enable-background="new 0 0 24 24" xml:space="preserve">
    <path d="M12,0C5.383,0,0,5.383,0,12s5.383,12,12,12s12-5.383,12-12S18.617,0,12,0z M9.5,16.5h-2v-7h2V16.5z M8.5,7.5 c-0.553,0-1-0.448-1-1c0-0.552,0.447-1,1-1s1,0.448,1,1C9.5,7.052,9.053,7.5,8.5,7.5z M18.5,16.5h-3V13c0-0.277-0.225-0.5-0.5-0.5 c-0.276,0-0.5,0.223-0.5,0.5v3.5h-3c0,0,0.031-6.478,0-7h3v0.835c0,0,0.457-0.753,1.707-0.753c1.55,0,2.293,1.12,2.293,3.296V16.5z" />
    </svg></div>LinkedIn</div>
</a>


    </footer>
</article>

        <footer>
            <p>Ariadne is published by <a href="http://www.lboro.ac.uk/library/" target="_blank">Loughborough University Library</a></p>
            <p>&copy; Ariadne ISSN: 1361-3200. See our explanations of <a href="../../about/copyright.html" title="Explanation of Access Terms and Copyright">Access Terms and Copyright</a> and <a href="../../privacy-statement.html">Privacy Statement</a>.</p>
        </footer>
    </body>
</html>

