<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
	<head>
		<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />

		<title>The Code4Lib Journal &#8211; Automated Metadata Formatting for Cornell&#8217;s Print-on-Demand Books</title>

		<meta name="viewport" content="width=device-width, initial-scale=1" />
		<meta name="generator" content="WordPress 6.8.1" /> <!-- leave this for stats -->
    <link rel="shortcut icon" href="../wp-content/themes/c4lj-theme/images/favicon.ico" />
		<link rel="stylesheet" href="../wp-content/themes/c4lj-theme/style.css" type="text/css" media="screen, print" />
		<!--[if lte IE 7]>
		<link rel="stylesheet" href="https://journal.code4lib.org/wp-content/themes/c4lj-theme/fix-ie7.css" type="text/css" media="screen" />
		<![endif]-->
		<!--[if lte IE 6]>
		<link rel="stylesheet" href="https://journal.code4lib.org/wp-content/themes/c4lj-theme/fix-ie6.css" type="text/css" media="screen" />
		<![endif]-->
		<link rel="stylesheet" href="../wp-content/themes/c4lj-theme/print.css" type="text/css" media="print" />
		<link rel="alternate" type="application/rss+xml" title="The Code4Lib Journal Syndication Feed" href="http://feeds.feedburner.com/c4lj" />
		<link rel="pingback" href="https://journal.code4lib.org/xmlrpc.php" />

<!-- Google Scholar Stuff -->
	<meta name="citation_title" content="Automated Metadata Formatting for Cornell&#8217;s Print-on-Demand Books">
 <meta name="citation_author" content="Dianne Dietrich">
<meta name="citation_publication_date" content="2009/11/23">
	<meta name="citation_journal_title" content="Code4Lib Journal">
		<meta name="citation_issue" content="8">
<!-- end  Google Scholar Stuff -->

<meta name='robots' content='max-image-preview:large' />
	<style>img:is([sizes="auto" i], [sizes^="auto," i]) { contain-intrinsic-size: 3000px 1500px }</style>
	<link rel="alternate" type="application/rss+xml" title="The Code4Lib Journal &raquo; Automated Metadata Formatting for Cornell&#8217;s Print-on-Demand Books Comments Feed" href="2138/feed" />
<script type="text/javascript">
/* <![CDATA[ */
window._wpemojiSettings = {"baseUrl":"https:\/\/s.w.org\/images\/core\/emoji\/15.1.0\/72x72\/","ext":".png","svgUrl":"https:\/\/s.w.org\/images\/core\/emoji\/15.1.0\/svg\/","svgExt":".svg","source":{"concatemoji":"https:\/\/journal.code4lib.org\/wp-includes\/js\/wp-emoji-release.min.js?ver=6.8.1"}};
/*! This file is auto-generated */
!function(i,n){var o,s,e;function c(e){try{var t={supportTests:e,timestamp:(new Date).valueOf()};sessionStorage.setItem(o,JSON.stringify(t))}catch(e){}}function p(e,t,n){e.clearRect(0,0,e.canvas.width,e.canvas.height),e.fillText(t,0,0);var t=new Uint32Array(e.getImageData(0,0,e.canvas.width,e.canvas.height).data),r=(e.clearRect(0,0,e.canvas.width,e.canvas.height),e.fillText(n,0,0),new Uint32Array(e.getImageData(0,0,e.canvas.width,e.canvas.height).data));return t.every(function(e,t){return e===r[t]})}function u(e,t,n){switch(t){case"flag":return n(e,"\ud83c\udff3\ufe0f\u200d\u26a7\ufe0f","\ud83c\udff3\ufe0f\u200b\u26a7\ufe0f")?!1:!n(e,"\ud83c\uddfa\ud83c\uddf3","\ud83c\uddfa\u200b\ud83c\uddf3")&&!n(e,"\ud83c\udff4\udb40\udc67\udb40\udc62\udb40\udc65\udb40\udc6e\udb40\udc67\udb40\udc7f","\ud83c\udff4\u200b\udb40\udc67\u200b\udb40\udc62\u200b\udb40\udc65\u200b\udb40\udc6e\u200b\udb40\udc67\u200b\udb40\udc7f");case"emoji":return!n(e,"\ud83d\udc26\u200d\ud83d\udd25","\ud83d\udc26\u200b\ud83d\udd25")}return!1}function f(e,t,n){var r="undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope?new OffscreenCanvas(300,150):i.createElement("canvas"),a=r.getContext("2d",{willReadFrequently:!0}),o=(a.textBaseline="top",a.font="600 32px Arial",{});return e.forEach(function(e){o[e]=t(a,e,n)}),o}function t(e){var t=i.createElement("script");t.src=e,t.defer=!0,i.head.appendChild(t)}"undefined"!=typeof Promise&&(o="wpEmojiSettingsSupports",s=["flag","emoji"],n.supports={everything:!0,everythingExceptFlag:!0},e=new Promise(function(e){i.addEventListener("DOMContentLoaded",e,{once:!0})}),new Promise(function(t){var n=function(){try{var e=JSON.parse(sessionStorage.getItem(o));if("object"==typeof e&&"number"==typeof e.timestamp&&(new Date).valueOf()<e.timestamp+604800&&"object"==typeof e.supportTests)return e.supportTests}catch(e){}return null}();if(!n){if("undefined"!=typeof Worker&&"undefined"!=typeof OffscreenCanvas&&"undefined"!=typeof URL&&URL.createObjectURL&&"undefined"!=typeof Blob)try{var e="postMessage("+f.toString()+"("+[JSON.stringify(s),u.toString(),p.toString()].join(",")+"));",r=new Blob([e],{type:"text/javascript"}),a=new Worker(URL.createObjectURL(r),{name:"wpTestEmojiSupports"});return void(a.onmessage=function(e){c(n=e.data),a.terminate(),t(n)})}catch(e){}c(n=f(s,u,p))}t(n)}).then(function(e){for(var t in e)n.supports[t]=e[t],n.supports.everything=n.supports.everything&&n.supports[t],"flag"!==t&&(n.supports.everythingExceptFlag=n.supports.everythingExceptFlag&&n.supports[t]);n.supports.everythingExceptFlag=n.supports.everythingExceptFlag&&!n.supports.flag,n.DOMReady=!1,n.readyCallback=function(){n.DOMReady=!0}}).then(function(){return e}).then(function(){var e;n.supports.everything||(n.readyCallback(),(e=n.source||{}).concatemoji?t(e.concatemoji):e.wpemoji&&e.twemoji&&(t(e.twemoji),t(e.wpemoji)))}))}((window,document),window._wpemojiSettings);
/* ]]> */
</script>
<style id='wp-emoji-styles-inline-css' type='text/css'>

	img.wp-smiley, img.emoji {
		display: inline !important;
		border: none !important;
		box-shadow: none !important;
		height: 1em !important;
		width: 1em !important;
		margin: 0 0.07em !important;
		vertical-align: -0.1em !important;
		background: none !important;
		padding: 0 !important;
	}
</style>
<link rel='stylesheet' id='wp-block-library-css' href='../wp-includes/css/dist/block-library/style.min.css%3Fver=6.8.1.css' type='text/css' media='all' />
<style id='classic-theme-styles-inline-css' type='text/css'>
/*! This file is auto-generated */
.wp-block-button__link{color:#fff;background-color:#32373c;border-radius:9999px;box-shadow:none;text-decoration:none;padding:calc(.667em + 2px) calc(1.333em + 2px);font-size:1.125em}.wp-block-file__button{background:#32373c;color:#fff;text-decoration:none}
</style>
<style id='global-styles-inline-css' type='text/css'>
:root{--wp--preset--aspect-ratio--square: 1;--wp--preset--aspect-ratio--4-3: 4/3;--wp--preset--aspect-ratio--3-4: 3/4;--wp--preset--aspect-ratio--3-2: 3/2;--wp--preset--aspect-ratio--2-3: 2/3;--wp--preset--aspect-ratio--16-9: 16/9;--wp--preset--aspect-ratio--9-16: 9/16;--wp--preset--color--black: #000000;--wp--preset--color--cyan-bluish-gray: #abb8c3;--wp--preset--color--white: #ffffff;--wp--preset--color--pale-pink: #f78da7;--wp--preset--color--vivid-red: #cf2e2e;--wp--preset--color--luminous-vivid-orange: #ff6900;--wp--preset--color--luminous-vivid-amber: #fcb900;--wp--preset--color--light-green-cyan: #7bdcb5;--wp--preset--color--vivid-green-cyan: #00d084;--wp--preset--color--pale-cyan-blue: #8ed1fc;--wp--preset--color--vivid-cyan-blue: #0693e3;--wp--preset--color--vivid-purple: #9b51e0;--wp--preset--gradient--vivid-cyan-blue-to-vivid-purple: linear-gradient(135deg,rgba(6,147,227,1) 0%,rgb(155,81,224) 100%);--wp--preset--gradient--light-green-cyan-to-vivid-green-cyan: linear-gradient(135deg,rgb(122,220,180) 0%,rgb(0,208,130) 100%);--wp--preset--gradient--luminous-vivid-amber-to-luminous-vivid-orange: linear-gradient(135deg,rgba(252,185,0,1) 0%,rgba(255,105,0,1) 100%);--wp--preset--gradient--luminous-vivid-orange-to-vivid-red: linear-gradient(135deg,rgba(255,105,0,1) 0%,rgb(207,46,46) 100%);--wp--preset--gradient--very-light-gray-to-cyan-bluish-gray: linear-gradient(135deg,rgb(238,238,238) 0%,rgb(169,184,195) 100%);--wp--preset--gradient--cool-to-warm-spectrum: linear-gradient(135deg,rgb(74,234,220) 0%,rgb(151,120,209) 20%,rgb(207,42,186) 40%,rgb(238,44,130) 60%,rgb(251,105,98) 80%,rgb(254,248,76) 100%);--wp--preset--gradient--blush-light-purple: linear-gradient(135deg,rgb(255,206,236) 0%,rgb(152,150,240) 100%);--wp--preset--gradient--blush-bordeaux: linear-gradient(135deg,rgb(254,205,165) 0%,rgb(254,45,45) 50%,rgb(107,0,62) 100%);--wp--preset--gradient--luminous-dusk: linear-gradient(135deg,rgb(255,203,112) 0%,rgb(199,81,192) 50%,rgb(65,88,208) 100%);--wp--preset--gradient--pale-ocean: linear-gradient(135deg,rgb(255,245,203) 0%,rgb(182,227,212) 50%,rgb(51,167,181) 100%);--wp--preset--gradient--electric-grass: linear-gradient(135deg,rgb(202,248,128) 0%,rgb(113,206,126) 100%);--wp--preset--gradient--midnight: linear-gradient(135deg,rgb(2,3,129) 0%,rgb(40,116,252) 100%);--wp--preset--font-size--small: 13px;--wp--preset--font-size--medium: 20px;--wp--preset--font-size--large: 36px;--wp--preset--font-size--x-large: 42px;--wp--preset--spacing--20: 0.44rem;--wp--preset--spacing--30: 0.67rem;--wp--preset--spacing--40: 1rem;--wp--preset--spacing--50: 1.5rem;--wp--preset--spacing--60: 2.25rem;--wp--preset--spacing--70: 3.38rem;--wp--preset--spacing--80: 5.06rem;--wp--preset--shadow--natural: 6px 6px 9px rgba(0, 0, 0, 0.2);--wp--preset--shadow--deep: 12px 12px 50px rgba(0, 0, 0, 0.4);--wp--preset--shadow--sharp: 6px 6px 0px rgba(0, 0, 0, 0.2);--wp--preset--shadow--outlined: 6px 6px 0px -3px rgba(255, 255, 255, 1), 6px 6px rgba(0, 0, 0, 1);--wp--preset--shadow--crisp: 6px 6px 0px rgba(0, 0, 0, 1);}:where(.is-layout-flex){gap: 0.5em;}:where(.is-layout-grid){gap: 0.5em;}body .is-layout-flex{display: flex;}.is-layout-flex{flex-wrap: wrap;align-items: center;}.is-layout-flex > :is(*, div){margin: 0;}body .is-layout-grid{display: grid;}.is-layout-grid > :is(*, div){margin: 0;}:where(.wp-block-columns.is-layout-flex){gap: 2em;}:where(.wp-block-columns.is-layout-grid){gap: 2em;}:where(.wp-block-post-template.is-layout-flex){gap: 1.25em;}:where(.wp-block-post-template.is-layout-grid){gap: 1.25em;}.has-black-color{color: var(--wp--preset--color--black) !important;}.has-cyan-bluish-gray-color{color: var(--wp--preset--color--cyan-bluish-gray) !important;}.has-white-color{color: var(--wp--preset--color--white) !important;}.has-pale-pink-color{color: var(--wp--preset--color--pale-pink) !important;}.has-vivid-red-color{color: var(--wp--preset--color--vivid-red) !important;}.has-luminous-vivid-orange-color{color: var(--wp--preset--color--luminous-vivid-orange) !important;}.has-luminous-vivid-amber-color{color: var(--wp--preset--color--luminous-vivid-amber) !important;}.has-light-green-cyan-color{color: var(--wp--preset--color--light-green-cyan) !important;}.has-vivid-green-cyan-color{color: var(--wp--preset--color--vivid-green-cyan) !important;}.has-pale-cyan-blue-color{color: var(--wp--preset--color--pale-cyan-blue) !important;}.has-vivid-cyan-blue-color{color: var(--wp--preset--color--vivid-cyan-blue) !important;}.has-vivid-purple-color{color: var(--wp--preset--color--vivid-purple) !important;}.has-black-background-color{background-color: var(--wp--preset--color--black) !important;}.has-cyan-bluish-gray-background-color{background-color: var(--wp--preset--color--cyan-bluish-gray) !important;}.has-white-background-color{background-color: var(--wp--preset--color--white) !important;}.has-pale-pink-background-color{background-color: var(--wp--preset--color--pale-pink) !important;}.has-vivid-red-background-color{background-color: var(--wp--preset--color--vivid-red) !important;}.has-luminous-vivid-orange-background-color{background-color: var(--wp--preset--color--luminous-vivid-orange) !important;}.has-luminous-vivid-amber-background-color{background-color: var(--wp--preset--color--luminous-vivid-amber) !important;}.has-light-green-cyan-background-color{background-color: var(--wp--preset--color--light-green-cyan) !important;}.has-vivid-green-cyan-background-color{background-color: var(--wp--preset--color--vivid-green-cyan) !important;}.has-pale-cyan-blue-background-color{background-color: var(--wp--preset--color--pale-cyan-blue) !important;}.has-vivid-cyan-blue-background-color{background-color: var(--wp--preset--color--vivid-cyan-blue) !important;}.has-vivid-purple-background-color{background-color: var(--wp--preset--color--vivid-purple) !important;}.has-black-border-color{border-color: var(--wp--preset--color--black) !important;}.has-cyan-bluish-gray-border-color{border-color: var(--wp--preset--color--cyan-bluish-gray) !important;}.has-white-border-color{border-color: var(--wp--preset--color--white) !important;}.has-pale-pink-border-color{border-color: var(--wp--preset--color--pale-pink) !important;}.has-vivid-red-border-color{border-color: var(--wp--preset--color--vivid-red) !important;}.has-luminous-vivid-orange-border-color{border-color: var(--wp--preset--color--luminous-vivid-orange) !important;}.has-luminous-vivid-amber-border-color{border-color: var(--wp--preset--color--luminous-vivid-amber) !important;}.has-light-green-cyan-border-color{border-color: var(--wp--preset--color--light-green-cyan) !important;}.has-vivid-green-cyan-border-color{border-color: var(--wp--preset--color--vivid-green-cyan) !important;}.has-pale-cyan-blue-border-color{border-color: var(--wp--preset--color--pale-cyan-blue) !important;}.has-vivid-cyan-blue-border-color{border-color: var(--wp--preset--color--vivid-cyan-blue) !important;}.has-vivid-purple-border-color{border-color: var(--wp--preset--color--vivid-purple) !important;}.has-vivid-cyan-blue-to-vivid-purple-gradient-background{background: var(--wp--preset--gradient--vivid-cyan-blue-to-vivid-purple) !important;}.has-light-green-cyan-to-vivid-green-cyan-gradient-background{background: var(--wp--preset--gradient--light-green-cyan-to-vivid-green-cyan) !important;}.has-luminous-vivid-amber-to-luminous-vivid-orange-gradient-background{background: var(--wp--preset--gradient--luminous-vivid-amber-to-luminous-vivid-orange) !important;}.has-luminous-vivid-orange-to-vivid-red-gradient-background{background: var(--wp--preset--gradient--luminous-vivid-orange-to-vivid-red) !important;}.has-very-light-gray-to-cyan-bluish-gray-gradient-background{background: var(--wp--preset--gradient--very-light-gray-to-cyan-bluish-gray) !important;}.has-cool-to-warm-spectrum-gradient-background{background: var(--wp--preset--gradient--cool-to-warm-spectrum) !important;}.has-blush-light-purple-gradient-background{background: var(--wp--preset--gradient--blush-light-purple) !important;}.has-blush-bordeaux-gradient-background{background: var(--wp--preset--gradient--blush-bordeaux) !important;}.has-luminous-dusk-gradient-background{background: var(--wp--preset--gradient--luminous-dusk) !important;}.has-pale-ocean-gradient-background{background: var(--wp--preset--gradient--pale-ocean) !important;}.has-electric-grass-gradient-background{background: var(--wp--preset--gradient--electric-grass) !important;}.has-midnight-gradient-background{background: var(--wp--preset--gradient--midnight) !important;}.has-small-font-size{font-size: var(--wp--preset--font-size--small) !important;}.has-medium-font-size{font-size: var(--wp--preset--font-size--medium) !important;}.has-large-font-size{font-size: var(--wp--preset--font-size--large) !important;}.has-x-large-font-size{font-size: var(--wp--preset--font-size--x-large) !important;}
:where(.wp-block-post-template.is-layout-flex){gap: 1.25em;}:where(.wp-block-post-template.is-layout-grid){gap: 1.25em;}
:where(.wp-block-columns.is-layout-flex){gap: 2em;}:where(.wp-block-columns.is-layout-grid){gap: 2em;}
:root :where(.wp-block-pullquote){font-size: 1.5em;line-height: 1.6;}
</style>
<style id='akismet-widget-style-inline-css' type='text/css'>

			.a-stats {
				--akismet-color-mid-green: #357b49;
				--akismet-color-white: #fff;
				--akismet-color-light-grey: #f6f7f7;

				max-width: 350px;
				width: auto;
			}

			.a-stats * {
				all: unset;
				box-sizing: border-box;
			}

			.a-stats strong {
				font-weight: 600;
			}

			.a-stats a.a-stats__link,
			.a-stats a.a-stats__link:visited,
			.a-stats a.a-stats__link:active {
				background: var(--akismet-color-mid-green);
				border: none;
				box-shadow: none;
				border-radius: 8px;
				color: var(--akismet-color-white);
				cursor: pointer;
				display: block;
				font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', 'Oxygen-Sans', 'Ubuntu', 'Cantarell', 'Helvetica Neue', sans-serif;
				font-weight: 500;
				padding: 12px;
				text-align: center;
				text-decoration: none;
				transition: all 0.2s ease;
			}

			/* Extra specificity to deal with TwentyTwentyOne focus style */
			.widget .a-stats a.a-stats__link:focus {
				background: var(--akismet-color-mid-green);
				color: var(--akismet-color-white);
				text-decoration: none;
			}

			.a-stats a.a-stats__link:hover {
				filter: brightness(110%);
				box-shadow: 0 4px 12px rgba(0, 0, 0, 0.06), 0 0 2px rgba(0, 0, 0, 0.16);
			}

			.a-stats .count {
				color: var(--akismet-color-white);
				display: block;
				font-size: 1.5em;
				line-height: 1.4;
				padding: 0 13px;
				white-space: nowrap;
			}
		
</style>
<link rel="https://api.w.org/" href="../wp-json/index.html" /><link rel="alternate" title="JSON" type="application/json" href="../wp-json/wp/v2/posts/2138" /><link rel="EditURI" type="application/rsd+xml" title="RSD" href="https://journal.code4lib.org/xmlrpc.php?rsd" />
<link rel="canonical" href="../index.html%3Fp=2138.html" />
<link rel='shortlink' href='../index.html%3Fp=2138.html' />
<link rel="alternate" title="oEmbed (JSON)" type="application/json+oembed" href="../wp-json/oembed/1.0/embed%3Furl=https:%252F%252Fjournal.code4lib.org%252Farticles%252F2138" />
<link rel="alternate" title="oEmbed (XML)" type="text/xml+oembed" href="../wp-json/oembed/1.0/embed%3Furl=https:%252F%252Fjournal.code4lib.org%252Farticles%252F2138&amp;format=xml" />
<style>
@media all and (max-width : 768px) {
.syntaxhighlighter a, .syntaxhighlighter div, .syntaxhighlighter code, .syntaxhighlighter table, .syntaxhighlighter table td, .syntaxhighlighter table tr, .syntaxhighlighter table tbody, .syntaxhighlighter table thead, .syntaxhighlighter table caption, .syntaxhighlighter textarea
{
	font-size: 0.95em !important;
}
}
</style>
	</head>
	<body>
		<div id="page">
			<div id="header">
				<div id="headerbackground">
					<h1><a href="../index.html"><img src="../wp-content/themes/c4lj-theme/images/logo.png" alt="The Code4Lib Journal" /></a></h1>
				</div>
				<div id="about">
					<ul>
						<li class="page_item page-item-5"><a href="../index.html%3Fp=5.html">Mission</a></li>
<li class="page_item page-item-6"><a href="../editorial-committee/index.html">Editorial Committee</a></li>
<li class="page_item page-item-8"><a href="../process/index.html">Process and Structure</a></li>
						<li><a href="http://code4lib.org/">Code4Lib</a></li>
					</ul>
				</div>
				<div class="mobile-search">
					<form method="get" id="searchform" action="../index.html">
						<div>
							<input type="text" value="" aria-labelledby="searchsubmit" name="s" id="s" />
							<input type="submit" value="Search" id="searchsubmit" />
						</div>
					</form>
				</div>
			</div>

			<div id="content">
								<div class="article" id="post-2138">
					<p id="issueDesignation"><a href="../issues/issues/issue8.html">Issue 8, 2009-11-23</a></p>
					<h1 class="articletitle">Automated Metadata Formatting for Cornell&#8217;s Print-on-Demand Books</h1>
					<div class="abstract">
						<p>Cornell University Library has made Print-On Demand (POD) books available for many of its digitized out-of-copyright books. The printer must be supplied with metadata from the MARC bibliographic record in order to produce book covers. Although the names of authors are present in MARC records, they are given in an inverted order suitable for alphabetical filing rather than the natural order that is desirable for book covers. This article discusses a process for parsing and manipulating the MARC author strings to identify their various component parts and to create natural order strings. In particular, the article focuses on processing non-name information in author strings, such as titles that were commonly used in older works, e.g., baron or earl, and suffixes appended to names, e.g., &#8220;of Bolsena.&#8221; Relevant patterns are identified and a Python script is used to manipulate the author name strings.</p>
					</div>
					<div class="entry">
						<p>By Dianne Dietrich</p>
<h2>Background</h2>
<p>Cornell University Library has made 90,000 of its digitized books available as Print-on-Demand books through both its internal bookstore and Amazon.com [<a id="ref1" href="../index.html%3Fp=2138.html#note1">1</a>]. Other libraries have also offered, or are preparing to offer, their digitized public domain works as Print-on-Demand books.</p>
<p>A Print-on-Demand book is, essentially, a physical object created from multiple digital sources&#8211;the digitized version of the original physical object and the metadata from the online catalog. The final new physical book should maintain the logical consistency of the original physical book: all of the pages should be in order, and the author&#8217;s name on the front cover should look like the author&#8217;s actual name.</p>
<p>This is reasonably easy to accomplish. Our Print-on-Demand book candidates are all out of copyright and in the public domain, so most are quite old. Some of these authors have titles attached to their names that aren&#8217;t commonly seen anymore, such as Count, Earl, and Duchess. These authors are all in our catalog in an order that makes complete sense for cataloging our holdings, but not for displaying on the front cover of a book.</p>
<p>In order to prepare our Print-on-Demand books, we had to create a comprehensive list of bibliographic identifiers, titles, and authors. We needed to identify the following fields for each author string&#8211;title, first name, middle name, last name, suffix, and contributor. It was not always immediately apparent from our catalog metadata which parts of the author string were associated with which of these fields.</p>
<p>To begin the processes of formatting the metadata, we first extracted bibliographic information from our catalog. For each work we were making available, we pulled the necessary identifiers, title information, and the author string. Some author names were in the form &#8220;Surname, Forename,&#8221; which made identifying their component parts straightforward. Other names were less straightforward. A sampling of the more complex author strings (as they were stored in the appropriate column of our spreadsheet) is listed below:</p>
<ol>
<li id="ex1">Christina, of Bolsena, Saint</li>
<li id="ex2">Liljencrants, Johan, Baron</li>
<li id="ex3">Lennox, William Pitt, Lord</li>
<li id="ex4">Stanhope, Charles Stanhope, Earl</li>
<li id="ex5">Collingwood, Cuthbert Collingwood, Baron</li>
<li id="ex6">Campbell, John Campbell, Baron</li>
<li id="ex7">Iddesleigh, Stafford Henry Northcote, Earl of</li>
<li id="ex8">Sandwich, Edward George Henry Montagu, 8th earl of</li>
<li id="ex9">Brown, William, of Montreal</li>
<li id="ex10">George, William, of the St. Paul bar</li>
<li id="ex11">The Players, New York</li>
<li id="ex12">Nathan, Nathaniel, Sir</li>
<li id="ex13">Carriel, Mary Turner, Mrs.</li>
<li id="ex14">Hanson, John Wesley, Jr.</li>
<li id="ex15">University of California, Berkeley.</li>
<li id="ex16">Clarke, John, lecturer in University of Aberdeen.</li>
<li id="ex17">Monkswell, Robert Alfred Hardcastle Collier, 3d baron</li>
<li id="ex18">Moulton, John Fletcher Moulton, 1st baron</li>
</ol>
<p>Many of these strings have three component parts to them, so it was reasonable to assume that they were of the form &#8220;Surname, Forename, Title.&#8221;  The author strings for Baron Johan Liljencrants and Lord William Pitt Lenox (lines <a href="../index.html%3Fp=2138.html#ex2">2</a> and <a href="../index.html%3Fp=2138.html#ex3">3</a>) follow this pattern. When we split these strings on the commas, we found ourselves with the following substrings.</p>
<table border="1" cellspacing="0" cellpadding="0">
<tbody>
<tr>
<td width="91" valign="top">Liljencrants</td>
<td width="90" valign="top">Johan</td>
<td width="60" valign="top">Baron</td>
</tr>
<tr>
<td width="91" valign="top">Lennox</td>
<td width="90" valign="top">William Pitt</td>
<td width="60" valign="top">Lord</td>
</tr>
</tbody>
</table>
<p>It was then simple to identify the component parts and reorder these substrings appropriately. The third substring was the title, and should be positioned before the forename and the surname.</p>
<p>We ran into problems very quickly, though. Many of the author strings with three component parts included a suffix, rather than a title. We could no longer assume that the third substring should be placed in front of the forename and surname. The author string for John Wesley Hanson, Jr. (line <a href="../index.html%3Fp=2138.html#ex14">14</a>) is an example of this.</p>
<p>We soon realized that our task was much more complicated than compiling a list of suffixes and titles, assigning the third substring to the appropriate field, and positioning it accordingly. Many of the author strings that had three component parts were unexpectedly complicated and required different parsing rules altogether. The author string for Earl Charles Stanhope (line <a href="../index.html%3Fp=2138.html#ex4">4</a>) was one example of an author string (with three component parts) that required extra attention. The three component parts of the string were not in the order we were expecting.</p>
<table border="1" cellspacing="0" cellpadding="0">
<tbody>
<tr>
<td width="79" valign="top">Stanhope</td>
<td width="126" valign="top">Charles Stanhope</td>
<td width="48" valign="top">Earl</td>
</tr>
</tbody>
</table>
<p>When we assumed that this string followed a &#8220;Surname, Forename, Title&#8221; pattern and tried to reorder it, the result was &#8220;Earl Charles Stanhope Stanhope.&#8221; In this case, the first &#8220;Stanhope&#8221; was actually part of the title and is not a surname, as it was probably meant to read something like, &#8220;Earl Stanhope, Charles Stanhope.&#8221;</p>
<p>Saint names were even more complicated to reconstruct. One example is the author string for Saint Christina of Bolsena (line <a href="../index.html%3Fp=2138.html#ex1">1</a>). When we split the author string on commas, we had three distinct parts to the name.</p>
<table border="1" cellspacing="0" cellpadding="0">
<tbody>
<tr>
<td width="68" valign="top">Christina</td>
<td width="83" valign="top">of Bolsena</td>
<td width="54" valign="top">Saint</td>
</tr>
</tbody>
</table>
<p>Again, when we assumed a &#8220;Surname, Forename, Title&#8221; pattern, and then tried to reorder the string, we ended up with &#8220;Saint of Bolsena Christina.&#8221; We clearly needed different rules for parsing this string, because in this case, while &#8220;Saint&#8221; was a title, &#8220;of Bolsena&#8221; was a suffix.</p>
<p>Manual reconfiguration of all of these author names was impractical, as we were dealing with tens of thousands of records. We decided to create a script capable of parsing as many author string variations as possible. We first identified the types of reconfigurations we were likely to encounter. Next, we worked on developing the script to automatically handle string reconfiguration. As we inspected our results, we refined and adjusted the script to suit our needs.</p>
<p>To start to understand the data we were working with, we isolated all of the author strings, and placed them in a separate file. (Each author string was comma delimited, as in the list above.) We then printed out the contents of the third position of the string, as it was the position most likely to contain titles, suffixes, contributors, or other related words that would require special handling. We sorted our output and extracted the unique values in the resulting list. We accomplished this fairly quickly with a shell command.</p>
<p><code>awk -F "," ' { print $3 } ' full_author_list.txt | sort | uniq</code> [<a id="ref2" href="../index.html%3Fp=2138.html#note2">2</a>]</p>
<p>This list gave us a good sense of the variations we could encounter in our data, which we used as the foundation to build cases for parsing and formatting the author strings. As we continued to fine-tune the script, we viewed its output in Excel, taking advantage of the Filter options to identify outliers and special cases.</p>
<p class="caption"><img decoding="async" src="../media/issue8/dietrich/POD.jpg" alt="" id="fig1" /><br />
<strong>Figure 1: Probable titles, suffixes, or other non-name words requiring special handling</strong></p>
<p>(As much as we might like, &#8220;librarian&#8221; probably shouldn&#8217;t be listed as a proper title, with &#8220;Prince,&#8221; &#8220;Rev.&#8221; and others.)</p>
<p>The following sections describe the types of author string parsing we performed on our metadata.</p>
<h2>Corporate Names</h2>
<p>At the outset, it was important to distinguish between personal names and corporate names. Since the spreadsheet we worked with did not capture full MARC metadata, we had to develop a set of heuristics to use to identify corporate names.</p>
<p>As we worked with the data, we identified a number of cases where it was highly likely that an author string was not a personal name.</p>
<ol>
<li>It included a geographic location, like a U.S. state name or abbreviation, or country name.</li>
<li>It included words associated with government, like &#8220;Government,&#8221; &#8220;Congress,&#8221; or &#8220;Senate.&#8221;</li>
<li>It was an institution name, and included words like, &#8220;College&#8221; or &#8220;University.&#8221;</li>
<li>The string in the &#8220;Forename&#8221; field started with numbers, or resembled a date range.</li>
</ol>
<p>These heuristics weren&#8217;t foolproof, but they did help us identify many of the cases where we did not want to do any parsing of the author string at all.</p>
<h2>Lords and Ladies</h2>
<p>It was a relatively simple case when the author string followed the &#8220;Surname, Forename, Title&#8221; pattern. Consider the following two author strings (lines <a href="../index.html%3Fp=2138.html#ex2">2</a> and <a href="../index.html%3Fp=2138.html#ex3">3</a>):</p>
<p>Liljencrants, Johan, Baron<br />
Lennox, William Pitt, Lord</p>
<p>Each string was split on commas and stored in a Python list as the variable authorstring. We wanted to correctly identify &#8220;Baron&#8221; and &#8220;Lord&#8221; as titles, while correctly identifying forenames and surnames and putting them in the correct order. To accomplish this, we used the following regular expression [<a id="ref3" href="../index.html%3Fp=2138.html#note3">3</a>]:</p>
<pre class="brush: python; title: ; notranslate" title="">
isBaron = re.compile(&#039;(.* )(saint|baron|lord|countess|baroness)(\.*)$&#039;, re.I).search(authorstring&#x5B;2])
</pre>
<p>We then had the following three captured groups for each of the aforementioned author strings:</p>
<table border="1" cellspacing="0" cellpadding="0">
<tbody>
<tr>
<th width="68" valign="top">1</th>
<th width="83" valign="top">2</th>
<th width="54" valign="top">3</th>
</tr>
<tr>
<td width="68" valign="top">None</td>
<td width="83" valign="top">Baron</td>
<td width="54" valign="top">None</td>
</tr>
<tr>
<td width="68" valign="top">None</td>
<td width="83" valign="top">Lord</td>
<td width="54" valign="top">None</td>
</tr>
</tbody>
</table>
<p>The three captured groups formed the title, and so we simply reorganized the string as &#8220;Title Forename Surname.&#8221; The third captured group was for optional punctuation after the title. We captured any text preceding the title – in the first captured group – separately because, in some cases, it was crucial to mark the distinction between the first Baron from the third, or the fifth. The following author strings for 3d Baron Robert Alfred Hardcastle Collier and 1st Baron John Fletcher Moulton (lines <a href="../index.html%3Fp=2138.html#ex17">17</a> and <a href="../index.html%3Fp=2138.html#ex18">18</a>) are examples of this.</p>
<p>Monkswell, Robert Alfred Hardcastle Collier, 3d baron<br />
Moulton, John Fletcher Moulton, 1st baron</p>
<p>After running the above regular expression on these strings, we ended up with the following captured groups:</p>
<table border="1" cellspacing="0" cellpadding="0">
<tbody>
<tr>
<th width="68" valign="top">1</th>
<th width="83" valign="top">2</th>
<th width="54" valign="top">3</th>
</tr>
<tr>
<td width="68" valign="top">3d</td>
<td width="83" valign="top">baron</td>
<td width="54" valign="top">None</td>
</tr>
<tr>
<td width="68" valign="top">1st</td>
<td width="83" valign="top">baron</td>
<td width="54" valign="top">None</td>
</tr>
</tbody>
</table>
<p>When the script detected a value in the first captured group, it concatenated this value – usually an ordinal number – with the rest of the captured groups to form the full version of the title. We then capitalized only the first character of the second captured group.</p>
<p>You might have noticed that if we transformed 1st Baron John Fletcher Moulton’s author string as we described above, we would end up with &#8220;1st Baron John Fletcher Moulton Moulton.&#8221; In fact, we found that when we applied this rule to our entire list of author strings, many of the resulting strings had this exact error, a &#8220;duplicate&#8221; surname.</p>
<h2>Last Name Hiccups</h2>
<p>As we saw earlier, some of the author strings we were working with were stored in such a way that, when we applied our formatting rules, the resulting string had one word duplicated.</p>
<p>The author strings for Earl Charles Stanhope and Barons John Campbell and Cuthbert (lines <a href="../index.html%3Fp=2138.html#ex4">4</a>, <a href="../index.html%3Fp=2138.html#ex5">5</a>, and <a href="../index.html%3Fp=2138.html#ex6">6</a>) provide us with examples of this case.</p>
<p>Stanhope, Charles Stanhope, Earl<br />
Collingwood, Cuthbert Collingwood, Baron<br />
Campbell, John Campbell, Baron</p>
<p>When we used the formatting rule we described earlier, we ended up with the following author strings.</p>
<p>Earl Charles Stanhope Stanhope<br />
Baron Cuthbert Collingwood Collingwood<br />
Baron John Campbell Campbell</p>
<p>These would look somewhat strange on the front cover of a book. Instead of following the pattern &#8220;Surname, Forename, Title,&#8221; these cases followed the pattern &#8220;Word associated with title, Forename Surname, Title,&#8221; where the surname was the same word as the &#8220;Word associated with title.&#8221;  To account for these cases, we set up a regular expression to match the value in the first position of the authorstring list. If it matched, we removed the duplicate surname from the forename [<a id="ref4" href="../index.html%3Fp=2138.html#note4">4</a>].</p>
<pre class="brush: python; title: ; notranslate" title="">
tmp = r&#039;(%s)&#039;
isDuplicate = re.compile(tmp % authorstring&#x5B;0]).search(authorstring&#x5B;1].lstrip(&#039; &#039;))

if isDuplicate:
    title = &quot;%s%s&quot; % (isBaron.group(1).lstrip(&#039; &#039;), isBaron.group(2).capitalize())
    firstname = re.compile(isDuplicate.group(1)).sub(&#039;&#039;,authorstring&#x5B;1].lstrip(&#039; &#039;)).rstrip(&#039; &#039;)
    lastname = authorstring&#x5B;0] 
</pre>
<p>We could then reorder the author string and display the names properly.</p>
<h2>Dukes of Earl</h2>
<p>Some authors were Countess or Baron of a particular place. The author strings for Stafford Henry Northcote and Edward George Henry Montagu (lines <a href="../index.html%3Fp=2138.html#ex7">7</a> and <a href="../index.html%3Fp=2138.html#ex8">8</a>) were examples of this case. (In Montagu&#8217;s case, there is a number and place associated with his &#8220;Earlness.&#8221;)</p>
<p>Iddesleigh, Stafford Henry Northcote, Earl of<br />
Sandwich, Edward George Henry Montagu, 8th earl of</p>
<p>The pattern here was the same, &#8220;Words associated with title, Forename Surname, Title.&#8221; The difference between this case and the one that came before was that there was no redundant information&#8211;no &#8220;duplicate&#8221; surnames. The &#8220;Words associated with title&#8221; needed to be placed with the title, to create the complete author name. To reformat these author strings, we used the following regular expression and code.</p>
<pre class="brush: python; title: ; notranslate" title="">
isBaronOf = re.compile(&#039;(.* )(baron|lord|countess|baroness) (of|de|von|de|d\&#039;|di)$&#039;, re.I).search(authorstring&#x5B;2])

if isBaronOf:
     firstname = authorstring&#x5B;1].lstrip(&#039; &#039;)
     lastname = &#039;%s%s %s %s&#039; % (isBaronOf.group(1).lstrip(&#039; &#039;), isBaronOf.group(2).capitalize(), isBaronOf.group(3), authorstring&#x5B;0])
</pre>
<p>This associated the component parts of the author strings with the proper fields, and the strings appeared in the right order.</p>
<p>Stafford Henry Northcote, Earl of Iddesleigh<br />
Edward George Henry Montagu, 8th Earl of Sandwich</p>
<h2>Place Names</h2>
<p>What about the authors who weren&#8217;t Earls or Barons of some place, but were simply, &#8220;of&#8221; that place? The author strings for William Brown and William George (lines <a href="../index.html%3Fp=2138.html#ex9">9</a> and <a href="../index.html%3Fp=2138.html#ex10">10</a>) both included place information in addition to the personal name.</p>
<p>Brown, William, of Montreal<br />
George, William, of the St. Paul bar</p>
<p>In the previous cases, we saw that when the string in the third position of the author string ended in some form of the word &#8220;of,&#8221; it was often part of a title. In this case, when the string in the third position started with &#8220;of,&#8221; these strings were suffixes, and were placed after the forename and surname.</p>
<p>The following code identified this case and parsed the author name accordingly.</p>
<pre class="brush: python; title: ; notranslate" title="">
isOf = re.compile(&#039;of (.*)$&#039;, re.I).match(authorstring&#x5B;2].lstrip(&#039; &#039;))

elif isOf:
    firstname = authorstring&#x5B;1].lstrip(&#039; &#039;)
    lastname = authorstring&#x5B;0]
    suffix = isOf.group(0)
</pre>
<h2>Miscellaneous Saints</h2>
<p>Finally, in some cases, we didn&#8217;t have a &#8220;Surname&#8221; at all. The author string for Saint Christina of Bolsena was an example of this.</p>
<p>Christina, of Bolsena, Saint</p>
<p>In this case, this string matched the isBaron regular expression, because it resembled the pattern &#8220;Surname, Forename, Title.&#8221; We added the following code to check if the string that typically denotes the &#8220;Forename&#8221; started with some form of the word &#8220;of,&#8221; indicating it was not a true forename, but rather a suffix. Any substring that matched this pattern was reassigned to the suffix field so that the full author string could be reorganized appropriately.</p>
<pre class="brush: python; title: ; notranslate" title="">
if authorstring&#x5B;1].lstrip(&#039; &#039;).startswith(&#039;de&#039;) or authorstring&#x5B;1].lstrip(&#039; &#039;).startswith(&#039;of&#039;):
    title = &quot;%s%s&quot; % (isBaron.group(1).lstrip(&#039; &#039;), isBaron.group(2).capitalize())
    firstname = authorstring&#x5B;0]
    lastname = authorstring&#x5B;1].lstrip(&#039; &#039;)
</pre>
<h2>Re-Imagining Our Process</h2>
<p>When we originally exported all of our bibliographic metadata, we did not include MARC fields, subfields, or delimiters. After we examined our cases, we realized that if we had the MARC metadata, some of our processing would have been simpler.</p>
<p>Identifying corporate author names would have been far simpler if we pulled the MARC field out of our catalog. It is rather easy to flag the corporate author strings in this list:</p>
<p><code><br />
100 1_ <strong>|a</strong> Brown, William, <strong>|c</strong> of Montreal.<br />
100 1_ <strong>|a</strong> George, William, <strong>|c</strong> of the St. Paul bar.<br />
110 2_ <strong>|a</strong> The Players, New York.<br />
111 2_<strong> |a </strong>Continental Congress for Economic Reconstruction<strong> |d </strong>(1933 :<strong> |c </strong>Washington, D.C.)<br />
</code></p>
<p>Fields 110 and 111 denote &#8220;Corporate Name&#8221; and &#8220;Meeting Name,&#8221; respectively. Our script would not have to use our &#8220;best guess&#8221; for determining corporate names if we had this information at the outset.</p>
<p>We were also hesitant to strip out dates from all author strings because we did not have a foolproof way of distinguishing between corporate and personal names. If we had the MARC fields, we could have easily removed the subfield $d from the personal names only.</p>
<p>With MARC metadata, we would have been better able to identify those author strings that don&#8217;t follow the &#8220;Surname, Forename&#8221; pattern. To correctly parse &#8220;Saint Christina of Bolsena,&#8221; remember that we had to test what we thought was the &#8220;Forename&#8221; to see if it started with the word &#8220;of&#8221; (or &#8220;de&#8221;). That was our only clue that we had a name that wasn&#8217;t in inverted order. If we had the MARC first indicator along with the author string, we would have known for sure that we were encountering a special case.</p>
<p><code><br />
100 0_ <strong>|a</strong> Christina, <strong>|c</strong> of Bolsena, Saint,<br />
</code></p>
<p>Including full MARC metadata would not have eliminated the need for a custom script, but it is clear to see how it may have helped us handle certain cases.</p>
<h2>Script</h2>
<p>The complete Python script is available at <a href="../media/issue8/dietrich/dietrich_amazon_pod.html" title="Amazon POD Processing Script">Amazon POD Processing Script</a>. A <a href="../media/issue8/dietrich/sample.txt" title="Amazon POD Processing Script">file of the sample author names</a> discussed in this article and designed to accompany the code is also available.</p>
<h2>Conclusion</h2>
<p>Our goal was to create a script that would automatically process the majority of predictably formatted author strings so that only a small percentage would have to be corrected manually. We still conducted a human review of the metadata before we sent it out, and we estimated that we needed to hand-correct no more than 5% of the metadata after running the script.</p>
<h2>Thank you</h2>
<p>Fiona Patrick, Bronwyn Mohlke, and Liz Muller provided invaluable help deciphering MARC metadata, identifying cases, and refining the results of this script.</p>
<h2>Notes</h2>
<p>[<a id="note1" href="../index.html%3Fp=2138.html#ref1">1</a>] Bill Steele. &#8220;Cornell and Amazon.com join to resurrect 90,000 rare books via print-on-demand.&#8221; <i>Cornell Chronicle Online</i> (February 26, 2009) <a href="http://www.news.cornell.edu/stories/Feb09/AmazonPOD.ws.html">http://www.news.cornell.edu/stories/Feb09/AmazonPOD.ws.html</a></p>
<p>[<a id="note2" href="../index.html%3Fp=2138.html#ref2">2</a>] It is also possible to get all of the unique values by using the &#8220;text to columns&#8221; feature in Excel and then filtering the results on the third column.</p>
<p>[<a id="note3" href="../index.html%3Fp=2138.html#ref3">3</a>] For the sake of brevity and clarity, only a few of the strings we used to match this case will be in the code snippet. See the full script and the appendix for the full list of strings.</p>
<p>[<a id="note4" href="../index.html%3Fp=2138.html#ref4">4</a>] It seems overkill to do the surname like this, but the first naive matching inexplicably chopped off too much of certain authors&#8217; names (see &#8220;Sir Nathaniel Nathan,&#8221; line <a href="../index.html%3Fp=2138.html#ex12">12</a>), so a more rigorous solution was needed.</p>
<p>[<a id="note5" href="../index.html%3Fp=2138.html#ref5">5</a>] Place names that are also common personal names have been deliberately excluded from this list.</p>
<h2>About the Author</h2>
<p>Dianne Dietrich (dd388 at cornell dot edu) is the Research Data &#038; Metadata Librarian at Cornell University.</p>
<h2>Appendix</h2>
<p>The following tables include lists of the strings that we used in our script to match the various cases. These lists were generated as we developed our script using our own metadata, and will, most likely, be expanded when necessary.</p>
<p><strong>Corporate Names </strong></p>
<table border="1" cellspacing="0" cellpadding="0">
<tbody>
<tr>
<th width="226" valign="top">Strings we used to test for the presence of a corporate (not personal) author string [<a id="ref5" href="../index.html%3Fp=2138.html#note5">5</a>]</th>
<th width="226" valign="top">State abbreviations</th>
</tr>
<tr>
<td width="226" valign="top">Association<br />
Atlanta<br />
Boston<br />
College<br />
Confederate<br />
Congress<br />
Democratic<br />
England<br />
Florida<br />
Great Britain<br />
Halifax<br />
Massachusetts<br />
Missouri<br />
New York<br />
Ontario<br />
Pennsylvania<br />
Republican<br />
Rhode Island<br />
United States<br />
University<br />
Washington D.C.</td>
<td width="226" valign="top">Ala.<br />
Ark.<br />
Ariz.<br />
Calif.<br />
Colo.<br />
Conn.<br />
Del.<br />
Fla.<br />
Ga.<br />
Ill.<br />
Ind.<br />
Kan.<br />
Ky.<br />
La.<br />
Me.<br />
Mass.<br />
Md.<br />
Mich.<br />
Minn.<br />
Mo.<br />
Miss.<br />
Mont.<br />
N.C.<br />
N.D.<br />
Neb.<br />
N.H.<br />
N.J.<br />
N.M.<br />
Nev.<br />
N.Y.<br />
Okla.<br />
Ore.<br />
Pa.<br />
R.I.<br />
S.C.<br />
S.D.<br />
Tenn.<br />
Vt.<br />
Va.<br />
Wash.<br />
Wis.<br />
W.Va.<br />
Wyo.</td>
</tr>
</tbody>
</table>
<p><strong>Lords and Ladies</strong></p>
<table border="1" cellspacing="0" cellpadding="0">
<tbody>
<tr>
<th width="170" valign="top">Titles (generally found without &#8220;of&#8221; attached)</th>
</tr>
<tr>
<td width="170" valign="top">
Abbe<br />
Abp.<br />
Baron<br />
Barone<br />
Baroness<br />
Bp.<br />
Cardinal<br />
Chaplain<br />
Colonel<br />
Compte<br />
Comtesse<br />
Conte<br />
Contessa<br />
Count<br />
Countess<br />
Dame<br />
Duc<br />
Earl<br />
Father<br />
Freiherr<br />
Graf<br />
Hon<br />
Hrabe<br />
Kniaz<br />
Lady<br />
Lord<br />
Mme.<br />
Mrs.<br />
Prince<br />
Princess<br />
Rev.<br />
Saint<br />
Sir<br />
Viscount<br />
Viscountess</td>
</tr>
</tbody>
</table>
<p><strong>Dukes of Earl</strong></p>
<table border="1" cellspacing="0" cellpadding="0">
<tbody>
<tr>
<th width="340" valign="top">Titles (generally found with &#8220;of&#8221; attached)</th>
<th width="340" valign="top">Variations of &#8220;of&#8221;</th>
</tr>
<tr>
<td width="340" valign="top">
Apb.<br />
Baron<br />
Bishop<br />
Bp.<br />
Compte<br />
Comte<br />
Conte<br />
Conti<br />
Count<br />
Countess<br />
Duc<br />
Duchess<br />
Duchesse<br />
Duke<br />
Earl<br />
Freifrau<br />
Freiherr<br />
Furst<br />
Graf<br />
Grafin<br />
Lady<br />
Marchioness<br />
Marquess<br />
Marquis<br />
Marquise<br />
Prince<br />
Vicompte<br />
Vicomte<br />
Viscount</td>
<td width="340" valign="top">
d&#8217;<br />
de<br />
de<br />
di<br />
of<br />
von
 </td>
</tr>
</tbody>
</table>
					</div>
														</div>
				<!-- You can start editing here. -->

<div class="comments">
	<p class="subscriptionlinks">Subscribe to comments: <a href="2138/feed">For this article</a> | <a href="http://feeds.feedburner.com/c4lj/comments">For all articles</a></p>
	<h3>2 Responses to "Automated Metadata Formatting for Cornell&#8217;s Print-on-Demand Books"</h3>

	<p class="aboutcomments">
					Please <a href="../index.html%3Fp=2138.html#respond">leave a response</a> below:
			</p>

	<ol class="commentlist">

			<li class="oddcomment" id="comment-2692">
			<p class="commentheader"><cite><a href="http://gavialib.com/" class="url" rel="ugc external nofollow">Dorothea Salo</a></cite>,
			
			<span class="commentmetadata"><a href="../index.html%3Fp=2138.html#comment-2692" title="">2009-11-23</a></span></p>

      <div class="commentbody">
  			<p>Why do regex matching instead of string matching for the duplicate-surname situation?</p>
      </div>

		</li>
	
			<li id="comment-2693">
			<p class="commentheader"><cite>Dianne Dietrich</cite>,
			
			<span class="commentmetadata"><a href="../index.html%3Fp=2138.html#comment-2693" title="">2009-11-23</a></span></p>

      <div class="commentbody">
  			<p>An earlier version of the script handled the duplicate-surname situation using string matching. When we reviewed the results, there were cases where that code inadvertently garbled certain author strings, which is why I decided to try using a regex. It worked &#8212; that is, it didn&#8217;t garble strings the way my first attempt did &#8212; and so I kept the code as it was. That said, I&#8217;m sure it&#8217;s possible to accomplish the same thing using only Python string operations.</p>
      </div>

		</li>
	
	
	</ol>

 

<h3 id="respond">Leave a Reply</h3>


<form action="https://journal.code4lib.org/wp-comments-post.php" method="post" id="commentform">


<p><input type="text" name="author" id="author" value=""/>
<label for="author">Name (required)</label></p>

<p><input type="text" name="email" id="email" value="" />
<label for="email">Mail (will not be published) (required)</label></p>

<p><input type="text" name="url" id="url" value="" />
<label for="url">Website</label></p>


<p><textarea autocomplete="new-password"  aria-label="Comment box" id="f127f6ccbe"  name="f127f6ccbe"   cols="50" rows="10"></textarea><textarea id="comment" aria-label="hp-comment" aria-hidden="true" name="comment" autocomplete="new-password" style="padding:0 !important;clip:rect(1px, 1px, 1px, 1px) !important;position:absolute !important;white-space:nowrap !important;height:1px !important;width:1px !important;overflow:hidden !important;" tabindex="-1"></textarea><script data-noptimize>document.getElementById("comment").setAttribute( "id", "a6ba672eed60bd9d6b9a7a302e3b4896" );document.getElementById("f127f6ccbe").setAttribute( "id", "comment" );</script></p>

<p><input name="submit" type="submit" id="submit"  value="Submit Comment" />
<input type="hidden" name="comment_post_ID" value="2138" />
</p>
<p style="display: none;"><input type="hidden" id="akismet_comment_nonce" name="akismet_comment_nonce" value="a2e6ce319c" /></p><p style="display: none !important;" class="akismet-fields-container" data-prefix="ak_"><label>&#916;<textarea name="ak_hp_textarea" cols="45" rows="8" maxlength="100"></textarea></label><input type="hidden" id="ak_js_1" name="ak_js" value="121"/><script>document.getElementById( "ak_js_1" ).setAttribute( "value", ( new Date() ).getTime() );</script></p>
</form>


</div>
							</div>

			<div id="meta">
				<div id="issn">
					<p>ISSN 1940-5758</p>
				</div>
				<div class="search-sidebar">
				<form method="get" id="searchform" action="../index.html">
					<div>
						<input type="text" value="" aria-labelledby="searchsubmit" name="s" id="s" />
						<input type="submit" value="Search" id="searchsubmit"/>
					</div>
				</form>
				</div>
				<div id="archives">
					<h2>Current Issue</h2>
						<ul>
							<li><a href="../issues/issues/issue60.html">Issue 60, 2025-04-14</a></li>
						</ul>

					<h2>Previous Issues</h2>
						<ul>
              <li><a href="../issues/issues/issue59.html">Issue 59, 2024-10-07</a></li><li><a href="../issues/issues/issue58.html">Issue 58, 2023-12-04</a></li><li><a href="../issues/issues/issue57.html">Issue 57, 2023-08-29</a></li><li><a href="../issues/issues/issue56.html">Issue 56, 2023-04-21</a></li>              <li><a href="../index.html%3Fp=2476.html">Older Issues</a></li>
						</ul>
				</div>
				<div id="forauthors">
					<h2>For Authors</h2>
					<ul>
						<li class="page_item page-item-4"><a href="../index.html%3Fp=4.html">Call for Submissions</a></li>
<li class="page_item page-item-7"><a href="../index.html%3Fp=7.html">Article Guidelines</a></li>
					</ul>
				</div>
			</div>
						<div id="footer">
				<p id="login"><a href="../wp-login.php.html">Log in</a></p>
				<p id="copyright">This work is licensed under a <a rel="license" href="http://creativecommons.org/licenses/by/3.0/us/">Creative Commons Attribution 3.0 United States License</a>.<br /><a rel="license" href="http://creativecommons.org/licenses/by/3.0/us/"><img alt="Creative Commons License" src="http://i.creativecommons.org/l/by/3.0/us/80x15.png" /></a></p>
			</div>
			<script type="speculationrules">
{"prefetch":[{"source":"document","where":{"and":[{"href_matches":"\/*"},{"not":{"href_matches":["\/wp-*.php","\/wp-admin\/*","\/wp-content\/uploads\/*","\/wp-content\/*","\/wp-content\/plugins\/*","\/wp-content\/themes\/c4lj-theme\/*","\/*\\?(.+)"]}},{"not":{"selector_matches":"a[rel~=\"nofollow\"]"}},{"not":{"selector_matches":".no-prefetch, .no-prefetch a"}}]},"eagerness":"conservative"}]}
</script>
<script type="text/javascript" src="../wp-content/plugins/syntaxhighlighter/syntaxhighlighter3/scripts/shCore.js%3Fver=3.0.9b" id="syntaxhighlighter-core-js"></script>
<script type="text/javascript" src="../wp-content/plugins/syntaxhighlighter/syntaxhighlighter3/scripts/shBrushPython.js%3Fver=3.0.9b" id="syntaxhighlighter-brush-python-js"></script>
<script type='text/javascript'>
	(function(){
		var corecss = document.createElement('link');
		var themecss = document.createElement('link');
		var corecssurl = "https://journal.code4lib.org/wp-content/plugins/syntaxhighlighter/syntaxhighlighter3/styles/shCore.css?ver=3.0.9b";
		if ( corecss.setAttribute ) {
				corecss.setAttribute( "rel", "stylesheet" );
				corecss.setAttribute( "type", "text/css" );
				corecss.setAttribute( "href", corecssurl );
		} else {
				corecss.rel = "stylesheet";
				corecss.href = corecssurl;
		}
		document.head.appendChild( corecss );
		var themecssurl = "https://journal.code4lib.org/wp-content/plugins/syntaxhighlighter/syntaxhighlighter3/styles/shThemeDefault.css?ver=3.0.9b";
		if ( themecss.setAttribute ) {
				themecss.setAttribute( "rel", "stylesheet" );
				themecss.setAttribute( "type", "text/css" );
				themecss.setAttribute( "href", themecssurl );
		} else {
				themecss.rel = "stylesheet";
				themecss.href = themecssurl;
		}
		document.head.appendChild( themecss );
	})();
	SyntaxHighlighter.config.strings.expandSource = '+ expand source';
	SyntaxHighlighter.config.strings.help = '?';
	SyntaxHighlighter.config.strings.alert = 'SyntaxHighlighter\n\n';
	SyntaxHighlighter.config.strings.noBrush = 'Can\'t find brush for: ';
	SyntaxHighlighter.config.strings.brushNotHtmlScript = 'Brush wasn\'t configured for html-script option: ';
	SyntaxHighlighter.defaults['pad-line-numbers'] = false;
	SyntaxHighlighter.defaults['toolbar'] = false;
	SyntaxHighlighter.all();

	// Infinite scroll support
	if ( typeof( jQuery ) !== 'undefined' ) {
		jQuery( function( $ ) {
			$( document.body ).on( 'post-load', function() {
				SyntaxHighlighter.highlight();
			} );
		} );
	}
</script>
<script defer type="text/javascript" src="../wp-content/plugins/akismet/_inc/akismet-frontend.js%3Fver=1748382734" id="akismet-frontend-js"></script>
		</div>
	</body>
</html>
