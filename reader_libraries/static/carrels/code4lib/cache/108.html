<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
	<head>
		<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />

		<title>The Code4Lib Journal &#8211; Auto-Populating an ILL form with the Serial Solutions Link Resolver API</title>

		<meta name="viewport" content="width=device-width, initial-scale=1" />
		<meta name="generator" content="WordPress 6.8.1" /> <!-- leave this for stats -->
    <link rel="shortcut icon" href="../wp-content/themes/c4lj-theme/images/favicon.ico" />
		<link rel="stylesheet" href="../wp-content/themes/c4lj-theme/style.css" type="text/css" media="screen, print" />
		<!--[if lte IE 7]>
		<link rel="stylesheet" href="https://journal.code4lib.org/wp-content/themes/c4lj-theme/fix-ie7.css" type="text/css" media="screen" />
		<![endif]-->
		<!--[if lte IE 6]>
		<link rel="stylesheet" href="https://journal.code4lib.org/wp-content/themes/c4lj-theme/fix-ie6.css" type="text/css" media="screen" />
		<![endif]-->
		<link rel="stylesheet" href="../wp-content/themes/c4lj-theme/print.css" type="text/css" media="print" />
		<link rel="alternate" type="application/rss+xml" title="The Code4Lib Journal Syndication Feed" href="http://feeds.feedburner.com/c4lj" />
		<link rel="pingback" href="https://journal.code4lib.org/xmlrpc.php" />

<!-- Google Scholar Stuff -->
	<meta name="citation_title" content="Auto-Populating an ILL form with the Serial Solutions Link Resolver API">
 <meta name="citation_author" content="Daniel Talsky">
<meta name="citation_publication_date" content="2008/09/22">
	<meta name="citation_journal_title" content="Code4Lib Journal">
		<meta name="citation_issue" content="4">
<!-- end  Google Scholar Stuff -->

<meta name='robots' content='max-image-preview:large' />
	<style>img:is([sizes="auto" i], [sizes^="auto," i]) { contain-intrinsic-size: 3000px 1500px }</style>
	<link rel="alternate" type="application/rss+xml" title="The Code4Lib Journal &raquo; Auto-Populating an ILL form with the Serial Solutions Link Resolver API Comments Feed" href="108/feed" />
<script type="text/javascript">
/* <![CDATA[ */
window._wpemojiSettings = {"baseUrl":"https:\/\/s.w.org\/images\/core\/emoji\/15.1.0\/72x72\/","ext":".png","svgUrl":"https:\/\/s.w.org\/images\/core\/emoji\/15.1.0\/svg\/","svgExt":".svg","source":{"concatemoji":"https:\/\/journal.code4lib.org\/wp-includes\/js\/wp-emoji-release.min.js?ver=6.8.1"}};
/*! This file is auto-generated */
!function(i,n){var o,s,e;function c(e){try{var t={supportTests:e,timestamp:(new Date).valueOf()};sessionStorage.setItem(o,JSON.stringify(t))}catch(e){}}function p(e,t,n){e.clearRect(0,0,e.canvas.width,e.canvas.height),e.fillText(t,0,0);var t=new Uint32Array(e.getImageData(0,0,e.canvas.width,e.canvas.height).data),r=(e.clearRect(0,0,e.canvas.width,e.canvas.height),e.fillText(n,0,0),new Uint32Array(e.getImageData(0,0,e.canvas.width,e.canvas.height).data));return t.every(function(e,t){return e===r[t]})}function u(e,t,n){switch(t){case"flag":return n(e,"\ud83c\udff3\ufe0f\u200d\u26a7\ufe0f","\ud83c\udff3\ufe0f\u200b\u26a7\ufe0f")?!1:!n(e,"\ud83c\uddfa\ud83c\uddf3","\ud83c\uddfa\u200b\ud83c\uddf3")&&!n(e,"\ud83c\udff4\udb40\udc67\udb40\udc62\udb40\udc65\udb40\udc6e\udb40\udc67\udb40\udc7f","\ud83c\udff4\u200b\udb40\udc67\u200b\udb40\udc62\u200b\udb40\udc65\u200b\udb40\udc6e\u200b\udb40\udc67\u200b\udb40\udc7f");case"emoji":return!n(e,"\ud83d\udc26\u200d\ud83d\udd25","\ud83d\udc26\u200b\ud83d\udd25")}return!1}function f(e,t,n){var r="undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope?new OffscreenCanvas(300,150):i.createElement("canvas"),a=r.getContext("2d",{willReadFrequently:!0}),o=(a.textBaseline="top",a.font="600 32px Arial",{});return e.forEach(function(e){o[e]=t(a,e,n)}),o}function t(e){var t=i.createElement("script");t.src=e,t.defer=!0,i.head.appendChild(t)}"undefined"!=typeof Promise&&(o="wpEmojiSettingsSupports",s=["flag","emoji"],n.supports={everything:!0,everythingExceptFlag:!0},e=new Promise(function(e){i.addEventListener("DOMContentLoaded",e,{once:!0})}),new Promise(function(t){var n=function(){try{var e=JSON.parse(sessionStorage.getItem(o));if("object"==typeof e&&"number"==typeof e.timestamp&&(new Date).valueOf()<e.timestamp+604800&&"object"==typeof e.supportTests)return e.supportTests}catch(e){}return null}();if(!n){if("undefined"!=typeof Worker&&"undefined"!=typeof OffscreenCanvas&&"undefined"!=typeof URL&&URL.createObjectURL&&"undefined"!=typeof Blob)try{var e="postMessage("+f.toString()+"("+[JSON.stringify(s),u.toString(),p.toString()].join(",")+"));",r=new Blob([e],{type:"text/javascript"}),a=new Worker(URL.createObjectURL(r),{name:"wpTestEmojiSupports"});return void(a.onmessage=function(e){c(n=e.data),a.terminate(),t(n)})}catch(e){}c(n=f(s,u,p))}t(n)}).then(function(e){for(var t in e)n.supports[t]=e[t],n.supports.everything=n.supports.everything&&n.supports[t],"flag"!==t&&(n.supports.everythingExceptFlag=n.supports.everythingExceptFlag&&n.supports[t]);n.supports.everythingExceptFlag=n.supports.everythingExceptFlag&&!n.supports.flag,n.DOMReady=!1,n.readyCallback=function(){n.DOMReady=!0}}).then(function(){return e}).then(function(){var e;n.supports.everything||(n.readyCallback(),(e=n.source||{}).concatemoji?t(e.concatemoji):e.wpemoji&&e.twemoji&&(t(e.twemoji),t(e.wpemoji)))}))}((window,document),window._wpemojiSettings);
/* ]]> */
</script>
<style id='wp-emoji-styles-inline-css' type='text/css'>

	img.wp-smiley, img.emoji {
		display: inline !important;
		border: none !important;
		box-shadow: none !important;
		height: 1em !important;
		width: 1em !important;
		margin: 0 0.07em !important;
		vertical-align: -0.1em !important;
		background: none !important;
		padding: 0 !important;
	}
</style>
<link rel='stylesheet' id='wp-block-library-css' href='../wp-includes/css/dist/block-library/style.min.css%3Fver=6.8.1.css' type='text/css' media='all' />
<style id='classic-theme-styles-inline-css' type='text/css'>
/*! This file is auto-generated */
.wp-block-button__link{color:#fff;background-color:#32373c;border-radius:9999px;box-shadow:none;text-decoration:none;padding:calc(.667em + 2px) calc(1.333em + 2px);font-size:1.125em}.wp-block-file__button{background:#32373c;color:#fff;text-decoration:none}
</style>
<style id='global-styles-inline-css' type='text/css'>
:root{--wp--preset--aspect-ratio--square: 1;--wp--preset--aspect-ratio--4-3: 4/3;--wp--preset--aspect-ratio--3-4: 3/4;--wp--preset--aspect-ratio--3-2: 3/2;--wp--preset--aspect-ratio--2-3: 2/3;--wp--preset--aspect-ratio--16-9: 16/9;--wp--preset--aspect-ratio--9-16: 9/16;--wp--preset--color--black: #000000;--wp--preset--color--cyan-bluish-gray: #abb8c3;--wp--preset--color--white: #ffffff;--wp--preset--color--pale-pink: #f78da7;--wp--preset--color--vivid-red: #cf2e2e;--wp--preset--color--luminous-vivid-orange: #ff6900;--wp--preset--color--luminous-vivid-amber: #fcb900;--wp--preset--color--light-green-cyan: #7bdcb5;--wp--preset--color--vivid-green-cyan: #00d084;--wp--preset--color--pale-cyan-blue: #8ed1fc;--wp--preset--color--vivid-cyan-blue: #0693e3;--wp--preset--color--vivid-purple: #9b51e0;--wp--preset--gradient--vivid-cyan-blue-to-vivid-purple: linear-gradient(135deg,rgba(6,147,227,1) 0%,rgb(155,81,224) 100%);--wp--preset--gradient--light-green-cyan-to-vivid-green-cyan: linear-gradient(135deg,rgb(122,220,180) 0%,rgb(0,208,130) 100%);--wp--preset--gradient--luminous-vivid-amber-to-luminous-vivid-orange: linear-gradient(135deg,rgba(252,185,0,1) 0%,rgba(255,105,0,1) 100%);--wp--preset--gradient--luminous-vivid-orange-to-vivid-red: linear-gradient(135deg,rgba(255,105,0,1) 0%,rgb(207,46,46) 100%);--wp--preset--gradient--very-light-gray-to-cyan-bluish-gray: linear-gradient(135deg,rgb(238,238,238) 0%,rgb(169,184,195) 100%);--wp--preset--gradient--cool-to-warm-spectrum: linear-gradient(135deg,rgb(74,234,220) 0%,rgb(151,120,209) 20%,rgb(207,42,186) 40%,rgb(238,44,130) 60%,rgb(251,105,98) 80%,rgb(254,248,76) 100%);--wp--preset--gradient--blush-light-purple: linear-gradient(135deg,rgb(255,206,236) 0%,rgb(152,150,240) 100%);--wp--preset--gradient--blush-bordeaux: linear-gradient(135deg,rgb(254,205,165) 0%,rgb(254,45,45) 50%,rgb(107,0,62) 100%);--wp--preset--gradient--luminous-dusk: linear-gradient(135deg,rgb(255,203,112) 0%,rgb(199,81,192) 50%,rgb(65,88,208) 100%);--wp--preset--gradient--pale-ocean: linear-gradient(135deg,rgb(255,245,203) 0%,rgb(182,227,212) 50%,rgb(51,167,181) 100%);--wp--preset--gradient--electric-grass: linear-gradient(135deg,rgb(202,248,128) 0%,rgb(113,206,126) 100%);--wp--preset--gradient--midnight: linear-gradient(135deg,rgb(2,3,129) 0%,rgb(40,116,252) 100%);--wp--preset--font-size--small: 13px;--wp--preset--font-size--medium: 20px;--wp--preset--font-size--large: 36px;--wp--preset--font-size--x-large: 42px;--wp--preset--spacing--20: 0.44rem;--wp--preset--spacing--30: 0.67rem;--wp--preset--spacing--40: 1rem;--wp--preset--spacing--50: 1.5rem;--wp--preset--spacing--60: 2.25rem;--wp--preset--spacing--70: 3.38rem;--wp--preset--spacing--80: 5.06rem;--wp--preset--shadow--natural: 6px 6px 9px rgba(0, 0, 0, 0.2);--wp--preset--shadow--deep: 12px 12px 50px rgba(0, 0, 0, 0.4);--wp--preset--shadow--sharp: 6px 6px 0px rgba(0, 0, 0, 0.2);--wp--preset--shadow--outlined: 6px 6px 0px -3px rgba(255, 255, 255, 1), 6px 6px rgba(0, 0, 0, 1);--wp--preset--shadow--crisp: 6px 6px 0px rgba(0, 0, 0, 1);}:where(.is-layout-flex){gap: 0.5em;}:where(.is-layout-grid){gap: 0.5em;}body .is-layout-flex{display: flex;}.is-layout-flex{flex-wrap: wrap;align-items: center;}.is-layout-flex > :is(*, div){margin: 0;}body .is-layout-grid{display: grid;}.is-layout-grid > :is(*, div){margin: 0;}:where(.wp-block-columns.is-layout-flex){gap: 2em;}:where(.wp-block-columns.is-layout-grid){gap: 2em;}:where(.wp-block-post-template.is-layout-flex){gap: 1.25em;}:where(.wp-block-post-template.is-layout-grid){gap: 1.25em;}.has-black-color{color: var(--wp--preset--color--black) !important;}.has-cyan-bluish-gray-color{color: var(--wp--preset--color--cyan-bluish-gray) !important;}.has-white-color{color: var(--wp--preset--color--white) !important;}.has-pale-pink-color{color: var(--wp--preset--color--pale-pink) !important;}.has-vivid-red-color{color: var(--wp--preset--color--vivid-red) !important;}.has-luminous-vivid-orange-color{color: var(--wp--preset--color--luminous-vivid-orange) !important;}.has-luminous-vivid-amber-color{color: var(--wp--preset--color--luminous-vivid-amber) !important;}.has-light-green-cyan-color{color: var(--wp--preset--color--light-green-cyan) !important;}.has-vivid-green-cyan-color{color: var(--wp--preset--color--vivid-green-cyan) !important;}.has-pale-cyan-blue-color{color: var(--wp--preset--color--pale-cyan-blue) !important;}.has-vivid-cyan-blue-color{color: var(--wp--preset--color--vivid-cyan-blue) !important;}.has-vivid-purple-color{color: var(--wp--preset--color--vivid-purple) !important;}.has-black-background-color{background-color: var(--wp--preset--color--black) !important;}.has-cyan-bluish-gray-background-color{background-color: var(--wp--preset--color--cyan-bluish-gray) !important;}.has-white-background-color{background-color: var(--wp--preset--color--white) !important;}.has-pale-pink-background-color{background-color: var(--wp--preset--color--pale-pink) !important;}.has-vivid-red-background-color{background-color: var(--wp--preset--color--vivid-red) !important;}.has-luminous-vivid-orange-background-color{background-color: var(--wp--preset--color--luminous-vivid-orange) !important;}.has-luminous-vivid-amber-background-color{background-color: var(--wp--preset--color--luminous-vivid-amber) !important;}.has-light-green-cyan-background-color{background-color: var(--wp--preset--color--light-green-cyan) !important;}.has-vivid-green-cyan-background-color{background-color: var(--wp--preset--color--vivid-green-cyan) !important;}.has-pale-cyan-blue-background-color{background-color: var(--wp--preset--color--pale-cyan-blue) !important;}.has-vivid-cyan-blue-background-color{background-color: var(--wp--preset--color--vivid-cyan-blue) !important;}.has-vivid-purple-background-color{background-color: var(--wp--preset--color--vivid-purple) !important;}.has-black-border-color{border-color: var(--wp--preset--color--black) !important;}.has-cyan-bluish-gray-border-color{border-color: var(--wp--preset--color--cyan-bluish-gray) !important;}.has-white-border-color{border-color: var(--wp--preset--color--white) !important;}.has-pale-pink-border-color{border-color: var(--wp--preset--color--pale-pink) !important;}.has-vivid-red-border-color{border-color: var(--wp--preset--color--vivid-red) !important;}.has-luminous-vivid-orange-border-color{border-color: var(--wp--preset--color--luminous-vivid-orange) !important;}.has-luminous-vivid-amber-border-color{border-color: var(--wp--preset--color--luminous-vivid-amber) !important;}.has-light-green-cyan-border-color{border-color: var(--wp--preset--color--light-green-cyan) !important;}.has-vivid-green-cyan-border-color{border-color: var(--wp--preset--color--vivid-green-cyan) !important;}.has-pale-cyan-blue-border-color{border-color: var(--wp--preset--color--pale-cyan-blue) !important;}.has-vivid-cyan-blue-border-color{border-color: var(--wp--preset--color--vivid-cyan-blue) !important;}.has-vivid-purple-border-color{border-color: var(--wp--preset--color--vivid-purple) !important;}.has-vivid-cyan-blue-to-vivid-purple-gradient-background{background: var(--wp--preset--gradient--vivid-cyan-blue-to-vivid-purple) !important;}.has-light-green-cyan-to-vivid-green-cyan-gradient-background{background: var(--wp--preset--gradient--light-green-cyan-to-vivid-green-cyan) !important;}.has-luminous-vivid-amber-to-luminous-vivid-orange-gradient-background{background: var(--wp--preset--gradient--luminous-vivid-amber-to-luminous-vivid-orange) !important;}.has-luminous-vivid-orange-to-vivid-red-gradient-background{background: var(--wp--preset--gradient--luminous-vivid-orange-to-vivid-red) !important;}.has-very-light-gray-to-cyan-bluish-gray-gradient-background{background: var(--wp--preset--gradient--very-light-gray-to-cyan-bluish-gray) !important;}.has-cool-to-warm-spectrum-gradient-background{background: var(--wp--preset--gradient--cool-to-warm-spectrum) !important;}.has-blush-light-purple-gradient-background{background: var(--wp--preset--gradient--blush-light-purple) !important;}.has-blush-bordeaux-gradient-background{background: var(--wp--preset--gradient--blush-bordeaux) !important;}.has-luminous-dusk-gradient-background{background: var(--wp--preset--gradient--luminous-dusk) !important;}.has-pale-ocean-gradient-background{background: var(--wp--preset--gradient--pale-ocean) !important;}.has-electric-grass-gradient-background{background: var(--wp--preset--gradient--electric-grass) !important;}.has-midnight-gradient-background{background: var(--wp--preset--gradient--midnight) !important;}.has-small-font-size{font-size: var(--wp--preset--font-size--small) !important;}.has-medium-font-size{font-size: var(--wp--preset--font-size--medium) !important;}.has-large-font-size{font-size: var(--wp--preset--font-size--large) !important;}.has-x-large-font-size{font-size: var(--wp--preset--font-size--x-large) !important;}
:where(.wp-block-post-template.is-layout-flex){gap: 1.25em;}:where(.wp-block-post-template.is-layout-grid){gap: 1.25em;}
:where(.wp-block-columns.is-layout-flex){gap: 2em;}:where(.wp-block-columns.is-layout-grid){gap: 2em;}
:root :where(.wp-block-pullquote){font-size: 1.5em;line-height: 1.6;}
</style>
<style id='akismet-widget-style-inline-css' type='text/css'>

			.a-stats {
				--akismet-color-mid-green: #357b49;
				--akismet-color-white: #fff;
				--akismet-color-light-grey: #f6f7f7;

				max-width: 350px;
				width: auto;
			}

			.a-stats * {
				all: unset;
				box-sizing: border-box;
			}

			.a-stats strong {
				font-weight: 600;
			}

			.a-stats a.a-stats__link,
			.a-stats a.a-stats__link:visited,
			.a-stats a.a-stats__link:active {
				background: var(--akismet-color-mid-green);
				border: none;
				box-shadow: none;
				border-radius: 8px;
				color: var(--akismet-color-white);
				cursor: pointer;
				display: block;
				font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', 'Oxygen-Sans', 'Ubuntu', 'Cantarell', 'Helvetica Neue', sans-serif;
				font-weight: 500;
				padding: 12px;
				text-align: center;
				text-decoration: none;
				transition: all 0.2s ease;
			}

			/* Extra specificity to deal with TwentyTwentyOne focus style */
			.widget .a-stats a.a-stats__link:focus {
				background: var(--akismet-color-mid-green);
				color: var(--akismet-color-white);
				text-decoration: none;
			}

			.a-stats a.a-stats__link:hover {
				filter: brightness(110%);
				box-shadow: 0 4px 12px rgba(0, 0, 0, 0.06), 0 0 2px rgba(0, 0, 0, 0.16);
			}

			.a-stats .count {
				color: var(--akismet-color-white);
				display: block;
				font-size: 1.5em;
				line-height: 1.4;
				padding: 0 13px;
				white-space: nowrap;
			}
		
</style>
<link rel="https://api.w.org/" href="../wp-json/index.html" /><link rel="alternate" title="JSON" type="application/json" href="https://journal.code4lib.org/wp-json/wp/v2/posts/108" /><link rel="EditURI" type="application/rsd+xml" title="RSD" href="https://journal.code4lib.org/xmlrpc.php?rsd" />
<link rel="canonical" href="../index.html%3Fp=108.html" />
<link rel='shortlink' href='../index.html%3Fp=108.html' />
<link rel="alternate" title="oEmbed (JSON)" type="application/json+oembed" href="../wp-json/oembed/1.0/embed%3Furl=https:%252F%252Fjournal.code4lib.org%252Farticles%252F108" />
<link rel="alternate" title="oEmbed (XML)" type="text/xml+oembed" href="../wp-json/oembed/1.0/embed%3Furl=https:%252F%252Fjournal.code4lib.org%252Farticles%252F108&amp;format=xml" />
<style>
@media all and (max-width : 768px) {
.syntaxhighlighter a, .syntaxhighlighter div, .syntaxhighlighter code, .syntaxhighlighter table, .syntaxhighlighter table td, .syntaxhighlighter table tr, .syntaxhighlighter table tbody, .syntaxhighlighter table thead, .syntaxhighlighter table caption, .syntaxhighlighter textarea
{
	font-size: 0.95em !important;
}
}
</style>
	</head>
	<body>
		<div id="page">
			<div id="header">
				<div id="headerbackground">
					<h1><a href="../index.html"><img src="../wp-content/themes/c4lj-theme/images/logo.png" alt="The Code4Lib Journal" /></a></h1>
				</div>
				<div id="about">
					<ul>
						<li class="page_item page-item-5"><a href="../index.html%3Fp=5.html">Mission</a></li>
<li class="page_item page-item-6"><a href="../editorial-committee/index.html">Editorial Committee</a></li>
<li class="page_item page-item-8"><a href="../process/index.html">Process and Structure</a></li>
						<li><a href="http://code4lib.org/">Code4Lib</a></li>
					</ul>
				</div>
				<div class="mobile-search">
					<form method="get" id="searchform" action="../index.html">
						<div>
							<input type="text" value="" aria-labelledby="searchsubmit" name="s" id="s" />
							<input type="submit" value="Search" id="searchsubmit" />
						</div>
					</form>
				</div>
			</div>

			<div id="content">
								<div class="article" id="post-108">
					<p id="issueDesignation"><a href="../issues/issues/issue4.html">Issue 4, 2008-09-22</a></p>
					<h1 class="articletitle">Auto-Populating an ILL form with the Serial Solutions Link Resolver API</h1>
					<div class="abstract">
						<p>In this article we&#8217;ll take a tour of the OpenURL protocol; discover how to use it to get an XML API response from the Serial Solutions link resolver; and see how to receive and process that XML data using PHP to create an Interlibrary Loan webform. Finally, we&#8217;ll see a few examples of how to handle form processing. This article will be of interest to beginner programmers interested in examples of programming with OpenURL and XML in PHP, and to more experienced programmers interested in taking a look at the Serial Solutions 360 Link API.</p>
					</div>
					<div class="entry">
						<p>by Daniel Talsky</p>
<h2>Introduction</h2>
<p>In this article we&#8217;ll take a tour of the OpenURL protocol; discover how to use it to get an XML API response from the Serial Solutions link resolver; and see how to receive and process that XML data using PHP to create an  	Interlibrary Loan webform.  Finally, we&#8217;ll see a few examples of how to handle form processing.</p>
<p>This article will be of interest to beginner programmers interested in examples of programming with OpenURL and XML in PHP, and to more experienced programmers interested in taking a look at the Serial Solutions 360 Link API.</p>
<h2>What is an OpenURL Link Resolver?</h2>
<p>An OpenURL is a formatted citation embedded in a URL.<a title="reference1" name="reference1" href="../index.html%3Fp=108.html#note1">[1]</a> Link resolver products receive OpenURL requests identifying a citation, and provide services to the user for the given citation. The service which generally motivates an institution to set up a link resolver is providing online full text links for a citation, generally based on a &#8216;knowledge base&#8217; of licensed full text maintained in the link resolver product.</p>
<p>Most OpenURL link resolvers return results as an HTML page. This is great for a human, who can read the results and manually link to the full text.  But sometimes a library might want to set up more advanced features than the link resolver product supports, still based on underlying link resolver functionality. Even significant customization of the HTML output may be limited by the interface of the link resolver.  You may want to use or develop other tools which provide more functionality, while still using the full text resolution services of the link resolver.</p>
<p>An XML API allows you to receive results as a package of data, and use a program to pull the data you want and display or use it in any format. Want to populate a spreadsheet with link resolver data? A PDF file? Generate an RSS feed? Put the information in an email? All of these are possible using an XML API for link resolver data.  Some OpenURL link resolvers provide XML APIs.</p>
<h3>What is an XML API?</h3>
<p>An XML API is a web service where either the request or the response are in XML.  In the case of the  	360 Link XML API, the request is in the form of a URL, and the response is in XML.  Read more about 	<a href="http://en.wikipedia.org/wiki/Web_service">web services at Wikipedia</a>.</p>
<h3>360 Link vs. other OpenURL Link Resolvers</h3>
<p><a href="http://www.serialssolutions.com/ss_360_link.html">360 Link</a> is a commercial link resolver product of Serials Solutions. There are other link resolver products available that accept OpenURL requests, some of which also provide XML APIs.  I will use 360 Link as an example because I work for Serials Solutions (full disclosure).</p>
<p>Other OpenURL services include  	<a href="http://www.exlibrisgroup.com/category/SFXOverview">Ex Libris SFX</a>, 	and <a href="http://www2.ebsco.com/en-us/ProductsServices/linksource/Pages/index.aspx">EBSCO Link Source</a>.</p>
<p>The 360 Link XML API official documentation is not public, so this will be the first public look at how our API works.  Serials Solutions includes the API with the purchase of 360 Link.</p>
<h2>An InterLibrary Loan Form as Practical Example</h2>
<p>When a library doesn&#8217;t have a full text resource, it&#8217;s common to direct patrons to  	an ILL form, so that they can request the resource from another library.  Then the user needs to manually 	enter the citation data into the form; this is an error-prone and time-consuming process.</p>
<p>Our example is of a hypothetical &#8220;citation finder&#8221; service, which will direct the user to a pre-populated ILL form only when the local library does not have a licensed electronic copy of the article citation requested.  The patron could get to this ILL form from either of two starting points.  Either the patron would fill out citation information in a search form on a library&#8217;s website, or the original data would come via an OpenURL string passed from another database&#8217;s search results. <a title="reference2" name="reference2" href="../index.html%3Fp=108.html#note2">[2]</a></p>
<h2>The XML API Client in PHP</h2>
<h3>Writing a client</h3>
<p>Our client will be a computer program 	that sends an OpenURL request and receives the XML package. 	Then we can use the data in the XML package to construct our ILL form.</p>
<p>The specific tasks our client software will engage in are:</p>
<ol>
<li>Collect the citation data based on a user search for an article</li>
<li>Assemble the data for an OpenURL Query</li>
<li>Generate a valid URL from the data</li>
<li>Send it across the web to the 360 Link API and recieve the XMLresponse</li>
<li>Read and extract variables from the XML</li>
<li>Display the variables as an HTML form</li>
</ol>
<p>Many programming languages have all the tools you need to complete these tasks. I chose PHP, a scripting language designed for the Web, for a few reasons: it's widely available, can be easily deployed in a wide variety of environments, is considered very easy to work with even for beginners, and has very good documentation at <a href="http://php.net">php.net</a>.</p>
<h2>The Request: An OpenURL Query</h2>
<p>The first step in talking to the API is to generate an OpenURL request.</p>
<h3>Constructing the URL</h3>
<p>Once we have a set of key-value pairs, we need to express them in the language of a URL.</p>
<h3>The BaseURL</h3>
<p>First we need to point to a certain location on the internet.  This is done with 	the BaseURL.</p>
<p>Each OpenURL provider has their own BaseURL.  The BaseURL for Serial Solution 360 Link is:</p>
<pre class="code-sample"> http://<span class="html-tag">CLIENT IDENTIFIER</span>.openurl.xml.serialssolutions.com/openurlxml</pre>
<p>The <strong>client identifier</strong> refers to a code provided by Serials Solutions for your    organization.  If your client identifier is 000-00, then your URL would be:</p>
<pre class="code-sample"> http://<span class="html-tag">000-00</span>.openurl.xml.serialssolutions.com/openurlxml</pre>
<p>If this URL is opened in a browser, you will get an XML package back, but it will just be a diagnostic message in XML telling us that the server needs more information.  Next we will explain how to provide that information.</p>
<h3>OpenURL Key-Value Pairs</h3>
<p>If we send only the BaseURL, we&#8217;ll get a diagnostic message saying you&#8217;re missing 	a required field.  First we&#8217;ll describe the information to provide, and then  	show how to encode this information in a URL.</p>
<p>OpenURL 1.0 has a certain minimum set of key-value pairs you need to send with each query, 	just to meet the OpenURL standard.</p>
<p>In addition, the Serials Solutions 360 Link XML API requires 	an additional <strong>version</strong> key-value pair that is not a part of the OpenURL  	standard. The version allows us to make changes to our API interface over time.</p>
<p>Add to these the fields for citation data, and we have a basic set of key-value pairs  	that allow us to interact with the server.  If we miss one of these values, the 	server will return an error message in XML.</p>
<h4>Required Values</h4>
<table border="0">
<tbody>
<tr>
<th>Friendly Name</th>
<th>Notes</th>
<th>Key</th>
<th>=</th>
<th>Value Example</th>
<th>Value Range</th>
</tr>
<tr>
<td>360 Link API Version</td>
<td>Included to allow for backward compatibility when newer versions of  			the API are released.  This is not part of the OpenURL standard, but 			360Link XML API queries won&#8217;t work without it.</td>
<td>version</td>
<td>=</td>
<td>1.0</td>
<td>Currently the 1.0 version is the only 360 Link XML API Version</td>
</tr>
<tr>
<td>OpenURL Version</td>
<td>This refers to the  			<a href="http://www.niso.org/kst/reports/standards?step=2&amp;gid=&amp;project_key=d5320409c5160be4697dc046613f71b9a773cd9e"> ANSI/NISO standard for OpenURL</a> itself.</td>
<td>url_ver</td>
<td>=</td>
<td>Z39.88-2004</td>
<td>Z39.88-2004 refers to the  			current standard (1.0), and the only currently supported by the 360 Link  			XML API.</td>
</tr>
<tr>
<td>Metadata Format</td>
<td>Specifies what resource we&#8217;re referring to. OpenURL offers several metadata formats for different types of items. For the the purposes 			of this article we will use the journal format which is for journal articles among other things.</td>
<td>rft_val_fmt</td>
<td>=</td>
<td>info:ofi/fmt:kev:mtx:journal</td>
<td>Read the OpenURL specification for other kinds of queries. 			In general, use the example value for 360 Link XML API Requests.</td>
</tr>
</tbody>
</table>
<p>In addition to including these basic minimum values, you need values that refer to a specific resource.</p>
<p>The full OpenURL specification is fairly complex, and is the only place where all 	possible fields are documented.  However, here is a list of the most common  	key-value pairs for citation data:</p>
<table border="0">
<tbody>
<tr>
<th>Friendly Name</th>
<th>Key</th>
</tr>
<tr>
<td>Article Title</td>
<td>rft.atitle</td>
</tr>
<tr>
<td>Journal Title</td>
<td>rft.title</td>
</tr>
<tr>
<td>Genre</td>
<td>rft.genre</td>
</tr>
<tr>
<td>ISSN</td>
<td>rft.issn</td>
</tr>
<tr>
<td>Journal Volume</td>
<td>rft.volume</td>
</tr>
<tr>
<td>Journal Issue</td>
<td>rft.issue</td>
</tr>
<tr>
<td>Page Number or Range</td>
<td>rft.spage</td>
</tr>
<tr>
<td>Issue Date</td>
<td>rft.date</td>
</tr>
<tr>
<td>Author Last Name</td>
<td>rft.aulast</td>
</tr>
<tr>
<td>Author First Name</td>
<td>rft.aufirst</td>
</tr>
<tr>
<td>Author Full Name</td>
<td>rft.au</td>
</tr>
<tr>
<td>Author Corporation</td>
<td>rft.aucorp</td>
</tr>
</tbody>
</table>
<p>When you send this citation data for an article to the server, 360 Link attempts to  	figure out what journal resource you&#8217;re looking for, and return full text results  	if they are available.</p>
<p>To refer to a specific article, we can instead use a   	<a href="http://doi.org">DOI number</a> or  	<a href="http://www.ncbi.nlm.nih.gov/sites/entrez?db=PubMed">PubMed ID</a> by using the rft_id key with a special prefix for the value:</p>
<table border="0">
<tbody>
<tr>
<th>Friendly Name</th>
<th>Key</th>
<th>=</th>
<th>Value Prefix</th>
</tr>
<tr>
<td>DOI Number</td>
<td>rft_id</td>
<td>=</td>
<td>info:doi/[doi number]</td>
</tr>
<tr>
<td>PubMed Number</td>
<td>rft_id</td>
<td>=</td>
<td>info:pmid/[PubMed ID]</td>
</tr>
</tbody>
</table>
<h4>What Data to Send</h4>
<p>The API is expecting at least enough data to identify a journal, and will respond in one of three different ways:</p>
<ol>
<li>Give an error message because of lack of data</li>
<li>Return only the most basic journal level information</li>
<li>Return full citation information for an article</li>
</ol>
<p>Usually, the API will not return the article data (like the page number or  	article name) unless they&#8217;re passed in in the request. 	In many cases, however, a PubMed or DOI id will fetch full article citation data automatically by  	contacting either a PubMed or DOI service.</p>
<h3>Our first example: A DOI Number Query</h3>
<p>The only real required value is the <strong>version</strong>, which refers to the version 	of the Serials Solutions XML API we&#8217;re using.  At the time of this writing, the 360 Link API 	has only one version, <strong>1.0</strong>, so this is the value we&#8217;ll use.</p>
<p>Then we need some way of referring to an actual resource, and the simplest way is to refer to 	an article by a unique article-level link. As an example, let&#8217;s use the DOI number for the article  	<strong>How the Mind Hurts and Heals the Body</strong>.  The DOI ID is 	<strong>10.1037/0003-066X.59.1.29</strong>.</p>
<p>Here&#8217;s the key-value pair for our DOI number:</p>
<table border="0">
<tbody>
<tr>
<th>Friendly Name</th>
<th>Key</th>
<th>=</th>
<th>Value</th>
</tr>
<tr>
<td>DOI Number</td>
<td>rft_id</td>
<td>=</td>
<td>info:doi/10.1037/0003-066X.59.1.29</td>
</tr>
</tbody>
</table>
<p>Notice that a DOI Number is specified by adding <strong>info:doi/</strong> at the beginning 	of the <strong>rft_id</strong> value to tell it what kind of ID we&#8217;re using.</p>
<h4>Key-Value Pairs in a URL Query String</h4>
<p>This is where we send the actual information.  URL&#8217;s have a format for sending key-value pairs 	called the <strong>query string</strong>.  The query string always starts with a  	<strong>question mark (?)</strong> that separates it from the BaseURL:</p>
<pre class="code-sample"> http://<span class="html-tag">000-00</span>.openurl.xml.serialssolutions.com/openurlxml<strong>?</strong></pre>
<p>Then we add a key-value pair, separated by an <strong>equals sign (=)</strong></p>
<pre class="code-sample"> <span class="url-key">version</span>=<span class="url-value">1.0</span></pre>
<p>Then we add our required key-value pairs, separated by 	<strong>ampersands (&amp;)</strong></p>
<pre class="code-sample"> <span class="url-key">version</span>=<span class="url-value">1.0</span>&amp;<span class="url-key">url_ver</span>=<span class="url-value">Z39.88-2004</span>&amp;<span class="url-key">rft_val_fmt</span>=<span class="url-value">info:ofi/fmt:kev:mtx:journal</span></pre>
<p>Then we add our DOI number so we can get some citation data:</p>
<pre class="code-sample"> <span class="url-key">version</span>=<span class="url-value">1.0</span>&amp;<span class="url-key">url_ver</span>=<span class="url-value">Z39.88-2004</span>&amp;<span class="url-key">rft_val_fmt</span>=<span class="url-value">info:ofi/fmt:kev:mtx:journal</span>&amp;<span class="url-key">rft_id</span>=<span class="url-value">info:doi/10.1037/0003-066X.59.1.29</span></pre>
<p>Now we add the query string to the BaseURL:</p>
<pre class="code-sample"> http://<span class="html-tag">000-00</span>.openurl.xml.serialssolutions.com/openurlxml<strong>?</strong><span class="url-key">version</span>=<span class="url-value">1.0</span>&amp;<span class="url-key">url_ver</span>=<span class="url-value">Z39.88-2004</span>&amp;<span class="url-key">rft_val_fmt</span>=<span class="url-value">info:ofi/fmt:kev:mtx:journal</span>&amp;<span class="url-key">rft_id</span>=<span class="url-value">info:doi/10.1037/0003-066X.59.1.29</span></pre>
<p>This is close, but won&#8217;t quite work.  URL&#8217;s have rules about what characters are allowed. 	For example, question marks (?), equals signs (=), and ampersands (&amp;) 	all have special meanings in a URL, so if we need one of these characters in a URL key 	or value, we need a different way to represent it.</p>
<p>The only characters that are allowed in the key or value of a URL are:</p>
<ul>
<li>Upper case letters (A-Z)</li>
<li>Lower case letters (a-z)</li>
<li>A few symbols: the period (.), the dash (-), the underscore (_) and the tilde (~)</li>
</ul>
<p><strong>All</strong> other characters, including the space character, need to be 	<strong>percent encoded</strong>.</p>
<h4>Percent Encoding</h4>
<p>URL encoding is sometimes called <strong>percent encoding</strong>, because 	URL codes start with the percent sign (%) and are followed by a 2-digit number. 	The percent code for a space is <strong>%20</strong>, but it can also be 	represented by a plus sign (+).</p>
<p>You can view a chart of the percent codes at the  	<a href="http://en.wikipedia.org/wiki/Percent-encoding">Wikipedia page on percent encoding</a>.</p>
<p>Keep in mind that you don&#8217;t encode every character in a URL, just the ones in the  	keys and values.  When we convert these keys and values, we get the following URL:</p>
<pre class="code-sample"> http://<span class="html-tag">000-00</span>.openurl.xml.serialssolutions.com/openurlxml<strong>?</strong><span class="url-key">version</span>=<span class="url-value">1.0</span>&amp;<span class="url-key">rft_val_fmt</span>=<span class="url-value">info%3Aofi%2Ffmt%3Akev%3Amtx%3Ajournal</span>&amp;<span class="url-key">url_ver</span>=<span class="url-value">Z39.88-2004</span>&amp;<span class="url-key">rft_id</span>=<span class="url-value">info%3Adoi%2F10.1037%2F0003-066X.59.1.29</span></pre>
<p>There&#8217;s no reason to do this process manually, because this is a great job for a computer.</p>
<h4>Encoding the key-value pairs with PHP</h4>
<p>So, the first part of writing our client is getting your program to encode the values for you, 	and making a URL the program can send.  PHP has a function: <strong>urlencode()</strong> that takes an unencoded string, and returns a string  	that&#8217;s all ready for the key or value part of the URL.</p>
<p>Here is a sample piece of PHP code that goes through a list of URL keys and values like this:</p>
<pre class="brush: php; title: ; notranslate" title="">
// Required URL Values
$required_url_elements = Array();
$required_url_elements&#x5B;&#039;version&#039;] = &#039;1.0&#039;;
$required_url_elements&#x5B;&#039;rft_val_fmt&#039;] = &#039;info:ofi/fmt:kev:mtx:journal&#039;;

$required_url_elements&#x5B;&#039;url_ver&#039;] = &#039;Z39.88-2004&#039;;

// Citation Information
$citation_url_elements = Array();
$citation_url_elements&#x5B;&#039;rft_id&#039;] = &#039;info:doi/10.1037/0003-066X.59.1.29&#039;;    

$url_elements = array_merge($required_url_elements, $citation_url_elements);
</pre>
<p>And encodes each key and value, assembling our completed URL:</p>
<pre class="brush: php; title: ; notranslate" title="">

// URL Setup
$client_identifier = &#039;000-00&#039;;
$base_url = &#039;http://&#039; . $client_identifier . &#039;.xml.search.serialssolutions.com/openurlxml&#039;;

// Query String Values Assembler
$first_value = true;
$query_string = &#039;&#039;;
foreach ($url_elements as $key =&gt; $value) {

    // If it&#039;s the first value, use a ? to start the query string
    // otherwise, use the &amp;amp;amp;amp;amp;amp;amp;amp;amp;amp;amp;amp;amp;amp;.
        $seperator = $first_value ? &quot;?&quot; : &quot;&amp;amp;amp;amp;amp;amp;amp;amp;amp;amp;amp;amp;amp;amp;&quot;;
        $first_value = false; 

    // Add this key-value pair to the query string
    // using PHP&#039;s urlencode() function
    $query_string .=
        $seperator .
        urlencode($key) . &quot;=&quot; . urlencode($value);
}

// Add the base URL to the query string
$api_url = $base_url . $query_string;

</pre>
<p>Once you have the query string, you can use PHP to send it to the Serials Solutions server.</p>
<p>Now we have a valid OpenURL request submittable to 360 Link&#8217;s XML API.</p>
<h4>Trying it out in a browser</h4>
<p>If you are not a 360 Link customer, with a valid client identifier and  	authorized IP address for that client identifier, you&#8217;re not going to be able to  	issue this request.  If you can, go ahead and put that URL right in a browser and see what you get.</p>
<p>Get a login popup?  Or a 501 error?  Then you&#8217;re not authorized.  Get a hunk of XML?  Perfect!</p>
<h2>Sending the Query With cURL via PHP</h2>
<p>We&#8217;ve constructed our URL, and we could easily print it out, and then cut and paste it into a browser. The whole point of using an XML API is being able to automate this kind of process, so that we can build our ILL form automatically based on any resource our user wants. So we need a way to be able to send our key-value pairs to the Serials Solutions server and get the XML in response. Next we will demonstrate sending a URL and getting a response in PHP using the cURL library<a title="reference3" name="reference3" href="../index.html%3Fp=108.html#note3">[3]</a>.</p>
<h3>cURL in PHP</h3>
<p>Since cURL is an external library, we need to make sure it&#8217;s enabled in PHP.   	PHP has a handy way to look at its settings.  Just create a file that looks 	like this, and open in a web browser:</p>
<pre class="brush: php; title: ; notranslate" title="">

&lt;?php&gt; phpinfo(); ?&gt;
</pre>
<p>PHP will generate a page showing all of its settings, and external modules. 	If cURL is installed, you should see something like this included on the page:</p>
<div><img decoding="async" src="../media/issue4/talsky/phpinfo_curl_settings.png" alt="phpinfo() cURL settings" /></div>
<p>If you don&#8217;t see that, then you may need to do some additional steps to <a href="http://us2.php.net/manual/en/curl.setup.php">set up cURL on PHP</a> (or see <a href="http://us3.php.net/curl">cURL PHP Docs</a>). Alternately, you could use fopen()<a title="reference4" name="reference4" href="../index.html%3Fp=108.html#note4">[4]</a>.</p>
<p>Assuming you have PHP with cURL working, here is a simple function that uses cURL 	to send the URL and get the resulting XML:</p>
<pre class="brush: php; title: ; notranslate" title="">

/*
 * A simple example function using cURL to send an OpenURL request and
 * receive an XML string for processing.
 *
 * @param string $url An openURL to attempt to retrieve
 * @return mixed $result An XML string, or false if an error
 */
function get_xml_result($url) {

    // Initialize our cURL handle
    $ch = curl_init();

    // Set the URL
    curl_setopt($ch, CURLOPT_URL, $url);

    // Set the user agent
    $user_agent = $_SERVER&#x5B;&#039;HTTP_USER_AGENT&#039;];
    curl_setopt($ch, CURLOPT_USERAGENT, $user_agent);

    // We don&#039;t want the HTTP header, we just want the XML
    curl_setopt($ch, CURLOPT_HEADER, 0);

    // This makes the curl_exec call return a string
    curl_setopt($ch, CURLOPT_RETURNTRANSFER, 1);

    // Follow any location headers
    curl_setopt($ch, CURLOPT_FOLLOWLOCATION, 1);

    // Set some sane timeouts
    curl_setopt($ch, CURLOPT_CONNECTTIMEOUT, 30);
    curl_setopt($ch, CURLOPT_TIMEOUT, 120);

    // Attempt to fetch the XML
    $result = curl_exec($ch);   

    // Make sure we don&#039;t have whitespace at the beginning
    $result = trim($result);

    // Check to see if we were successful
    if (curl_errno($ch) != 0) {
        $result = false;
        // We&#039;re not using this, but this is how to get the error message:
        $error_message = curl_error($ch);
    } 

    // Close our cURL handle
    curl_close($ch);    

    return $result;
}

</pre>
<p>And what is <strong>$result</strong>?  Hopefully, it&#8217;s a piece of data from the Serials 	Solutions servers that we can read and parse.  Here&#8217;s an example of using the function properly:</p>
<pre class="brush: php; title: ; notranslate" title="">

// URL Input for testing
if ($api_url) {
    $xml = trim(get_xml_result($url));
}   

// Check to see if we successfully got XML
if ($xml !== false){
    print(&quot;&lt;h2&gt;We got a successful response:&lt;/h2&gt;&quot;);
    print(htmlspecialchars($xml));
} else {
    print(&quot;&lt;h2&gt;cURL error&lt;/h2&gt;&quot;);
}

</pre>
<p>Let&#8217;s go over the basics of XML and what we need to know to parse our response.</p>
<h2>Understanding the 360 Link XML Response</h2>
<h3>The Diagnostic Message</h3>
<p>First of all, here&#8217;s the URL we&#8217;d use to get this diagnostic message.  It&#8217;s just the raw BaseURL with 	no key-value pairs at all:</p>
<pre> http://000-00.openurl.xml.serialssolutions.com/openurlxml</pre>
<p>And here&#8217;s the resulting XML we&#8217;d get:</p>
<pre class="brush: xml; title: ; notranslate" title="">
&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;
&lt;ssopenurl:openURLResponse
    xmlns:dc=&quot;http://purl.org/dc/elements/1.1/&quot;
    xmlns:ssdiag=&quot;http://xml.serialssolutions.com/ns/diagnostics/v1.0&quot;
    xmlns:ssopenurl=&quot;http://xml.serialssolutions.com/ns/openurl/v1.0&quot;
    xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;
    xsi:schemaLocation=&quot;http://xml.serialssolutions.com/ns/openurl/v1.0 http://xml.serialssolutions.com/ns/openurl/v1.0/ssopenurl.xsd http://xml.serialssolutions.com/ns/diagnostics/v1.0 http://xml.serialssolutions.com/ns/diagnostics/v1.0/diagnostics.xsd&quot;&gt;
    &lt;ssopenurl:version&gt;1.0&lt;/ssopenurl:version&gt;
    &lt;ssdiag:diagnostics&gt;
        &lt;ssdiag:diagnostic&gt;
            &lt;ssdiag:uri&gt;sersol/diagnostics/7&lt;/ssdiag:uri&gt;
            &lt;ssdiag:details&gt;Version not specified&lt;/ssdiag:details&gt;
            &lt;ssdiag:message&gt;Mandatory parameter not supplied&lt;/ssdiag:message&gt;
        &lt;/ssdiag:diagnostic&gt;
    &lt;/ssdiag:diagnostics&gt;
    &lt;ssopenurl:echoedQuery timeStamp=&quot;2008-07-18T14:57:21&quot;/&gt;
&lt;/ssopenurl:openURLResponse&gt;

</pre>
<p>Here is a visual diagram of the elements we&#8217;d see in a diagnostic message.  Compare the  	elements in the XML to the diagram and it should give a pretty good idea of the shape 	of this data.</p>
<p><img decoding="async" src="../media/issue4/talsky/diagram_diagnostic_xml.png" alt="Simple XML Container Diagram" /></p>
<p>Let&#8217;s go over a few of these containers and their meanings:</p>
<h4>openURLResponse</h4>
<p>This element will always be present, whether we get a successful response or an error message.</p>
<h4>version</h4>
<p>This is the API version being echoed back to us, a kind of sanity check, if you will. 	We can always expect this container.</p>
<h4>echoedQuery</h4>
<p>This is another sanity check, and should always be returned.  It&#8217;s a  	copy of the URL query we sent so we can make sure the API server got the same information 	we sent.</p>
<h4>diagnostics</h4>
<p>The container for one or more <strong>diagnostic</strong> elements. In fact, there&#8217;s only going to be one diagnostic element at a time.  If we&#8217;re missing multiple 	required parameters, for instance, the API will just pick the first one we&#8217;re missing 	and report on that.</p>
<h4>diagnostic</h4>
<p>This element is a container for the actual error.  Theoretically there could be multiple  	<strong>diagnostic</strong> elements in the <strong>diagnostics</strong> element, but 	we will only ever get one from this version of the API.</p>
<h4>uri</h4>
<p>URI means Uniform Resource Indicator.  A URL is one kind of URI.   	This refers to a code for the error message that was returned that refers to the  	360 Link and OpenURL documentation.</p>
<h4>message</h4>
<p>This is the error type that the <strong>uri</strong> refers to.  This can be only one of a  	few messages and won&#8217;t give a lot of detail about what the problem was.</p>
<h4>details</h4>
<p>This will be more specific text about what went wrong.  Used in combination with the 	<strong>message</strong> you should be able to decipher what went wrong.  Taking a look  	at our earlier message, and putting together the <strong>message</strong> and  	<strong>details</strong>, we should be able to figure out what went wrong.</p>
<p>Message: Mandatory parameter not supplied</p>
<p>Details: Version not specified</p>
<p>So, the message is not very specific.  It just gives us the message that we missed 	a mandatory parameter. It is the details section which tells us which parameter was missing.</p>
<h4>Other Diagnostic Messages</h4>
<p>The full list of diagnostic information is detailed in the 360 Link XML API documentation, 	but some other kinds of diagnostic message types are:</p>
<ul>
<li>System Temporarily Unavailable</li>
<li>Authentication error</li>
<li>Unsupported version</li>
<li>Identifier with no data</li>
<li>Not enough metadata supplied</li>
</ul>
<h3>A Successful Query</h3>
<p>Now let&#8217;s look at an example of a successful query that returns results. 	Here&#8217;s the example for our earlier DOI example query:</p>
<pre class="code-sample"> http://<span class="html-tag">000-00</span>.openurl.xml.serialssolutions.com/openurlxml<strong>?</strong><span class="url-key">version</span>=<span class="url-value">1.0</span>&amp;<span class="url-key">rft_val_fmt</span>=<span class="url-value">info%3Aofi%2Ffmt%3Akev%3Amtx%3Ajournal</span>&amp;<span class="url-key">rfr_id</span>=<span class="url-value">info%3Asid%2Fsersol%3ARefinerQuery</span>&amp;<span class="url-key">url_ver</span>=<span class="url-value">Z39.88-2004</span>&amp;<span class="url-key">rft_id</span>=<span class="url-value">info%3Adoi%2F10.1037%2F0003-066X.59.1.29</span></pre>
<p>And the XML result:</p>
<pre class="brush: xml; title: ; notranslate" title="">

&lt;ssopenurl:openurlresponse xmlns:dc=&quot;http://purl.org/dc/elements/1.1/&quot;&gt;
    xmlns:ssdiag=&quot;http://xml.serialssolutions.com/ns/diagnostics/v1.0&quot;
    xmlns:ssopenurl=&quot;http://xml.serialssolutions.com/ns/openurl/v1.0&quot;
    xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;
    xsi:schemaLocation=&quot;http://xml.serialssolutions.com/ns/openurl/v1.0 http://xml.serialssolutions.com/ns/openurl/v1.0/ssopenurl.xsd http://xml.serialssolutions.com/ns/diagnostics/v1.0 http://xml.serialssolutions.com/ns/diagnostics/v1.0/diagnostics.xsd&quot;&gt;
    &lt;ssopenurl:version&gt;1.0&lt;/ssopenurl:version&gt;
    &lt;ssopenurl:results dbdate=&quot;2008-07-18&quot;&gt;
        &lt;ssopenurl:result format=&quot;journal&quot;&gt;
            &lt;ssopenurl:citation&gt;
                &lt;dc:title&gt;How the Mind Hurts and Heals the Body.&lt;/dc:title&gt;
                &lt;dc:source&gt;The American psychologist&lt;/dc:source&gt;
                &lt;dc:date&gt;2004&lt;/dc:date&gt;
                &lt;ssopenurl:issn type=&quot;print&quot;&gt;0003-066X
                &lt;/ssopenurl:issn&gt;
                &lt;ssopenurl:issn type=&quot;electronic&quot;&gt;1935-990X
                &lt;/ssopenurl:issn&gt;
                &lt;ssopenurl:volume&gt;59&lt;/ssopenurl:volume&gt;
                &lt;ssopenurl:issue&gt;1&lt;/ssopenurl:issue&gt;
                &lt;ssopenurl:spage&gt;29&lt;/ssopenurl:spage&gt;
                &lt;ssopenurl:doi&gt;10.1037/0003-066X.59.1.29&lt;/ssopenurl:doi&gt;
            &lt;/ssopenurl:citation&gt;
            &lt;ssopenurl:linkgroups&gt;
                &lt;ssopenurl:linkgroup type=&quot;holding&quot;&gt;
                    &lt;ssopenurl:holdingdata&gt;
                        &lt;ssopenurl:startdate&gt;01/01/1946&lt;/ssopenurl:startdate&gt;
                        &lt;ssopenurl:providerid&gt;PRVCSA&lt;/ssopenurl:providerid&gt;
                        &lt;ssopenurl:providername&gt;CSA&lt;/ssopenurl:providername&gt;
                        &lt;ssopenurl:databaseid&gt;CPB&lt;/ssopenurl:databaseid&gt;
                        &lt;ssopenurl:databasename&gt;APA PsycArticles&lt;/ssopenurl:databasename&gt;
                        &lt;ssopenurl:normalizeddata&gt;
                            &lt;ssopenurl:startdate&gt;1946-01-01&lt;/ssopenurl:startdate&gt;
                        &lt;/ssopenurl:normalizeddata&gt;
                    &lt;/ssopenurl:holdingdata&gt;
                    &lt;ssopenurl:url type=&quot;source&quot;&gt;http://www.csa.com/htbin/dbrng.cgi?username=xxxxx&amp;amp;amp;amp;amp;amp;amp;amp;amp;amp;amp;amp;amp;amp;access=xxxxx&amp;amp;amp;amp;amp;amp;amp;amp;amp;amp;amp;amp;amp;amp;db=psycarticles-set-c&amp;amp;amp;amp;amp;amp;amp;amp;amp;amp;amp;amp;amp;amp;mode=browse
                    &lt;/ssopenurl:url&gt;
                    &lt;ssopenurl:url type=&quot;journal&quot;&gt;http://www.csa.com/htbin/dbrng.cgi?username=##########&amp;amp;amp;amp;amp;amp;amp;amp;amp;amp;amp;amp;amp;amp;access=$$$$$$$$$$&amp;amp;amp;amp;amp;amp;amp;amp;amp;amp;amp;amp;amp;amp;db=psycarticles-set-c&amp;amp;amp;amp;amp;amp;amp;amp;amp;amp;amp;amp;amp;amp;issn=0003-066X&amp;amp;amp;amp;amp;amp;amp;amp;amp;amp;amp;amp;amp;amp;mode=all
                    &lt;/ssopenurl:url&gt;
                &lt;/ssopenurl:linkgroup&gt;
                &lt;ssopenurl:linkgroup type=&quot;holding&quot;&gt;
                    &lt;ssopenurl:holdingdata&gt;
                        &lt;ssopenurl:startdate&gt;01/01/1946&lt;/ssopenurl:startdate&gt;
                        &lt;ssopenurl:providerid&gt;PRVOVD&lt;/ssopenurl:providerid&gt;
                        &lt;ssopenurl:providername&gt;Ovid&lt;/ssopenurl:providername&gt;
                        &lt;ssopenurl:databaseid&gt;OPA&lt;/ssopenurl:databaseid&gt;
                        &lt;ssopenurl:databasename&gt;Journals@Ovid PsycArticles&lt;/ssopenurl:databasename&gt;
                        &lt;ssopenurl:normalizeddata&gt;
                            &lt;ssopenurl:startdate&gt;1946-01-01&lt;/ssopenurl:startdate&gt;
                        &lt;/ssopenurl:normalizeddata&gt;
                    &lt;/ssopenurl:holdingdata&gt;
                    &lt;ssopenurl:url type=&quot;source&quot;&gt;http://www.ovid.com/site/catalog/Group/886.jsp?top=2&amp;amp;amp;amp;amp;amp;amp;amp;amp;amp;amp;amp;amp;amp;mid=3&amp;amp;amp;amp;amp;amp;amp;amp;amp;amp;amp;amp;amp;amp;bottom=7&amp;amp;amp;amp;amp;amp;amp;amp;amp;amp;amp;amp;amp;amp;subsection=12
                    &lt;/ssopenurl:url&gt;
                    &lt;ssopenurl:url type=&quot;article&quot;&gt;http://ovidsp.ovid.com/ovidweb.cgi?T=JS&amp;amp;amp;amp;amp;amp;amp;amp;amp;amp;amp;amp;amp;amp;PAGE=fulltext&amp;amp;amp;amp;amp;amp;amp;amp;amp;amp;amp;amp;amp;amp;NEWS=N&amp;amp;amp;amp;amp;amp;amp;amp;amp;amp;amp;amp;amp;amp;D=ovft&amp;amp;amp;amp;amp;amp;amp;amp;amp;amp;amp;amp;amp;amp;SEARCH=0003-066X.is+and+59.vo+and+1.ip+and+29.pg
                    &lt;/ssopenurl:url&gt;
                    &lt;ssopenurl:url type=&quot;journal&quot;&gt;http://ovidsp.ovid.com/ovidweb.cgi?T=JS&amp;amp;amp;amp;amp;amp;amp;amp;amp;amp;amp;amp;amp;amp;PAGE=toc&amp;amp;amp;amp;amp;amp;amp;amp;amp;amp;amp;amp;amp;amp;D=ovft&amp;amp;amp;amp;amp;amp;amp;amp;amp;amp;amp;amp;amp;amp;MODE=ovid&amp;amp;amp;amp;amp;amp;amp;amp;amp;amp;amp;amp;amp;amp;NEWS=N&amp;amp;amp;amp;amp;amp;amp;amp;amp;amp;amp;amp;amp;amp;AN=00000487-000000000-00000
                    &lt;/ssopenurl:url&gt;
                    &lt;ssopenurl:url type=&quot;volume&quot;&gt;http://ovidsp.ovid.com/ovidweb.cgi?T=JS&amp;amp;amp;amp;amp;amp;amp;amp;amp;amp;amp;amp;amp;amp;PAGE=titles&amp;amp;amp;amp;amp;amp;amp;amp;amp;amp;amp;amp;amp;amp;NEWS=N&amp;amp;amp;amp;amp;amp;amp;amp;amp;amp;amp;amp;amp;amp;D=ovft&amp;amp;amp;amp;amp;amp;amp;amp;amp;amp;amp;amp;amp;amp;SEARCH=0003-066X.is+and+59.vo
                    &lt;/ssopenurl:url&gt;
                    &lt;ssopenurl:url type=&quot;issue&quot;&gt;http://ovidsp.ovid.com/ovidweb.cgi?T=JS&amp;amp;amp;amp;amp;amp;amp;amp;amp;amp;amp;amp;amp;amp;PAGE=titles&amp;amp;amp;amp;amp;amp;amp;amp;amp;amp;amp;amp;amp;amp;NEWS=N&amp;amp;amp;amp;amp;amp;amp;amp;amp;amp;amp;amp;amp;amp;D=ovft&amp;amp;amp;amp;amp;amp;amp;amp;amp;amp;amp;amp;amp;amp;SEARCH=0003-066X.is+and+59.vo+and+1.ip
                    &lt;/ssopenurl:url&gt;
                &lt;/ssopenurl:linkgroup&gt;
            &lt;/ssopenurl:linkgroups&gt;
        &lt;/ssopenurl:result&gt;
    &lt;/ssopenurl:results&gt;
    &lt;ssopenurl:echoedquery timestamp=&quot;2008-07-18T15:02:32&quot;&gt;
        &lt;ssopenurl:library id=&quot;CS3RS7TS5U&quot;&gt;
            &lt;ssopenurl:name&gt;Julia&#039;s Test Library 3 (linkers as of 2.03)&lt;/ssopenurl:name&gt;
        &lt;/ssopenurl:library&gt;
        &lt;ssopenurl:querystring&gt;rft_id=info%3Adoi%2F10.1037%2F0003-066X.59.1.29&amp;amp;amp;amp;amp;amp;amp;amp;amp;amp;amp;amp;amp;amp;version=1.0&amp;amp;amp;amp;amp;amp;amp;amp;amp;amp;amp;amp;amp;amp;rft_val_fmt=info%3Aofi%2Ffmt%3Akev%3Amtx%3Ajournal&amp;amp;amp;amp;amp;amp;amp;amp;amp;amp;amp;amp;amp;amp;rfr_id=info%3Asid%2Fsersol%3ARefinerQuery&amp;amp;amp;amp;amp;amp;amp;amp;amp;amp;amp;amp;amp;amp;url_ver=Z39.88-2004&lt;/ssopenurl:querystring&gt;
    &lt;/ssopenurl:echoedquery&gt;
&lt;/ssopenurl:openurlresponse&gt;

</pre>
<p>Even though this example is a little more complicated, you should still be able to make out the   	structure of these responses.</p>
<p>And a diagram of the successful result:</p>
<p><img decoding="async" src="../media/issue4/talsky/diagram_results_xml.png" alt="Simple XML Container Diagram" /></p>
<p>Now, let&#8217;s sort out the important information from things you can safely ignore.</p>
<h4>Namespaces</h4>
<p>Take a look at this piece of XML:</p>
<pre class="brush: xml; title: ; notranslate" title="">
&lt;ssopenurl:results dbDate=&quot;2008-07-18&quot;&gt;
	&lt;ssopenurl:result format=&quot;journal&quot;&gt;
		&lt;ssopenurl:citation&gt;
			&lt;dc:title&gt;Some Article Not At The Library&lt;/dc:title&gt;
			&lt;dc:creator&gt;Some Guy&lt;/dc:creator&gt;
			&lt;dc:source&gt;Some Journal Not At The Library&lt;/dc:source&gt;
			&lt;ssopenurl:volume&gt;5&lt;/ssopenurl:volume&gt;
			&lt;ssopenurl:issue&gt;32&lt;/ssopenurl:issue&gt;
			&lt;ssopenurl:spage&gt;12&lt;/ssopenurl:spage&gt;
		&lt;/ssopenurl:citation&gt;
	&lt;/ssopenurl:result&gt;
&lt;/ssopenurl:results&gt;
</pre>
<p>The element names are prefixed by some characters seperated by a colon (:).  These 	represent groups of elements.  The <strong>dc:</strong> prefix, for instance, refers to  	meta-information specified by the  	<a href="http://dublincore.org/">Dublin Core</a> standard for library information. 	For the purposes of interpreting our XML results, they can mostly be ignored, and you 	can use <strong>only</strong> the element name (the part after the colon) to refer to them.</p>
<p>You&#8217;ll notice that the first few lines of the XML mostly serve to set up these namespaces.   	These can be safely ignored as well.</p>
<p>It&#8217;s beyond the scope of this tutorial to explain every part of the XML response, since 	we&#8217;re mostly focusing on what we&#8217;d get in the <strong>citationData</strong> container, but let&#8217;s go over a few of the containers we&#8217;ll see:</p>
<h4>results</h4>
<p>If you got this container, you know some real data was retrieved, and not just a diagnostic message.  A <strong>results</strong> element can contain one or more result elements and 	nothing else.</p>
<h4>result</h4>
<p>A <strong>result</strong> element represents a single journal-level resource.   	It&#8217;s possible to get more than one result, but that means that the 360 Link server 	wasn&#8217;t sure which resource you mean.  When you get more that one result element, you 	usually need some kind of disambiguation to help the user decide what resource they meant.</p>
<h4>linkGroups / linkGroup</h4>
<p>This is usually what the 360 Link web-based tool and API are both primarily for: 	to indicate and link to full-text resources for the requested article.  The details of a 	<strong>linkGroup</strong> element are beyond the scope of this article, since we want to 	fill out an ILL form only when the library does <strong>not</strong> have a full text resource 	available and it needs to be requested from another library.</p>
<h4>citation</h4>
<p>This is the focus of most of our attention.  When we get back citation data, but no full text link, 	that means we can use the citation data to populate our ILL form.</p>
<p>Usually, we will get journal level citation data back from the server.  We will not usually, 	however, get article level links, unless we passed them into the query.  For example, if we pass 	in a page range in the URL, we will see that page range echoed here.</p>
<p>An exception is when we pass in a DOI or similar article level identifier.  In this case, 	the API will sometimes fetch more complete data about the article from a similar service.</p>
<p>See the later code examples, and the sample ILL form for examples of the kind of citation data 	we&#8217;ll be looking for to populate our ILL form.</p>
<h2>Parse the XML Response with PHP</h2>
<p>Now that we can send a query and get the results back as XML, we need to</p>
<p><strong>Parsing</strong> a piece of XML means to use a program to break it apart 	into its component parts, so any piece can be accessed. 	There are many methods for parsing XML files, and I&#8217;m choosing the DOM method 	for this tutorial.  There is  	<a href="http://us2.php.net/manual/en/refs.xml.php">an overview on the PHP site</a> that shows all the different methods.</p>
<p>Parsing a piece of XML means to use a program to break it apart into its component parts, so any piece can be accessed. There are many methods in PHP for parsing XML files, and I&#8217;m choosing the PHP4 domxml method for this tutorial. There is <a href="http://us2.php.net/manual/en/refs.xml.php">an overview on the PHP site</a> that shows all the different methods. PHP processing changed a bit in PHP5. I use a PHP4 example because PHP4 is still the most widely installed. If you read and understand these examples, it shouldn&#8217;t be too hard to read the <a href="http://us.php.net/manual/en/book.dom.php">PHP5 DOM documentation</a> and adapt the code here for PHP5.</p>
<h3>Turn an XML String into a PHP Object</h3>
<p>The first thing we need to do is take our XML string and turn it into  	something useful in PHP.  The way to do this is to use the  	<a href="http://us2.php.net/domxml_open_mem">domxml_open_mem()</a> method.</p>
<p>This method takes an XML string and attempts to turn it into something 	called a DomDocument object.  This is a PHP object that acts like an XML 	container with containers inside it, but allows you to ask the container 	for information.</p>
<p>This is how you use it:</p>
<pre class="code-sample"> <span class="html-tag">if</span> (<span class="php-variables">$xmldomdoc</span> = domxml_open_mem(<span class="php-variables">$xml</span>)) {     <span class="php-comments">//</span><span class="php-comments"> Successfully created a DomDocument object.</span> } <span class="html-tag">else</span> {     <span class="php-comments">//</span><span class="php-comments"> Failed to create a DomDocument object</span>

}</pre>
<h3>Get the ILL Data Out of the PHP Object</h3>
<p>Now that we have an object in PHP that represents our XML,  	the XML is in a much more useful form. 	 	Now we can use some PHP tools to look for specific containers 	and get their contents.</p>
<h4>Looking for Elements With get_elements_by_tagname()</h4>
<p>Now that we have a PHP object, we have a handful of things we can do with it, but 	the most useful thing is to ask the object for its elements.  That is done using 	the  	<a href="http://us2.php.net/manual/en/function.domdocument-get-elements-by-tagname.php">get_elements_by_tagname()</a> method.</p>
<p><a href="http://us2.php.net/manual/en/function.domdocument-get-elements-by-tagname.php">get_elements_by_tagname()</a> takes a name of an element, and always 	returns an array whether it finds any elements by that name or not.</p>
<h4>Getting the Contents of Elements with get_content()</h4>
<p>The next important method of the DomDocument object is the  	<a href="http://us2.php.net/manual/en/function.domnode-get-content.php">get_content()</a> method.  If you&#8217;re in a container that has the actual data you need, you can call 	<a href="http://us2.php.net/manual/en/function.domnode-get-content.php">get_content()</a> to get the actual text inside.</p>
<p>These two methods are just about all we need to get the data for our ILL form.</p>
<p>Here&#8217;s some examples of how to use them:</p>
<pre class="brush: php; title: ; notranslate" title="">
// Getting an array of containers with get_elements_by_tagname()
$array_of_containers = $xmldomdoc-&gt;get_elements_by_tagname(&#039;version&#039;);

// Working our way through each each element in the collection
foreach ($array_of_containers as $container) {
    $version_number = $container-&gt;get_content();
}

// Getting the only element if we know there&#039;s only one
$the_only_version_container =
    array_pop($xmldomdoc-&gt;get_elements_by_tagname(&#039;version&#039;));

// if we do it this way, we need to check to make sure
// we got an actual container object, otherwise calling
// get_content() on NULL will crash our program
if (is_callable(array($the_only_version_container,&#039;get_content&#039;))) {
    $version_number = $the_only_version_container-&gt;get_content();
}
</pre>
<h4>Using array_pop() and is_callable() to confirm the presence of data</h4>
<p>Some containers may or may not appear in the XML result.  ISSN, for instance, we would want 	to display in our ILL form if available, but our XML might not have an ISSN container. 	If we call  	<a href="http://us2.php.net/manual/en/function.domdocument-get-elements-by-tagname.php">get_elements_by_tagname()</a> on the ISSN container, it will return an empty array.</p>
<p>We&#8217;re calling  	<a href="http://us3.php.net/manual/en/function.array-pop.php">array_pop()</a>,  	which returns the first element in an array. 	If the array is empty, it returns NULL, meaning no value.  If you try 	to call  	<a href="http://us2.php.net/manual/en/function.domnode-get-content.php">get_content()</a> on NULL, PHP will return a fatal error:  	<strong>Call to a member function on a non-object</strong>.</p>
<p>One way of avoiding this in PHP is to use  	<a href="http://us3.php.net/manual/en/function.is-callable.php">is_callable()</a> to make sure  	<a href="http://us2.php.net/manual/en/function.domnode-get-content.php">get_content()</a> is allowed for the object you&#8217;re about to call.  You can see an 	example of use in the example above.</p>
<p>Now we have the tools we need to handle our ILL form.</p>
<h2>When to display the ILL form</h2>
<p>We don&#8217;t automatically want to display an ILL form.  The only case where we want to is when a user requests a valid resource we don&#8217;t have access to at the library.</p>
<p>Here&#8217;s a chart that shows the different cases and how to handle them:</p>
<table border="0">
<tbody>
<tr>
<th>Situation</th>
<th>Meaning</th>
<th>How to handle it</th>
</tr>
<tr>
<td>We get a diagnostic message</td>
<td>Somehow we didn&#8217;t construct a valid request.</td>
<td>Recover gracefully and display a useful error message to the user. 			Log the error and troubleshoot the problem.</td>
</tr>
<tr>
<td>We get multiple results.</td>
<td>There was more than one matching possibility for the information sent.</td>
<td>Display a disambiguation page to let the user choose which 			resource they meant.</td>
</tr>
<tr>
<td>We get a result with full text links</td>
<td>The resource is available to the organization or library.</td>
<td>Display links to the full text of the article.</td>
</tr>
<tr>
<td>We get a result with no full text links</td>
<td>The resource isn&#8217;t available.</td>
<td>Use the citation information to populate an ILL form.</td>
</tr>
</tbody>
</table>
<p><a href="../media/issue4/talsky/sourcecode/decision_helper.phps">Attached are some helper methods and code that will let you determine which of these decisions to make.</a></p>
<p>These methods work by looking for containers by a certain name, and then using the  	<a href="http://us.php.net/count">count()</a> method to see how many containers were found.  If there is no <strong>diagnostics</strong> container, then we didn&#8217;t get an error message.  If there are more than one 	<strong>result</strong> container then that means we got more than one article result. 	If there is a <strong>linkGroup</strong> container, that means we got link resolver results.</p>
<p>Once we have these methods, we can use them to make a decision about what to display:</p>
<pre class="brush: php; title: ; notranslate" title="">
// ILL Display Decision Tree
$do_ill_form = false;
if (docxml_has_diagnostic($xmldomdoc)) {
    // DISPLAY ERROR MESSAGE
} elseif (docxml_has_multiple_article_results($xmldomdoc)) {
    // DISPLAY DISAMBIGUATION PAGE
} elseif (docxml_has_link_groups($xmldomdoc)) {
    // DISPLAY LINKS TO FULLTEXT ARTICLE
} else {
    // DISPLAY THE ILL FORM
    $do_ill_form = true;
}
</pre>
<h3>Getting the variables we need</h3>
<p>Let&#8217;s assume we know we want to display the ILL form now.</p>
<p>Here&#8217;s a query example of a fake article, where we pass in citation data we made up. 	 	Of course, the link resolver won&#8217;t find any full text results, and we will want to  	construct the ILL form.</p>
<pre class="code-sample"> http://<span class="html-tag">000-00</span>.openurl.xml.serialssolutions.com/openurlxml<strong>?</strong><span class="url-key">rft.title</span>=<span class="url-value">Some+Journal+Not+At+The+Library</span>&amp;<span class="url-key">rft.atitle</span>=<span class="url-value">Some+Article+Not+At+The+Library</span>&amp;<span class="url-key">rft.au</span>=<span class="url-value">Some+Guy</span>&amp;<span class="url-key">rft.volume</span>=<span class="url-value">5</span>&amp;<span class="url-key">rft.issue</span>=<span class="url-value">32</span>&amp;<span class="url-key">rft.pages</span>=<span class="url-value">12-14</span>&amp;<span class="url-key">version</span>=<span class="url-value">1.0</span>&amp;<span class="url-key">rft_val_fmt</span>=<span class="url-value">info%3Aofi%2Ffmt%3Akev%3Amtx%3Ajournal</span>&amp;<span class="url-key">rfr_id</span>=<span class="url-value">info%3Asid%2Fsersol%3ARefinerQuery</span>&amp;<span class="url-key">url_ver</span>=<span class="url-value">Z39.88-2004</span></pre>
<p><a href="../media/issue4/talsky/sourcecode/response_no_fulltext.xml.txt">Attached is an example of an XML response we&#8217;d get, with the citation data included and 	no full text links.</a></p>
<p>Here&#8217;s the code we&#8217;d use to get the variables we need.  Note that the XML element names are not always the same as the OpenURL variables!</p>
<pre class="brush: php; title: ; notranslate" title="">
// First, get the citation container, it has everything we need
$citation_container =
    array_pop(
        $xmldomdoc-&gt;get_elements_by_tagname(&#039;citation&#039;));
// Then get the container and content for each variable to display:

// author
$creator_container =
    array_pop(
        $citation_container-&gt;get_elements_by_tagname(&#039;creator&#039;));
if (is_callable(array($creator_container,&#039;get_content&#039;))) {
    $au = $creator_container-&gt;get_content();
}

# more

</pre>
<p>( <a href="../media/issue4/talsky/sourcecode/get_metadata_from_response.phps">More complete example attached here.</a> )</p>
<h2>Constructing the ILL form in HTML</h2>
<p>Now that we have all the PHP variables we need, we need only the smallest  	effort to turn an HTML form into one that auto-populates with the citation data.</p>
<h3>Using an HTML form as an ILL form</h3>
<h4>ILL Form Example</h4>
<p>We will start with an example of a simple static ILL form that will always have it's values start out blank, then we'll explain how to make one that's populated by our PHP script with the citation values returned in XML by 360 Link.</p>
<p><a href="../media/issue4/talsky/sourcecode/ill_form.html.txt">Attached is some sample HTML for a simplified version of an ILL form.</a></p>
<p>Include some CSS to make it pretty:</p>
<pre class="brush: css; title: ; notranslate" title="">
form .formField {
	margin-bottom: .3em;
	clear: left;
}

form .formField label {
	width: 12em;
	float: left;
}

form .formField input {
	width: 20em;
}
</pre>
<h4>Adding PHP to Populate the Form</h4>
<p>We take that static HTML from before, and embed it in a PHP file,  	adding code to populate the form the variables we've grabbed from the XML response.</p>
<p>Here&#8217;s one example:</p>
<pre class="brush: php; title: ; notranslate" title="">
&lt;input type=&quot;text&quot; id=&quot;au&quot; name=&quot;au&quot; value=&quot;&lt;?php print($au); ?&gt;&quot; /&gt;
</pre>
<p><a href="../media/issue4/talsky/sourcecode/ill_form.phps.html">Attached here is the whole form retooled to show our variables.</a></p>
<h3>What&#8217;s Missing</h3>
<p>This form doesn&#8217;t have any code included to make it validate.   	That is to say, it doesn&#8217;t do anything to ensure that the values 	people enter are valid, or that they have filled out the required fields.   	But form validation using 	PHP or JavaScript is well documented on the web and beyond the scope of this article.</p>
<p>Here&#8217;s a few good articles on form validation:</p>
<ul>
<li><a href="http://simonwillison.net/2003/Jun/17/theHolyGrail/">Simon Willison&#8217;s Weblog: Easier form validation with PHP</a></li>
<li><a href="http://www.weberdev.com/get_example-4396.html">Form Validation Using PHP to highlight non valid fields</a></li>
<li><a href="http://www.alistapart.com/articles/sensibleforms/">Sensible Forms: A Form Usability Checklist</a></li>
<li><a href="http://particletree.com/features/a-guide-to-unobtrusive-javascript-validation/">A Guide to Unobtrusive Javascript Validation</a></li>
</ul>
<p>For the purposes of this article, we&#8217;re only  	populating the citation data, but if you have a logged in user, it&#8217;s possble 	to populate the name and email address of the requester as well.</p>
<h2>Handling the Submitted ILL Form</h2>
<p>Let&#8217;s take a look at the <strong>form</strong> tag in the email form:</p>
<pre class="brush: xml; title: ; notranslate" title="">
&lt;form action=&quot;incoming_ill_form_handler.php&quot; method=&quot;post&quot;&gt;
</pre>
<p>There&#8217;s two useful pieces of information here. One is the action and the other is the method. This sends the information in the form  to a PHP script called incoming_ill_form_handler.php via the HTTP POST method.</p>
<h3>Reading the Form Data</h3>
<p>PHP fills an array called $_POST with incoming form data.  Here&#8217;s a simple way 	to debug and look at the information:</p>
<pre class="brush: php; title: ; notranslate" title="">
&lt;span class=&quot;html-tag&quot;&gt;print&lt;/span&gt;(&lt;span class=&quot;quoted-strings&quot;&gt;&#039;&lt;h2&gt;POST VALUES&lt;/h2&gt;&#039;&lt;/span&gt;);

&lt;span class=&quot;html-tag&quot;&gt;print&lt;/span&gt;(&lt;span class=&quot;quoted-strings&quot;&gt;&quot;&lt;pre&gt;&quot;&lt;/span&gt;); var_dump(&lt;span class=&quot;php-variables&quot;&gt;$_POST&lt;/span&gt;); &lt;span class=&quot;html-tag&quot;&gt;print&lt;/span&gt;(&lt;span class=&quot;quoted-strings&quot;&gt;&quot;&lt;/pre&gt;&quot;&lt;/span&gt;);
</pre>
<p>If we submitted the form as filled, we&#8217;d see this:</p>
<pre class="brush: php; title: ; notranslate" title="">
array(14) {
  &#x5B;&quot;Name&quot;]=&gt;
  string(0) &quot;&quot;
  &#x5B;&quot;Division_Dept&quot;]=&gt;
  string(0) &quot;&quot;
  &#x5B;&quot;email&quot;]=&gt;
  string(0) &quot;&quot;
  &#x5B;&quot;Priority_NeedBy&quot;]=&gt;
  string(0) &quot;&quot;
  &#x5B;&quot;au&quot;]=&gt;
  string(8) &quot;Some Guy&quot;
  &#x5B;&quot;atitle&quot;]=&gt;
  string(31) &quot;Some Article Not At The Library&quot;
  &#x5B;&quot;title&quot;]=&gt;
  string(31) &quot;Some Journal Not At The Library&quot;
  &#x5B;&quot;date&quot;]=&gt;
  string(0) &quot;&quot;
  &#x5B;&quot;volume&quot;]=&gt;
  string(1) &quot;5&quot;
  &#x5B;&quot;issue&quot;]=&gt;
  string(2) &quot;32&quot;
  &#x5B;&quot;pages&quot;]=&gt;
  string(2) &quot;12&quot;
  &#x5B;&quot;issn&quot;]=&gt;
  string(0) &quot;&quot;
  &#x5B;&quot;pmid&quot;]=&gt;
  string(0) &quot;&quot;
  &#x5B;&quot;s_request&quot;]=&gt;
  string(14) &quot;Submit Request&quot;
}
</pre>
<h3>Previewing the Data in a Web Page</h3>
<p>The simplest use of the form data is to display it on a web page as a preview. 	<a href="../media/issue4/talsky/sourcecode/form_data_display.phps">Attached is a quick code sample for doing this safely.</a> See the security section 	for more details on why to use <a href="http://us2.php.net/manual/en/function.htmlspecialchars.php">htmlspecialchars()</a>.</p>
<h3>Sending an email With the ILL Form</h3>
<p>Sending an email is similar.  We just need to construct a string for the body of the 	email and use PHP&#8217;s <a href="http://us2.php.net/function.mail">mail()</a> function.  Here is a basic example:</p>
<pre class="brush: php; title: ; notranslate" title="">
$body = &quot;ILL FORM DATA \n\n&quot;;

$body .= &quot;Name: &quot; . $_POST&#x5B;&#039;Name&#039;] . &quot;\n&quot;;
$body .= &quot;Division:&quot; . $_POST&#x5B;&#039;Division_Dept&#039;] . &quot;\n&quot;;
$body .= &quot;email:&quot; . $_POST&#x5B;&#039;email&#039;] . &quot;\n&quot;;
$body .= &quot;Need Date:&quot; . $_POST&#x5B;&#039;Priority_NeedBy&#039;] . &quot;\n&quot;;
$body .= &quot;Author:&quot; . $_POST&#x5B;&#039;au&#039;] . &quot;\n&quot;;
$body .= &quot;Article:&quot; . $_POST&#x5B;&#039;atitle&#039;] . &quot;\n&quot;;
$body .= &quot;Journal:&quot; . $_POST&#x5B;&#039;title&#039;] . &quot;\n&quot;;
$body .= &quot;Issue Date:&quot; . $_POST&#x5B;&#039;date&#039;] . &quot;\n&quot;;
$body .= &quot;Pages:&quot; . $_POST&#x5B;&#039;pages&#039;] . &quot;\n&quot;;
$body .= &quot;ISSN:&quot; . $_POST&#x5B;&#039;issn&#039;] . &quot;\n&quot;;
$body .= &quot;PubMed ID:&quot; . $_POST&#x5B;&#039;pmid&#039;] . &quot;\n\n&quot;;

/**
* Returns false if text contains newline character
*/
function has_no_newlines($text)
{
    return preg_match(&quot;/(%0A|%0D|\\n+|\\r+)/i&quot;, $text) == 0;
} 

$sanitized_name = &#039;Default Name&#039;;
if (has_no_newlines($_POST&#x5B;&#039;Name&#039;])) {
    $sanitized_name = $_POST&#x5B;&#039;Name&#039;];
}

$subject = &quot;An ILL Request form has been filled out by &quot; . $sanitized_name;
$to = &#039;danieltalsky@gmail.com&#039;;

mail($to, $subject, $body);
</pre>
<h3>Storing the ILL Form in MySQL</h3>
<p>Covering all aspects of storing data using PHP and MySQL is beyond the scope of this 	article, and is well covered in the excellent  	 	<a href="http://dev.mysql.com/doc/">MySQL Documentation</a>, 	 	<a href="http://dev.mysql.com/usingmysql/php/">MySQL documentation about PHP</a> and  	 	<a href="http://us3.php.net/manual/en/book.mysql.php">PHP documentation about MySQL</a>.   	 	Still, a few useful examples are provided below.</p>
<p>First of all, here&#8217;s a simplified example of a table structure that would 	store our ILL form:</p>
<pre class="brush: sql; title: ; notranslate" title="">
 CREATE TABLE `ill_form` (
       `id` SERIAL,
       `name` VARCHAR(100) NOT NULL,
       `division_dept` VARCHAR(50),
       `email` VARCHAR(255) NOT NULL,
       `need_date` VARCHAR(50),
       `author` VARCHAR(100),
       `article` VARCHAR(255),
       `journal` VARCHAR(255),
       `issue_date` VARCHAR(50),
       `pages` VARCHAR(20),
       `issn` VARCHAR(10),
       `pmid` VARCHAR(20),
       `time_submitted` TIMESTAMP NOT NULL DEFAULT NOW()
 );
</pre>
<p>And here&#8217;s an example of PHP code that would construct a safe SQL query:</p>
<pre class="brush: php; title: ; notranslate" title="">
$sql_insert = &#039;INSERT INTO ill_form &#039;;
$sql_insert .= &#039; (name, division_dept, email, need_date, author, &#039;;
$sql_insert .= &#039; article, journal, issue_date, pages, issn, pmid) &#039;;
$sql_insert .= &#039; VALUES &#039;;
$sql_insert .= &#039; (&#039;;
$sql_insert .= &quot;&#039;&quot; . mysql_real_escape_string($_POST&#x5B;&#039;Name&#039;]) . &quot;&#039;,&quot;;
$sql_insert .= &quot;&#039;&quot; . mysql_real_escape_string($_POST&#x5B;&#039;Division_Dept&#039;]) . &quot;&#039;,&quot;;
$sql_insert .= &quot;&#039;&quot; . mysql_real_escape_string($_POST&#x5B;&#039;email&#039;]) . &#039;, &#039;;
$sql_insert .= &quot;&#039;&quot; . mysql_real_escape_string($_POST&#x5B;&#039;Priority_NeedBy&#039;]) . &quot;&#039;,&quot;;
$sql_insert .= &quot;&#039;&quot; . mysql_real_escape_string($_POST&#x5B;&#039;au&#039;]) . &quot;&#039;,&quot;;
$sql_insert .= &quot;&#039;&quot; . mysql_real_escape_string($_POST&#x5B;&#039;atitle&#039;]) . &quot;&#039;,&quot;;
$sql_insert .= &quot;&#039;&quot; . mysql_real_escape_string($_POST&#x5B;&#039;title&#039;]) . &quot;&#039;,&quot;;
$sql_insert .= &quot;&#039;&quot; . mysql_real_escape_string($_POST&#x5B;&#039;date&#039;]) . &quot;&#039;,&quot;;
$sql_insert .= &quot;&#039;&quot; . mysql_real_escape_string($_POST&#x5B;&#039;pages&#039;]) . &quot;&#039;,&quot;;
$sql_insert .= &quot;&#039;&quot; . mysql_real_escape_string($_POST&#x5B;&#039;issn&#039;]) . &quot;&#039;,&quot;;
$sql_insert .= &quot;&#039;&quot; . mysql_real_escape_string($_POST&#x5B;&#039;pmid&#039;]) . &quot;&#039;,&quot;;
$sql_insert .= &#039; );&#039;;
</pre>
<p>Using 	<a href="http://us3.php.net/manual/en/function.mysql-real-escape-string.php">mysql_real_escape_string()</a> allows mysql to handle most tricks people would use to try to get MySQL to execute SQL code 	you didn&#8217;t intend.</p>
<p>Finally, a couple of samples of retrieving the data using raw SQL (MySQL Specific):</p>
<p> /* Gets all entries */<br />
 SELECT * FROM ill_form;</p>
<p> /* Gets all entries in the last month */<br />
 SELECT * FROM ill_form WHERE DATE_SUB(CURDATE(),INTERVAL 1 MONTH) <= time_submitted;
[/sourcecode]


<h3>Unpleasant but Necessary Security Addendum</h3>
<p>Always remember, do not trust data supplied by a user-submitted form. 	People or automated bots can place code in webforms that&#8217;s meant to hack the browser  	through javascript, PHP, or SQL.  These kinds of attacks are common 	 	and easy to do, so it&#8217;s vital to be responsible with your  	organization&#8217;s data.</p>
<p>Some security can be handled by good validation of the form when it&#8217;s submitted, but  	that is not a substitute for handling user-submitted data responsibly.  It is easy  	for a hacker to send data to your processing page in a way that 	bypasses your form validaton.</p>
<p>It can seem like there&#8217;s so much you can&#8217;t know about security that it&#8217;s almost not worth bothering, 	but the following examples should provide coverage from the most obvious kinds of attacks.</p>
<h4>For Display on an HTML Page</h4>
<p>People can enter both HTML and javascript in form fields.  If you&#8217;re displaying 	things people entered in a web form back to them, it&#8217;s vital that you use 	a function like PHP&#8217;s  	<a href="http://us2.php.net/manual/en/function.htmlspecialchars.php">htmlspecialchars()</a>. 	This converts any special characters to a safe character set for display and derails 	the potential for javascript execution.</p>
<p>Just imagine if someone entered the following into a form field and you just printed it  	right to an HTML page!</p>
<pre class="code-sample"> <span class="html-tag">&lt;</span><span class="html-tag">script</span> <span class="html-attr">type</span><span class="html-attr">=</span><span class="quoted-strings">"text/javascript"</span><span class="html-tag">&gt;</span>alert(<span class="quoted-strings">'</span><span class="quoted-strings">BAD SECURITY!</span><span class="quoted-strings">'</span>);<span class="html-tag">&lt;/</span><span class="html-tag">script</span><span class="html-tag">&gt;</span></pre>
<h4>For emailing</h4>
<p>The essential thing to remember is if you are inserting something from user input into the  	headers of an email (the <strong>subject</strong>, the  	<strong>from</strong>, <strong>to</strong> or <strong>CC</strong> lines), you need to make sure 	there aren&#8217;t any non-printing characters or linebreaks.  Usually a regular expression that 	makes sure it&#8217;s a valid email address or at least doesn&#8217;t contain the linebreak in the  	<strong>\r\n</strong> format is sufficient to prevent email injection.</p>
<p>This is covered in detail in <a href="http://www.thesitewizard.com/php/protect-script-from-email-injection.shtml">this excellent tutorial on preventing PHP email injection</a>.</p>
<h4>For Insertion into a Database</h4>
<p>This is possibly the most dangerous and easily avoided problem.  This kind of attack is called 	SQL injection, and is well detailed on the Wikipedia page on  	<a href="http://en.wikipedia.org/wiki/SQL_injection">SQL Injection</a>.</p>
<p>All SQL API&#8217;s will have an appropriate quoting mechanism or prepare statement.   	The important thing to remember is to never put raw data from a user into a SQL  	query like this:</p>
<pre class="code-sample"> <span class="php-variables">$sql</span> = <span class="quoted-strings">"SELECT * FROM USERS WHERE NAME = '"</span> . <span class="php-variables">$user_submitted_name</span> . <span class="quoted-strings">"';"</span>;</pre>
<p>This sample doesn&#8217;t make sure special characters are escaped, and allows room for sql injection. 	See our MySQL example earlier for one example of doing it properly using  	mysql_real_escape_string()</p>
<p>Anytime you use data from a user form, just think about how the data is being used, and consider 	the possibility of abuse.</p>
<h2>In Conclusion</h2>
<p>There are many possible uses for the 360 Link XML API, and this article was meant to explain 	one of the simplest ones: using the returned citation data to construct an ILL form.</p>
<p>We covered the basics of querying the API server, interpreting the response, parsing the XML and displaying the citation data in an HTML form, then storing the results of that form in a MySQL database or sending them in an email.  These skills, especially the security notes, are useful in almost any kind of web application.</p>
<p>If you&#8217;re considering using the XML API in any way, I&#8217;d love to hear about it.  Please contact me at 	danieltalsky@serialssolutions.com and tell me what you&#8217;re working on.  I&#8217;ll be able to answer 	a few simple questions and point you in the direction of further resources based on your goals.</p>
<h2>Notes</h2>
<p><a title="note1" name="note1" href="../index.html%3Fp=108.html#reference1">[1]</a> <em>Note from the editors: </em><a href="http://www.niso.org/kst/reports/standards?step=2&amp;gid=&amp;project_key=d5320409c5160be4697dc046613f71b9a773cd9e">NISO standard                   Z39.88</a> formally defines OpenURL, but it can be a bit confusing for some. More information is also available at <a href="http://openurl.code4lib.org">http://openurl.code4lib.org</a> and from Jeff Young&#8217;s Q6 blog: <a href="http://q6.oclc.org/">http://q6.oclc.org/</a>.</p>
<p><a title="note2" name="note2" href="../index.html%3Fp=108.html#reference2">[2]</a> Many ILL forms are behind a login, but the New York Academy of Medicine has been kind enough to allow us to link to the <a href="http://www.nyam.org/library/ill.php">NYAM ILL Form</a> as an example for this article, and use their form as an inspiration for the basic HTML example used in the article.</p>
<p><a title="note3" name="note3" href="../index.html%3Fp=108.html#reference3">[3]</a> cURL is a PHP library for accessing files over the internet.  PHP has another way of accessing files over the internet: its native fopen() function. fopen() is a lot slower and in some ways is less reliable. cURL is more reliable, flexible, and over ten times faster.</p>
<p><a title="note4" name="note4" href="../index.html%3Fp=108.html#reference4">[4]</a> If there&#8217;s some problem with cURL on your server, it shouldn&#8217;t be too hard to use fopen(). Here&#8217;s the  <a href="http://us3.php.net/fopen">PHP fopen() documentation</a>,  and  <a href="http://us3.php.net/wrappers.php">information about using it to open files across the internet</a>.</p>
<h2>Acknowledgements</h2>
<p><strong>Kat Ortland</strong> for copy editing,  	<strong>Shawn Kilburn</strong> for the article concept and consultation on 360 Link, 	<strong>Brenna Flood</strong> for extensive consultation on the 360 Link XML API, 	<strong>Chris Phillipe</strong>, for 360 Link consultation, <strong>Ross Bleakney</strong> for getting me into XML API documentation at Serials Solutions, 	<strong>Mark Foong</strong> &amp; <strong>Harry Kaplanian</strong> for providing the time and operational support for me to write this article 	and <strong>Lisa Genoese</strong> &amp;  	<strong>Steve Chiaffoni</strong> at the <strong>New York Academy of Medicine</strong> for supplying code and permission to use their ILL form as an example.</p>
<h2>About the Author</h2>
<p>Daniel Talsky is a programmer and tech educator at Serials Solutions.  He is beginning a tutorial and outreach program to educate librarians and web developers about Serials Solutions XML API&#8217;s. He can be contacted at daniel.talsky@serialssolutions.com .</p>
					</div>
														</div>
				<!-- You can start editing here. -->

<div class="comments">
	<p class="subscriptionlinks">Subscribe to comments: <a href="108/feed">For this article</a> | <a href="http://feeds.feedburner.com/c4lj/comments">For all articles</a></p>
	<h3>5 Responses to "Auto-Populating an ILL form with the Serial Solutions Link Resolver API"</h3>

	<p class="aboutcomments">
					Please <a href="../index.html%3Fp=108.html#respond">leave a response</a> below:
			</p>

	<ol class="commentlist">

			<li class="oddcomment" id="comment-1521">
			<p class="commentheader"><cite>Emily Lynema</cite>,
			
			<span class="commentmetadata"><a href="../index.html%3Fp=108.html#comment-1521" title="">2009-03-25</a></span></p>

      <div class="commentbody">
  			<p>Nice article, Daniel! We&#8217;re considering the possibility of switching to 360 Link from SFX, and this article helps make clear the kind of functionality available via the API.</p>
      </div>

		</li>
	
			<li id="comment-1522">
			<p class="commentheader"><cite><a href="http://serialssolutions.com" class="url" rel="ugc external nofollow">Daniel Talsky</a></cite>,
			
			<span class="commentmetadata"><a href="../index.html%3Fp=108.html#comment-1522" title="">2009-03-26</a></span></p>

      <div class="commentbody">
  			<p>Thanks Emily, that&#8217;s really the purpose of the article, to give an example of use and processing.  However, it&#8217;s worth saying, you don&#8217;t need the API to be able to generate an ILL form.  Even using 360 Link, you can create simple links back to your ILL form that contain all the information you&#8217;ll need.</p>
      </div>

		</li>
	
			<li class="oddcomment" id="comment-2559">
			<p class="commentheader"><cite>Patsy</cite>,
			
			<span class="commentmetadata"><a href="../index.html%3Fp=108.html#comment-2559" title="">2009-09-10</a></span></p>

      <div class="commentbody">
  			<p>Thanks, David!  We&#8217;re in the process of creating an ILL form and were stuck at this point in the process.<br />
Much appreciate!</p>
      </div>

		</li>
	
			<li id="comment-5830">
			<p class="commentheader"><cite><a href="http://bioethics.georgetown.edu/" class="url" rel="ugc external nofollow">Mark</a></cite>,
			
			<span class="commentmetadata"><a href="../index.html%3Fp=108.html#comment-5830" title="">2012-02-14</a></span></p>

      <div class="commentbody">
  			<p>Thanks, our library just got 360Link so this is very helpful to getting started with using the API. Is there any other public documentation available?</p>
<p>One note for new readers: the API base url is currently&#8217;http://000-00.xml.open.serialssolutions.com/openurlxml?&#8217;, not &#8216;http://000-00.openurl.xml.serialssolutions.com/openurlxml?&#8217; as described in the code in this article.</p>
      </div>

		</li>
	
			<li class="oddcomment" id="comment-1869506">
			<p class="commentheader"><cite><a href="http://www.library.unbc.ca" class="url" rel="ugc external nofollow">Benjamin</a></cite>,
			
			<span class="commentmetadata"><a href="../index.html%3Fp=108.html#comment-1869506" title="">2015-03-03</a></span></p>

      <div class="commentbody">
  			<p>Since this article was written in 2009 and the last post was in 2012, has there been any more development?  We are currently looking at a process to do this with ILL also and any information or current work would be great.<br />
Thanks</p>
      </div>

		</li>
	
	
	</ol>

 

<h3 id="respond">Leave a Reply</h3>


<form action="https://journal.code4lib.org/wp-comments-post.php" method="post" id="commentform">


<p><input type="text" name="author" id="author" value=""/>
<label for="author">Name (required)</label></p>

<p><input type="text" name="email" id="email" value="" />
<label for="email">Mail (will not be published) (required)</label></p>

<p><input type="text" name="url" id="url" value="" />
<label for="url">Website</label></p>


<p><textarea autocomplete="new-password"  aria-label="Comment box" id="f127f6ccbe"  name="f127f6ccbe"   cols="50" rows="10"></textarea><textarea id="comment" aria-label="hp-comment" aria-hidden="true" name="comment" autocomplete="new-password" style="padding:0 !important;clip:rect(1px, 1px, 1px, 1px) !important;position:absolute !important;white-space:nowrap !important;height:1px !important;width:1px !important;overflow:hidden !important;" tabindex="-1"></textarea><script data-noptimize>document.getElementById("comment").setAttribute( "id", "a5574f1ba4c9a1ae3e63f9c3c1395c0d" );document.getElementById("f127f6ccbe").setAttribute( "id", "comment" );</script></p>

<p><input name="submit" type="submit" id="submit"  value="Submit Comment" />
<input type="hidden" name="comment_post_ID" value="108" />
</p>
<p style="display: none;"><input type="hidden" id="akismet_comment_nonce" name="akismet_comment_nonce" value="787ade4579" /></p><p style="display: none !important;" class="akismet-fields-container" data-prefix="ak_"><label>&#916;<textarea name="ak_hp_textarea" cols="45" rows="8" maxlength="100"></textarea></label><input type="hidden" id="ak_js_1" name="ak_js" value="207"/><script>document.getElementById( "ak_js_1" ).setAttribute( "value", ( new Date() ).getTime() );</script></p>
</form>


</div>
							</div>

			<div id="meta">
				<div id="issn">
					<p>ISSN 1940-5758</p>
				</div>
				<div class="search-sidebar">
				<form method="get" id="searchform" action="../index.html">
					<div>
						<input type="text" value="" aria-labelledby="searchsubmit" name="s" id="s" />
						<input type="submit" value="Search" id="searchsubmit"/>
					</div>
				</form>
				</div>
				<div id="archives">
					<h2>Current Issue</h2>
						<ul>
							<li><a href="../issues/issues/issue60.html">Issue 60, 2025-04-14</a></li>
						</ul>

					<h2>Previous Issues</h2>
						<ul>
              <li><a href="../issues/issues/issue59.html">Issue 59, 2024-10-07</a></li><li><a href="../issues/issues/issue58.html">Issue 58, 2023-12-04</a></li><li><a href="../issues/issues/issue57.html">Issue 57, 2023-08-29</a></li><li><a href="../issues/issues/issue56.html">Issue 56, 2023-04-21</a></li>              <li><a href="../index.html%3Fp=2476.html">Older Issues</a></li>
						</ul>
				</div>
				<div id="forauthors">
					<h2>For Authors</h2>
					<ul>
						<li class="page_item page-item-4"><a href="../index.html%3Fp=4.html">Call for Submissions</a></li>
<li class="page_item page-item-7"><a href="../index.html%3Fp=7.html">Article Guidelines</a></li>
					</ul>
				</div>
			</div>
						<div id="footer">
				<p id="login"><a href="../wp-login.php.html">Log in</a></p>
				<p id="copyright">This work is licensed under a <a rel="license" href="http://creativecommons.org/licenses/by/3.0/us/">Creative Commons Attribution 3.0 United States License</a>.<br /><a rel="license" href="http://creativecommons.org/licenses/by/3.0/us/"><img alt="Creative Commons License" src="http://i.creativecommons.org/l/by/3.0/us/80x15.png" /></a></p>
			</div>
			<script type="speculationrules">
{"prefetch":[{"source":"document","where":{"and":[{"href_matches":"\/*"},{"not":{"href_matches":["\/wp-*.php","\/wp-admin\/*","\/wp-content\/uploads\/*","\/wp-content\/*","\/wp-content\/plugins\/*","\/wp-content\/themes\/c4lj-theme\/*","\/*\\?(.+)"]}},{"not":{"selector_matches":"a[rel~=\"nofollow\"]"}},{"not":{"selector_matches":".no-prefetch, .no-prefetch a"}}]},"eagerness":"conservative"}]}
</script>
<script type="text/javascript" src="../wp-content/plugins/syntaxhighlighter/syntaxhighlighter3/scripts/shCore.js%3Fver=3.0.9b" id="syntaxhighlighter-core-js"></script>
<script type="text/javascript" src="../wp-content/plugins/syntaxhighlighter/syntaxhighlighter3/scripts/shBrushPhp.js%3Fver=3.0.9b" id="syntaxhighlighter-brush-php-js"></script>
<script type="text/javascript" src="../wp-content/plugins/syntaxhighlighter/syntaxhighlighter3/scripts/shBrushXml.js%3Fver=3.0.9b" id="syntaxhighlighter-brush-xml-js"></script>
<script type="text/javascript" src="../wp-content/plugins/syntaxhighlighter/syntaxhighlighter3/scripts/shBrushCss.js%3Fver=3.0.9b" id="syntaxhighlighter-brush-css-js"></script>
<script type="text/javascript" src="../wp-content/plugins/syntaxhighlighter/syntaxhighlighter3/scripts/shBrushSql.js%3Fver=3.0.9b" id="syntaxhighlighter-brush-sql-js"></script>
<script type='text/javascript'>
	(function(){
		var corecss = document.createElement('link');
		var themecss = document.createElement('link');
		var corecssurl = "https://journal.code4lib.org/wp-content/plugins/syntaxhighlighter/syntaxhighlighter3/styles/shCore.css?ver=3.0.9b";
		if ( corecss.setAttribute ) {
				corecss.setAttribute( "rel", "stylesheet" );
				corecss.setAttribute( "type", "text/css" );
				corecss.setAttribute( "href", corecssurl );
		} else {
				corecss.rel = "stylesheet";
				corecss.href = corecssurl;
		}
		document.head.appendChild( corecss );
		var themecssurl = "https://journal.code4lib.org/wp-content/plugins/syntaxhighlighter/syntaxhighlighter3/styles/shThemeDefault.css?ver=3.0.9b";
		if ( themecss.setAttribute ) {
				themecss.setAttribute( "rel", "stylesheet" );
				themecss.setAttribute( "type", "text/css" );
				themecss.setAttribute( "href", themecssurl );
		} else {
				themecss.rel = "stylesheet";
				themecss.href = themecssurl;
		}
		document.head.appendChild( themecss );
	})();
	SyntaxHighlighter.config.strings.expandSource = '+ expand source';
	SyntaxHighlighter.config.strings.help = '?';
	SyntaxHighlighter.config.strings.alert = 'SyntaxHighlighter\n\n';
	SyntaxHighlighter.config.strings.noBrush = 'Can\'t find brush for: ';
	SyntaxHighlighter.config.strings.brushNotHtmlScript = 'Brush wasn\'t configured for html-script option: ';
	SyntaxHighlighter.defaults['pad-line-numbers'] = false;
	SyntaxHighlighter.defaults['toolbar'] = false;
	SyntaxHighlighter.all();

	// Infinite scroll support
	if ( typeof( jQuery ) !== 'undefined' ) {
		jQuery( function( $ ) {
			$( document.body ).on( 'post-load', function() {
				SyntaxHighlighter.highlight();
			} );
		} );
	}
</script>
<script defer type="text/javascript" src="../wp-content/plugins/akismet/_inc/akismet-frontend.js%3Fver=1748382734" id="akismet-frontend-js"></script>
		</div>
	</body>
</html>
