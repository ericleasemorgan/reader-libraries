<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
	<head>
		<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />

		<title>The Code4Lib Journal &#8211; Joining an Open Source Community: Creating a Symphony Connector for the XC NCIP Toolkit</title>

		<meta name="viewport" content="width=device-width, initial-scale=1" />
		<meta name="generator" content="WordPress 6.8.1" /> <!-- leave this for stats -->
    <link rel="shortcut icon" href="../wp-content/themes/c4lj-theme/images/favicon.ico" />
		<link rel="stylesheet" href="../wp-content/themes/c4lj-theme/style.css" type="text/css" media="screen, print" />
		<!--[if lte IE 7]>
		<link rel="stylesheet" href="https://journal.code4lib.org/wp-content/themes/c4lj-theme/fix-ie7.css" type="text/css" media="screen" />
		<![endif]-->
		<!--[if lte IE 6]>
		<link rel="stylesheet" href="https://journal.code4lib.org/wp-content/themes/c4lj-theme/fix-ie6.css" type="text/css" media="screen" />
		<![endif]-->
		<link rel="stylesheet" href="../wp-content/themes/c4lj-theme/print.css" type="text/css" media="print" />
		<link rel="alternate" type="application/rss+xml" title="The Code4Lib Journal Syndication Feed" href="http://feeds.feedburner.com/c4lj" />
		<link rel="pingback" href="https://journal.code4lib.org/xmlrpc.php" />

<!-- Google Scholar Stuff -->
	<meta name="citation_title" content="Joining an Open Source Community: Creating a Symphony Connector for the XC NCIP Toolkit">
 <meta name="citation_author" content="Michelle Suranofsky">
<meta name="citation_publication_date" content="2011/07/25">
	<meta name="citation_journal_title" content="Code4Lib Journal">
		<meta name="citation_issue" content="14">
<!-- end  Google Scholar Stuff -->

<meta name='robots' content='max-image-preview:large' />
	<style>img:is([sizes="auto" i], [sizes^="auto," i]) { contain-intrinsic-size: 3000px 1500px }</style>
	<link rel="alternate" type="application/rss+xml" title="The Code4Lib Journal &raquo; Joining an Open Source Community: Creating a Symphony Connector for the XC NCIP Toolkit Comments Feed" href="5608/feed" />
<script type="text/javascript">
/* <![CDATA[ */
window._wpemojiSettings = {"baseUrl":"https:\/\/s.w.org\/images\/core\/emoji\/15.1.0\/72x72\/","ext":".png","svgUrl":"https:\/\/s.w.org\/images\/core\/emoji\/15.1.0\/svg\/","svgExt":".svg","source":{"concatemoji":"https:\/\/journal.code4lib.org\/wp-includes\/js\/wp-emoji-release.min.js?ver=6.8.1"}};
/*! This file is auto-generated */
!function(i,n){var o,s,e;function c(e){try{var t={supportTests:e,timestamp:(new Date).valueOf()};sessionStorage.setItem(o,JSON.stringify(t))}catch(e){}}function p(e,t,n){e.clearRect(0,0,e.canvas.width,e.canvas.height),e.fillText(t,0,0);var t=new Uint32Array(e.getImageData(0,0,e.canvas.width,e.canvas.height).data),r=(e.clearRect(0,0,e.canvas.width,e.canvas.height),e.fillText(n,0,0),new Uint32Array(e.getImageData(0,0,e.canvas.width,e.canvas.height).data));return t.every(function(e,t){return e===r[t]})}function u(e,t,n){switch(t){case"flag":return n(e,"\ud83c\udff3\ufe0f\u200d\u26a7\ufe0f","\ud83c\udff3\ufe0f\u200b\u26a7\ufe0f")?!1:!n(e,"\ud83c\uddfa\ud83c\uddf3","\ud83c\uddfa\u200b\ud83c\uddf3")&&!n(e,"\ud83c\udff4\udb40\udc67\udb40\udc62\udb40\udc65\udb40\udc6e\udb40\udc67\udb40\udc7f","\ud83c\udff4\u200b\udb40\udc67\u200b\udb40\udc62\u200b\udb40\udc65\u200b\udb40\udc6e\u200b\udb40\udc67\u200b\udb40\udc7f");case"emoji":return!n(e,"\ud83d\udc26\u200d\ud83d\udd25","\ud83d\udc26\u200b\ud83d\udd25")}return!1}function f(e,t,n){var r="undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope?new OffscreenCanvas(300,150):i.createElement("canvas"),a=r.getContext("2d",{willReadFrequently:!0}),o=(a.textBaseline="top",a.font="600 32px Arial",{});return e.forEach(function(e){o[e]=t(a,e,n)}),o}function t(e){var t=i.createElement("script");t.src=e,t.defer=!0,i.head.appendChild(t)}"undefined"!=typeof Promise&&(o="wpEmojiSettingsSupports",s=["flag","emoji"],n.supports={everything:!0,everythingExceptFlag:!0},e=new Promise(function(e){i.addEventListener("DOMContentLoaded",e,{once:!0})}),new Promise(function(t){var n=function(){try{var e=JSON.parse(sessionStorage.getItem(o));if("object"==typeof e&&"number"==typeof e.timestamp&&(new Date).valueOf()<e.timestamp+604800&&"object"==typeof e.supportTests)return e.supportTests}catch(e){}return null}();if(!n){if("undefined"!=typeof Worker&&"undefined"!=typeof OffscreenCanvas&&"undefined"!=typeof URL&&URL.createObjectURL&&"undefined"!=typeof Blob)try{var e="postMessage("+f.toString()+"("+[JSON.stringify(s),u.toString(),p.toString()].join(",")+"));",r=new Blob([e],{type:"text/javascript"}),a=new Worker(URL.createObjectURL(r),{name:"wpTestEmojiSupports"});return void(a.onmessage=function(e){c(n=e.data),a.terminate(),t(n)})}catch(e){}c(n=f(s,u,p))}t(n)}).then(function(e){for(var t in e)n.supports[t]=e[t],n.supports.everything=n.supports.everything&&n.supports[t],"flag"!==t&&(n.supports.everythingExceptFlag=n.supports.everythingExceptFlag&&n.supports[t]);n.supports.everythingExceptFlag=n.supports.everythingExceptFlag&&!n.supports.flag,n.DOMReady=!1,n.readyCallback=function(){n.DOMReady=!0}}).then(function(){return e}).then(function(){var e;n.supports.everything||(n.readyCallback(),(e=n.source||{}).concatemoji?t(e.concatemoji):e.wpemoji&&e.twemoji&&(t(e.twemoji),t(e.wpemoji)))}))}((window,document),window._wpemojiSettings);
/* ]]> */
</script>
<style id='wp-emoji-styles-inline-css' type='text/css'>

	img.wp-smiley, img.emoji {
		display: inline !important;
		border: none !important;
		box-shadow: none !important;
		height: 1em !important;
		width: 1em !important;
		margin: 0 0.07em !important;
		vertical-align: -0.1em !important;
		background: none !important;
		padding: 0 !important;
	}
</style>
<link rel='stylesheet' id='wp-block-library-css' href='../wp-includes/css/dist/block-library/style.min.css%3Fver=6.8.1.css' type='text/css' media='all' />
<style id='classic-theme-styles-inline-css' type='text/css'>
/*! This file is auto-generated */
.wp-block-button__link{color:#fff;background-color:#32373c;border-radius:9999px;box-shadow:none;text-decoration:none;padding:calc(.667em + 2px) calc(1.333em + 2px);font-size:1.125em}.wp-block-file__button{background:#32373c;color:#fff;text-decoration:none}
</style>
<style id='global-styles-inline-css' type='text/css'>
:root{--wp--preset--aspect-ratio--square: 1;--wp--preset--aspect-ratio--4-3: 4/3;--wp--preset--aspect-ratio--3-4: 3/4;--wp--preset--aspect-ratio--3-2: 3/2;--wp--preset--aspect-ratio--2-3: 2/3;--wp--preset--aspect-ratio--16-9: 16/9;--wp--preset--aspect-ratio--9-16: 9/16;--wp--preset--color--black: #000000;--wp--preset--color--cyan-bluish-gray: #abb8c3;--wp--preset--color--white: #ffffff;--wp--preset--color--pale-pink: #f78da7;--wp--preset--color--vivid-red: #cf2e2e;--wp--preset--color--luminous-vivid-orange: #ff6900;--wp--preset--color--luminous-vivid-amber: #fcb900;--wp--preset--color--light-green-cyan: #7bdcb5;--wp--preset--color--vivid-green-cyan: #00d084;--wp--preset--color--pale-cyan-blue: #8ed1fc;--wp--preset--color--vivid-cyan-blue: #0693e3;--wp--preset--color--vivid-purple: #9b51e0;--wp--preset--gradient--vivid-cyan-blue-to-vivid-purple: linear-gradient(135deg,rgba(6,147,227,1) 0%,rgb(155,81,224) 100%);--wp--preset--gradient--light-green-cyan-to-vivid-green-cyan: linear-gradient(135deg,rgb(122,220,180) 0%,rgb(0,208,130) 100%);--wp--preset--gradient--luminous-vivid-amber-to-luminous-vivid-orange: linear-gradient(135deg,rgba(252,185,0,1) 0%,rgba(255,105,0,1) 100%);--wp--preset--gradient--luminous-vivid-orange-to-vivid-red: linear-gradient(135deg,rgba(255,105,0,1) 0%,rgb(207,46,46) 100%);--wp--preset--gradient--very-light-gray-to-cyan-bluish-gray: linear-gradient(135deg,rgb(238,238,238) 0%,rgb(169,184,195) 100%);--wp--preset--gradient--cool-to-warm-spectrum: linear-gradient(135deg,rgb(74,234,220) 0%,rgb(151,120,209) 20%,rgb(207,42,186) 40%,rgb(238,44,130) 60%,rgb(251,105,98) 80%,rgb(254,248,76) 100%);--wp--preset--gradient--blush-light-purple: linear-gradient(135deg,rgb(255,206,236) 0%,rgb(152,150,240) 100%);--wp--preset--gradient--blush-bordeaux: linear-gradient(135deg,rgb(254,205,165) 0%,rgb(254,45,45) 50%,rgb(107,0,62) 100%);--wp--preset--gradient--luminous-dusk: linear-gradient(135deg,rgb(255,203,112) 0%,rgb(199,81,192) 50%,rgb(65,88,208) 100%);--wp--preset--gradient--pale-ocean: linear-gradient(135deg,rgb(255,245,203) 0%,rgb(182,227,212) 50%,rgb(51,167,181) 100%);--wp--preset--gradient--electric-grass: linear-gradient(135deg,rgb(202,248,128) 0%,rgb(113,206,126) 100%);--wp--preset--gradient--midnight: linear-gradient(135deg,rgb(2,3,129) 0%,rgb(40,116,252) 100%);--wp--preset--font-size--small: 13px;--wp--preset--font-size--medium: 20px;--wp--preset--font-size--large: 36px;--wp--preset--font-size--x-large: 42px;--wp--preset--spacing--20: 0.44rem;--wp--preset--spacing--30: 0.67rem;--wp--preset--spacing--40: 1rem;--wp--preset--spacing--50: 1.5rem;--wp--preset--spacing--60: 2.25rem;--wp--preset--spacing--70: 3.38rem;--wp--preset--spacing--80: 5.06rem;--wp--preset--shadow--natural: 6px 6px 9px rgba(0, 0, 0, 0.2);--wp--preset--shadow--deep: 12px 12px 50px rgba(0, 0, 0, 0.4);--wp--preset--shadow--sharp: 6px 6px 0px rgba(0, 0, 0, 0.2);--wp--preset--shadow--outlined: 6px 6px 0px -3px rgba(255, 255, 255, 1), 6px 6px rgba(0, 0, 0, 1);--wp--preset--shadow--crisp: 6px 6px 0px rgba(0, 0, 0, 1);}:where(.is-layout-flex){gap: 0.5em;}:where(.is-layout-grid){gap: 0.5em;}body .is-layout-flex{display: flex;}.is-layout-flex{flex-wrap: wrap;align-items: center;}.is-layout-flex > :is(*, div){margin: 0;}body .is-layout-grid{display: grid;}.is-layout-grid > :is(*, div){margin: 0;}:where(.wp-block-columns.is-layout-flex){gap: 2em;}:where(.wp-block-columns.is-layout-grid){gap: 2em;}:where(.wp-block-post-template.is-layout-flex){gap: 1.25em;}:where(.wp-block-post-template.is-layout-grid){gap: 1.25em;}.has-black-color{color: var(--wp--preset--color--black) !important;}.has-cyan-bluish-gray-color{color: var(--wp--preset--color--cyan-bluish-gray) !important;}.has-white-color{color: var(--wp--preset--color--white) !important;}.has-pale-pink-color{color: var(--wp--preset--color--pale-pink) !important;}.has-vivid-red-color{color: var(--wp--preset--color--vivid-red) !important;}.has-luminous-vivid-orange-color{color: var(--wp--preset--color--luminous-vivid-orange) !important;}.has-luminous-vivid-amber-color{color: var(--wp--preset--color--luminous-vivid-amber) !important;}.has-light-green-cyan-color{color: var(--wp--preset--color--light-green-cyan) !important;}.has-vivid-green-cyan-color{color: var(--wp--preset--color--vivid-green-cyan) !important;}.has-pale-cyan-blue-color{color: var(--wp--preset--color--pale-cyan-blue) !important;}.has-vivid-cyan-blue-color{color: var(--wp--preset--color--vivid-cyan-blue) !important;}.has-vivid-purple-color{color: var(--wp--preset--color--vivid-purple) !important;}.has-black-background-color{background-color: var(--wp--preset--color--black) !important;}.has-cyan-bluish-gray-background-color{background-color: var(--wp--preset--color--cyan-bluish-gray) !important;}.has-white-background-color{background-color: var(--wp--preset--color--white) !important;}.has-pale-pink-background-color{background-color: var(--wp--preset--color--pale-pink) !important;}.has-vivid-red-background-color{background-color: var(--wp--preset--color--vivid-red) !important;}.has-luminous-vivid-orange-background-color{background-color: var(--wp--preset--color--luminous-vivid-orange) !important;}.has-luminous-vivid-amber-background-color{background-color: var(--wp--preset--color--luminous-vivid-amber) !important;}.has-light-green-cyan-background-color{background-color: var(--wp--preset--color--light-green-cyan) !important;}.has-vivid-green-cyan-background-color{background-color: var(--wp--preset--color--vivid-green-cyan) !important;}.has-pale-cyan-blue-background-color{background-color: var(--wp--preset--color--pale-cyan-blue) !important;}.has-vivid-cyan-blue-background-color{background-color: var(--wp--preset--color--vivid-cyan-blue) !important;}.has-vivid-purple-background-color{background-color: var(--wp--preset--color--vivid-purple) !important;}.has-black-border-color{border-color: var(--wp--preset--color--black) !important;}.has-cyan-bluish-gray-border-color{border-color: var(--wp--preset--color--cyan-bluish-gray) !important;}.has-white-border-color{border-color: var(--wp--preset--color--white) !important;}.has-pale-pink-border-color{border-color: var(--wp--preset--color--pale-pink) !important;}.has-vivid-red-border-color{border-color: var(--wp--preset--color--vivid-red) !important;}.has-luminous-vivid-orange-border-color{border-color: var(--wp--preset--color--luminous-vivid-orange) !important;}.has-luminous-vivid-amber-border-color{border-color: var(--wp--preset--color--luminous-vivid-amber) !important;}.has-light-green-cyan-border-color{border-color: var(--wp--preset--color--light-green-cyan) !important;}.has-vivid-green-cyan-border-color{border-color: var(--wp--preset--color--vivid-green-cyan) !important;}.has-pale-cyan-blue-border-color{border-color: var(--wp--preset--color--pale-cyan-blue) !important;}.has-vivid-cyan-blue-border-color{border-color: var(--wp--preset--color--vivid-cyan-blue) !important;}.has-vivid-purple-border-color{border-color: var(--wp--preset--color--vivid-purple) !important;}.has-vivid-cyan-blue-to-vivid-purple-gradient-background{background: var(--wp--preset--gradient--vivid-cyan-blue-to-vivid-purple) !important;}.has-light-green-cyan-to-vivid-green-cyan-gradient-background{background: var(--wp--preset--gradient--light-green-cyan-to-vivid-green-cyan) !important;}.has-luminous-vivid-amber-to-luminous-vivid-orange-gradient-background{background: var(--wp--preset--gradient--luminous-vivid-amber-to-luminous-vivid-orange) !important;}.has-luminous-vivid-orange-to-vivid-red-gradient-background{background: var(--wp--preset--gradient--luminous-vivid-orange-to-vivid-red) !important;}.has-very-light-gray-to-cyan-bluish-gray-gradient-background{background: var(--wp--preset--gradient--very-light-gray-to-cyan-bluish-gray) !important;}.has-cool-to-warm-spectrum-gradient-background{background: var(--wp--preset--gradient--cool-to-warm-spectrum) !important;}.has-blush-light-purple-gradient-background{background: var(--wp--preset--gradient--blush-light-purple) !important;}.has-blush-bordeaux-gradient-background{background: var(--wp--preset--gradient--blush-bordeaux) !important;}.has-luminous-dusk-gradient-background{background: var(--wp--preset--gradient--luminous-dusk) !important;}.has-pale-ocean-gradient-background{background: var(--wp--preset--gradient--pale-ocean) !important;}.has-electric-grass-gradient-background{background: var(--wp--preset--gradient--electric-grass) !important;}.has-midnight-gradient-background{background: var(--wp--preset--gradient--midnight) !important;}.has-small-font-size{font-size: var(--wp--preset--font-size--small) !important;}.has-medium-font-size{font-size: var(--wp--preset--font-size--medium) !important;}.has-large-font-size{font-size: var(--wp--preset--font-size--large) !important;}.has-x-large-font-size{font-size: var(--wp--preset--font-size--x-large) !important;}
:where(.wp-block-post-template.is-layout-flex){gap: 1.25em;}:where(.wp-block-post-template.is-layout-grid){gap: 1.25em;}
:where(.wp-block-columns.is-layout-flex){gap: 2em;}:where(.wp-block-columns.is-layout-grid){gap: 2em;}
:root :where(.wp-block-pullquote){font-size: 1.5em;line-height: 1.6;}
</style>
<style id='akismet-widget-style-inline-css' type='text/css'>

			.a-stats {
				--akismet-color-mid-green: #357b49;
				--akismet-color-white: #fff;
				--akismet-color-light-grey: #f6f7f7;

				max-width: 350px;
				width: auto;
			}

			.a-stats * {
				all: unset;
				box-sizing: border-box;
			}

			.a-stats strong {
				font-weight: 600;
			}

			.a-stats a.a-stats__link,
			.a-stats a.a-stats__link:visited,
			.a-stats a.a-stats__link:active {
				background: var(--akismet-color-mid-green);
				border: none;
				box-shadow: none;
				border-radius: 8px;
				color: var(--akismet-color-white);
				cursor: pointer;
				display: block;
				font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', 'Oxygen-Sans', 'Ubuntu', 'Cantarell', 'Helvetica Neue', sans-serif;
				font-weight: 500;
				padding: 12px;
				text-align: center;
				text-decoration: none;
				transition: all 0.2s ease;
			}

			/* Extra specificity to deal with TwentyTwentyOne focus style */
			.widget .a-stats a.a-stats__link:focus {
				background: var(--akismet-color-mid-green);
				color: var(--akismet-color-white);
				text-decoration: none;
			}

			.a-stats a.a-stats__link:hover {
				filter: brightness(110%);
				box-shadow: 0 4px 12px rgba(0, 0, 0, 0.06), 0 0 2px rgba(0, 0, 0, 0.16);
			}

			.a-stats .count {
				color: var(--akismet-color-white);
				display: block;
				font-size: 1.5em;
				line-height: 1.4;
				padding: 0 13px;
				white-space: nowrap;
			}
		
</style>
<link rel="https://api.w.org/" href="../wp-json/index.html" /><link rel="alternate" title="JSON" type="application/json" href="../wp-json/wp/v2/posts/5608" /><link rel="EditURI" type="application/rsd+xml" title="RSD" href="https://journal.code4lib.org/xmlrpc.php?rsd" />
<link rel="canonical" href="../index.html%3Fp=5608.html" />
<link rel='shortlink' href='../index.html%3Fp=5608.html' />
<link rel="alternate" title="oEmbed (JSON)" type="application/json+oembed" href="../wp-json/oembed/1.0/embed%3Furl=https:%252F%252Fjournal.code4lib.org%252Farticles%252F5608" />
<link rel="alternate" title="oEmbed (XML)" type="text/xml+oembed" href="../wp-json/oembed/1.0/embed%3Furl=https:%252F%252Fjournal.code4lib.org%252Farticles%252F5608&amp;format=xml" />
<style>
@media all and (max-width : 768px) {
.syntaxhighlighter a, .syntaxhighlighter div, .syntaxhighlighter code, .syntaxhighlighter table, .syntaxhighlighter table td, .syntaxhighlighter table tr, .syntaxhighlighter table tbody, .syntaxhighlighter table thead, .syntaxhighlighter table caption, .syntaxhighlighter textarea
{
	font-size: 0.95em !important;
}
}
</style>
	</head>
	<body>
		<div id="page">
			<div id="header">
				<div id="headerbackground">
					<h1><a href="../index.html"><img src="../wp-content/themes/c4lj-theme/images/logo.png" alt="The Code4Lib Journal" /></a></h1>
				</div>
				<div id="about">
					<ul>
						<li class="page_item page-item-5"><a href="../index.html%3Fp=5.html">Mission</a></li>
<li class="page_item page-item-6"><a href="../editorial-committee/index.html">Editorial Committee</a></li>
<li class="page_item page-item-8"><a href="../process/index.html">Process and Structure</a></li>
						<li><a href="http://code4lib.org/">Code4Lib</a></li>
					</ul>
				</div>
				<div class="mobile-search">
					<form method="get" id="searchform" action="../index.html">
						<div>
							<input type="text" value="" aria-labelledby="searchsubmit" name="s" id="s" />
							<input type="submit" value="Search" id="searchsubmit" />
						</div>
					</form>
				</div>
			</div>

			<div id="content">
								<div class="article" id="post-5608">
					<p id="issueDesignation"><a href="../issues/issues/issue14.html">Issue 14, 2011-07-25</a></p>
					<h1 class="articletitle">Joining an Open Source Community: Creating a Symphony Connector for the XC NCIP Toolkit</h1>
					<div class="abstract">
						<p>When the Pennsylvania Academic Library Consortium, Inc. (PALCI) decided to upgrade its resource sharing software (EZ-Borrow) all of the participating libraries – among them Lehigh University – were responsible to have in place an implementation of the NCIP protocol to provide communication between the new EZ-Borrow software developed by Relias International and their respective ILS.  This article presents the process of Lehigh choosing to adopt the eXtensible Catalog NCIP Toolkit, and the technical details about building a connector with the SirsiDynix Symphony ILS.</p>
					</div>
					<div class="entry">
						<p>by Michelle Suranofsky</p>
<h2>Background</h2>
<p><span style="font-weight: normal;">When the Pennsylvania Academic Library Consortium, Inc. (PALCI) [<a id="ref1" href="../index.html%3Fp=5608.html#note1">1</a>] decided  to upgrade its resource sharing software (EZ-Borrow) all of the  participating libraries – among them Lehigh University – were  responsible to have in place an implementation of the NCIP protocol to  provide communication between the new EZ-Borrow software developed by  Relias International [<a id="ref2" href="../index.html%3Fp=5608.html#note2">2</a>] and their respective ILS.</span></p>
<h2>Weighing Our Options</h2>
<p>Lehigh had several options to consider for meeting this requirement:</p>
<ul>
<li>License the SirsiDynix [<a id="ref3" href="../index.html%3Fp=5608.html#note3">3</a>] NCIP web service software</li>
<li>Use the eXtensible Catalog (XC) [<a id="ref4" href="../index.html%3Fp=5608.html#note4">4</a>] NCIP Toolkit (an NCIP Web Services implementation written in Java)</li>
<li>Create our own solution</li>
</ul>
<p>Licensing the SirsiDynix web services appeared to involve the least amount of effort, but it had a price tag. Using the XC Toolkit meant that we would need to write Java code to make the calls to the SirsiDynix catalog API.  This is because the XC NCIP Toolkit ‘core code’ takes care of the mechanics of the NCIP web services but the connector (additional Java) code needed to communicate with the SirsiDynix API had not been developed yet.  Often a picture is worth a thousand words so I’ll throw one in now.  The diagram shown in Figure 1 gets ahead of  the story but paints a picture of the XC NCIP Toolkit core code functionality and the role of the needed connector.</p>
<p><a href="../media/issue14/suranofsky/Figure1.png"><img decoding="async" src="../media/issue14/suranofsky/Figure1.png" alt="Figure 1. Diagram of the integration between EZ-Borrow, XC NCIP Toolkit and SirisDynix Symphony" /></a></p>
<p class="caption"><strong>Figure 1.</strong> Diagram of the integration between EZ-Borrow, XC NCIP Toolkit and SirisDynix Symphony</p>
<p>To  bridge the Toolkit to the SirsiDynix catalog we needed to write Java  code that would call the catalog’s API and return the results back to  the core Toolkit.  The eXtensible Catalog Organization is building a  library of open source connectors for various catalog products.  At the start of this project, a SirsiDynix connector had not yet been written.</p>
<p>When we learned that we would not have to support the entire NCIP protocol,  but rather only four of the services, we knew the job of writing connector code for the Toolkit or creating our own solution would be  achievable in the amount of time we had (a couple of months).  If the new Relais EZ-Borrow software had required us to support the entire NCIP protocol, we may have taken an entirely different approach.  That undertaking would haven taken much more time.  Since  the XC Toolkit was available at no cost, we thought we should explore  its capability before thinking about how we could possibly write our own  solution. So Lehigh decided to put its newly hired Java developer (me)  and its SirsiDynix Symphony API expert (Mark Canney) to work exploring the Toolkit and developing a solution.</p>
<p>Our initial plan was to create a proof-of-concept to confirm that the Toolkit would work for us by:</p>
<ul>
<li>Downloading the Toolkit code and getting it running locally (on my workstation)</li>
<li>Taking a look at  the existing ‘connector’ code that had been developed for other catalogs</li>
<li>Reviewing the guidelines for connector code development provided by XC</li>
<li>Writing  connector code that would make the API call to SIRSI, parse those  results, and return the results to the core Toolkit code.</li>
</ul>
<p>The proof-of-concept development went well.  I found the XC Toolkit code easy to work with and the performance tests I ran against it looked  good.  We demonstrated the prototype to our Library management team. They were happy&#8230;I was happy&#8230;so we decided to move forward with the  project using the XC Toolkit.  I should also mention that XC has written two versions of the Toolkit.  The second version developed to support the NCIP 2 protocol.  It was just around the time of this project that XC was finishing up work on version 2.  We decided to move forward with version 2 since the Relais software would support either NCIP version,  and because we knew eventually we would want to use the latest protocol.</p>
<p>My  goal in writing this article is to share the technical details of this  project’s implementation in order to bring a level of clarity to other  organizations looking for a way to communicate with their catalog via  NCIP.  To that end, the sections of this article that follow elaborate  on all of the technical details of the setup, coding, testing and  deploying of this project.  I have previously installed Eclipse, Tomcat,  Maven and Subversion.</p>
<h2><strong>Setting up the Toolkit in Eclipse &amp; Tomcat</strong></h2>
<p>To  get started I wanted to get the Toolkit (core code) running as a  project in Eclipse using my local Tomcat server.  This setup would allow  me to easily debug the entire process (not just the connector code I  would be writing).  It would also allow me to make any changes (that I  might need to make) to the core code. Initially, because of something  not expected in the XML Request from Relais, I did have to modify the  core code.  As the project progressed Relais adjusted their XML Request  which enabled me to run the Toolkit code without any modifications.</p>
<p>There  are many different ways to download the NCIP XC Toolkit.  In fact,  there are multiple approaches and tools for much of what is included in this article.  Take these ‘steps’ with a grain of salt and adapt and  implement as you like.</p>
<ul>
<li> To download the code outside of Eclipse use this Subversion call at the command prompt:</li>
</ul>
<pre>svn checkout https://xcncip2toolkit.googlecode.com/svn/core/trunk/ xcncip2toolkit-read-only</pre>
<ul>
<li>Next&#8230;call the this Maven command from within the directory where you have downloaded the code:</li>
</ul>
<pre> mvn clean install</pre>
<p>This gives you all of the XC NCIP2 Toolkit core code.  My next steps could  be somewhat controversial.  I created a new project in Eclipse to import  this code into. However, I changed the project structure (folders that  the files live in) just slightly to create a structure that I prefer  mainly so that I can easily debug and ‘hot deploy’ any code changes I  want to make without having to wait for a ‘build’.  This structure  allows me to do so without having to do any extra Tomcat/Maven  configuration. In other words, in my Eclipse development environment  (on my workstation) &#8211; for this project &#8211; I take Maven out of the  picture.  This is just my preference for this project.</p>
<p>In  Eclipse, create a new Dynamic Web Project named NCIPCore  leaving all  of the default settings except the default output folder.  Change that  to:</p>
<ul>
<li>NCIPCore/WebContent/WEB-INF/classes/</li>
</ul>
<p>Copy:</p>
<ul>
<li>/folder_where_I_downloaded_code/web/target/web-0.0.1-SNAPSHOT/WEB-INF</li>
<li>/folder_where_I_downloaded_code/web/target/web.0.0.1-SNAPSHOT/index.html</li>
<li>/folder_where_I_downloaded_code/web/target/web.0.0.1-SNAPSHOT/stylesheet.xsl</li>
</ul>
<p>into my Eclipse project NCIPCore/WebContent/.</p>
<p>Create the following packages in the NCIPCore project, src folder, as shown in Figure 2.</p>
<p><a href="../media/issue14/suranofsky/Figure2.jpg"><img decoding="async" src="../media/issue14/suranofsky/Figure2.jpg" alt="Figure 2. Create these packages within the NCIPCore project" /></a></p>
<p class="caption"><strong>Figure 2.</strong> Create these packages within the NCIPCore project</p>
<p>Copy all of the .java files from /folder_where_I_downloaded_code/ into packages (as illustrated above) within the /NCIPCore/src folder.  The project should look similar to Figure 3.</p>
<p><a href="../media/issue14/suranofsky/Figure3.jpg"><img decoding="async" src="../media/issue14/suranofsky/Figure3.jpg" alt="Figure 3. The NCIPCore project setup in Eclipse" /></a></p>
<p class="caption"><strong>Figure 3.</strong> The NCIPCore project setup in Eclipse</p>
<p>Next, clean up a couple of the errors in the project and get it running on Tomcat.</p>
<p>Add Tomcat’s servlet-api.jar file to the build path of the project (Figure 4):</p>
<p><a href="../media/issue14/suranofsky/Figure4.jpg"><img decoding="async" src="../media/issue14/suranofsky/Figure4.jpg" alt="Figure 4. Add the service-api.jar file to the build path of the project" /></a></p>
<p class="caption"><strong>Figure 4.</strong> Add the service-api.jar file to the build path of the project</p>
<p>Add the NCIPCore project to the list of deployed projects on your Tomcat server (Figure 5):</p>
<p><a href="../media/issue14/suranofsky/Figure5.jpg"><img decoding="async" src="../media/issue14/suranofsky/Figure5.jpg" alt="Figure 5. Add the NCIPCore project to the Tomcat server" /></a></p>
<p class="caption"><strong>Figure 5.</strong> Add the NCIPCore project to the Tomcat server</p>
<p>We are almost there, just a few last steps to configure.  Create  a new environment variable named NCIP_ROOT_DIR.  Point that environment  variable to a directory of your choice.  You’ll need to put the NCIP  configuration files in that folder as follows:</p>
<ol>
<li>Copy /folder_where_I_downloaded_code/NCIP-instance/ to the folder that your environmental variable points to. [NCIP_ROOT_DIR]</li>
<li>Rename the ncipv2 folder NCIPCore</li>
<li>Modify the log4j.config.txt file to point to your Tomcat log file</li>
</ol>
<p>Start up Tomcat &#8211; you should not see any errors in the console.  The console messages should look similar to Figure 6:</p>
<p><a href="../media/issue14/suranofsky/Figure6.jpg"><img decoding="async" src="../media/issue14/suranofsky/Figure6.jpg" alt="Figure 6. Console messages of the NCIPCore project" /></a></p>
<p class="caption"><strong>Figure 6.</strong> Console messages of the NCIPCore project</p>
<p>Point your browser to http://localhost:8080/NCIPCore/.  Your port may vary, but typically Tomcat is configured to run on port 8080.  You should see something like the a simple web page  shown in Figure 7:</p>
<p><a href="../media/issue14/suranofsky/Figure7.jpg"><img decoding="async" src="../media/issue14/suranofsky/Figure7.jpg" alt="Figure 7. Index.html file that comes with the XC NCIP Toolkit." /></a></p>
<p class="caption"><strong>Figure 7.</strong> Index.html file that comes with the XC NCIP Toolkit.</p>
<p>Figure  7 shows the index.html file that comes with the Toolkit.  You can use  it to send test NCIP XML Requests to the application.  Sample XML can be  found on the XC NCIP2 Toolkit Google Code site [<a id="ref5" href="../index.html%3Fp=5608.html#note5">5</a>].</p>
<p>By  default the XC Toolkit is configured to use the “dummy connectors” that  come with the project.  These configuration settings are located the  driver_config.properties file (Figure 8) which was placed into the  NCIP_ROOT_DIR  environmental variable folder.</p>
<p><a href="../media/issue14/suranofsky/Figure8.jpg"><img decoding="async" src="../media/issue14/suranofsky/Figure8.jpg" alt="Figure 8. driver_config.properties file" /></a></p>
<p class="caption"><strong>Figure 8.</strong> driver_config.properties file</p>
<p>Now  that the Toolkit is running on your Tomcat server, if you are  interested in walking through the code, a good place to start is to  place a breakpoint in the “doPost” method of the NCIPServlet class.   This is the class that catches all of the XML requests.  In a sense, it  is the front door to the application:</p>
<pre class="brush: java; title: ; notranslate" title="">
@Override
  public void doPost(HttpServletRequest request, HttpServletResponse response)
    throws IOException, ServletException {

    response.setContentType(&quot;application/xml; charset=\&quot;utf-8\&quot;&quot;);
    ServletInputStream inputStream = request.getInputStream();
    NCIPInitiationData initiationData = null;

    try {
       initiationData = translator.createInitiationData(inputStream);
    } catch (ServiceException e) {

    returnException(response,
       &quot;Exception creating the NCIPInitiationData object from the servlet&#039;s input stream.&quot;, e);
    }

    if (initiationData != null) {
       NCIPResponseData responseData = messageHandler.performService(initiationData);
       try {
          InputStream responseMsgInputStream = translator.createResponseMessageStream(responseData);
          try {
</pre>
<p>As illustrated in the code snippet below, the JaxBTranslator class detects the type of NCIP service being called and transforms the XML from the request into the appropriate type of request object based on the service  type:</p>
<pre class="brush: java; title: ; notranslate" title="">
public org.extensiblecatalog.ncip.v2.service.NCIPInitiationData createInitiationData(NCIPMessage initMsg)
   throws BindingException {

   org.extensiblecatalog.ncip.v2.service.NCIPInitiationData initiationData;
   if (initMsg.getAcceptItem() != null) {
      initiationData = createAcceptItemInitiationData(initMsg.getAcceptItem());
   } else if (initMsg.getCheckInItem() != null) {
      initiationData = createCheckInItemInitiationData(initMsg.getCheckInItem());
   } else if (initMsg.getCheckOutItem() != null) {
      initiationData = createCheckOutItemInitiationData(initMsg.getCheckOutItem());
   } else if (initMsg.getLookupItem() != null) {
      initiationData = createLookupItemInitiationData(initMsg.getLookupItem());
   } else if (initMsg.getLookupRequest() != null) {
      initiationData = createLookupRequestInitiationData(initMsg.getLookupRequest());
   } else if (initMsg.getLookupUser() != null) {
      initiationData = createLookupUserInitiationData(initMsg.getLookupUser());
   } else if (initMsg.getRenewItem() != null) {
      initiationData = createRenewItemInitiationData(initMsg.getRenewItem());
   } else if (initMsg.getRequestItem() != null) {
      initiationData = createRequestItemInitiationData(initMsg.getRequestItem());
</pre>
<p>Then, the performService method of the MessageHandler class uses the  configuration files to detect which connector service will process this  request.  Out-of-the-box this will be one of the ‘dummy’ services that come with the XC Toolkit core.</p>
<pre class="brush: java; title: ; notranslate" title="">
public NCIPResponseData performService(NCIPInitiationData initiationData) {
   NCIPResponseData responseData;
   NCIPService&lt;NCIPInitiationData, NCIPResponseData&gt; service = null;

   if (supportedServices != null) {
      service = supportedServices.get(initiationData.getClass().getName());
   }

   // TODO: The DummyService shouldn&#039;t require this special  handling - it should return the Unsupported Service error itself
   if (service != null &amp;amp;amp;amp;amp;amp;amp;amp;amp;amp;amp;&amp;amp;amp;amp;amp;amp;amp;amp;amp;amp;amp;  !service.getClass().getName().equalsIgnoreCase(&quot;org.extensiblecatalog.ncip.v2.service.DummyService&quot;))  {
      try {
         responseData = service.performService(initiationData, serviceManager);
</pre>
<p>The eXtensible Catalog Organization has written documentation to explain these classes and relationships in much more detail.  You can find this  documentation on their Google Code site [<a id="ref6" href="../index.html%3Fp=5608.html#note6">6</a>].</p>
<p>This is where the XC Toolkit core functionality needs the connector code (to  replace the dummy connector classes).  The connector code must consist  of one Class for each supported service.  The connector Classes are the  bridge.  They are responsible for communicating with the catalog, parsing those results and returning a response object back to the MessageHander.performService method as you see above.</p>
<h2>The Symphony Connector Code &amp; Configuration Files</h2>
<p>To replace the ‘dummy’ connector services with the Symphony Connector services, replace the ‘dummy’ configuration file that comes with the Toolkit with the Symphony configuration file.  Place the Symphony (or  your own) configuration file here:</p>
<p style="padding-left: 30px;">[NCIP_ROOT_DIR]/NCIP-Instances/ncipv2/driver/driver_config.properties.</p>
<p>This  will cause the Toolkit to call the Symphony (or your own) service  classes instead of the ‘Dummy’ service classes.  The configuration file for the connector also contains other values that allow the services to  be customized for each SirsiDynix customer, e.g. Perl script url (Figure 9):</p>
<p><a href="../media/issue14/suranofsky/Figure9.png"><img decoding="async" src="../media/issue14/suranofsky/Figure9.png" alt="Figure 9. driver_config.properties file for the Symphony connector" /></a></p>
<p class="caption"><strong>Figure 9.</strong> driver_config.properties file for the Symphony connector</p>
<p>In Eclipse, set up the Symphony (or your own) Connector code in its own ‘Java’ project as shown in Figure 10:</p>
<p><a href="../media/issue14/suranofsky/Figure10.jpg"><img decoding="async" src="../media/issue14/suranofsky/Figure10.jpg" alt="Figure 10. Illustrates the NCIPCore and SymphonyConnector projects within Eclipse" /></a></p>
<p class="caption"><strong>Figure 10.</strong> Illustrates the NCIPCore and SymphonyConnector projects within Eclipse</p>
<p>As you can see there are classes for each of the four services needed for the project here at Lehigh:</p>
<ul>
<li>SymphonyAcceptItemService</li>
<li>SymphonyLookupUserService</li>
<li>SymphonyCheckinItemService</li>
<li>SymphonyCheckoutItemService</li>
</ul>
<p>In addition to the service classes there is a SymphonyRemoteServiceManager and several other classes created to hold results, errors or constants.   The Service classes (one for each supported service) and the  SymphonyRemoteServiceManager class are part of the framework suggested  by the Extensible Catalog Organization for any connectors developed to  extend the Toolkit.  This framework is consistent among the other  connectors that have been developed to date.  The eXtensible Catalog Organization does an excellent job of explaining the framework and  guidelines for connector development [<a id="ref7" href="../index.html%3Fp=5608.html#note7">7</a>].</p>
<p>In  the Symphony implementation, the service classes validate the input  (when needed) and then makes a call to the SymphonyRemoteServiceManager  which calls the API and parses the results:</p>
<pre class="brush: java; title: ; notranslate" title="">
@Override
public CheckOutItemResponseData performService(CheckOutItemInitiationData initData, RemoteServiceManager serviceManager) {
   final CheckOutItemResponseData responseData = new CheckOutItemResponseData();
   UserId userId = this.retreiveUserId(initData);
   userId.setAgencyId(new SchemeValuePair(SymphonyConstants.AGENCY_ID));
   ItemId itemId = initData.getItemId();
   responseData.setUserId(userId);
   itemId.setAgencyId(new SchemeValuePair(SymphonyConstants.AGENCY_ID));
   responseData.setItemId(itemId);
   CheckoutTransactionReults checkoutTrans = new CheckoutTransactionReults();
   try {
      validateUserId(userId);
      validateItemId(itemId);
   }
   catch(Exception exception) {
      if (responseData.getProblems() == null) responseData.setProblems(new ArrayList&lt;Problem&gt;());
         Problem p = new Problem(new SchemeValuePair(SymphonyConstants.CHECK_OUT_PROBLEM),SymphonyConstants.CHECK_OUT_INPUT_PROBLEM,exception.getMessage(),exception.getMessage());
         responseData.getProblems().add(p);
         return responseData;
      }

      try {
         checkoutTrans = this.callSirsi(serviceManager,userId,itemId);
         checkSirsiResponseForErrors(checkoutTrans);
      }

private CheckoutTransactionReults callSirsi(RemoteServiceManager serviceManager,UserId userId,ItemId itemId) {
   SymphonyRemoteServiceManager sirsiServiceManager = (SymphonyRemoteServiceManager)serviceManager;
   CheckoutTransactionReults checkoutTransaction = sirsiServiceManager.checkoutItem(userId, itemId);
   return checkoutTransaction;
}
</pre>
<p>The call to the Symphony API is accomplished by calling the URL of a Perl script which makes the direct API call:</p>
<pre class="brush: java; title: ; notranslate" title="">
public CheckoutTransactionReults checkoutItem(UserId userid,ItemId itemId) {
   CheckoutTransactionReults checkoutTrans = new CheckoutTransactionReults();
   try {
      URL url = new URL(SymphonyRemoteServiceManager.scriptUrl +  &quot;checkoutItem.pl?id=&quot;+userid.getUserIdentifierValue()+&quot;&amp;amp;amp;amp;amp;amp;amp;amp;amp;amp;amp;itemid=&quot;+itemId.getItemIdentifierValue());
      StringTokenizer stringTokenizer = this.callURL(url);
      heckoutTrans = this.parseCheckoutResults(stringTokenizer);
   }
   catch(Exception e) {
      checkoutTrans.setStatusCode(SymphonyConstants.SIRSI_FAILED);
   }
   return checkoutTrans;
}
</pre>
<p>Parsing the results&#8230;</p>
<pre class="brush: java; title: ; notranslate" title="">
private CheckInTransactionResults parseCheckInResults(StringTokenizer stringTokenizer) {
   CheckInTransactionResults checkInTransaction = new CheckInTransactionResults();
   Hashtable&lt;String,String&gt; ht = new Hashtable&lt;String,String&gt;();
   ht = this.stringTokenizerToHashtable(stringTokenizer);
   checkInTransaction.setUserId((String)ht.get(SymphonyConstants.SIRSI_USERID));
   checkInTransaction.setCallNumber((String)ht.get(SymphonyConstants.SIRSI_CALL_NUMBER));
   checkInTransaction.setAuthor((String)ht.get(SymphonyConstants.SIRSI_AUTHOR));
   checkInTransaction.setTitle((String)ht.get(SymphonyConstants.SIRSI_TITLE));
   checkInTransaction.setStatusCode((String)ht.get(SymphonyConstants.SIRSI_MESSAGE_NUMBER));
   return checkInTransaction;
}
</pre>
<p>&#8230;which are then returned to the Service class.  The connector service class  populates the response data object which will be returned back to the Toolkit Core Code.  The Toolkit Core code will then transform the response object into XML to send back as the response.</p>
<h2>Setting up the Symphony Project in Eclipse</h2>
<p>It can sometimes be difficult to get multiple projects ‘talking’ to each other and deployed to Tomcat within Eclipse.  For those that wish to  duplicate this setup, please find below the configuration settings I  used get this all working.  The SymphonyConnector project needs to know about the NCIPCore project (Figure 11):</p>
<p><a href="../media/issue14/suranofsky/Figure11.jpg"><img decoding="async" src="../media/issue14/suranofsky/Figure11.jpg" alt="Figure 11. Adding the NCIPCore project to the build path of the Symphony Connector project" /></a></p>
<p class="caption"><strong>Figure 11.</strong> Adding the NCIPCore project to the build path of the Symphony Connector project</p>
<p>The NCIPCore project does not need to know about the SymphonyConnector project (Figure 12):</p>
<p><a href="../media/issue14/suranofsky/Figure12.jpg"><img decoding="async" src="../media/issue14/suranofsky/Figure12.jpg" alt="Figure 12. Projects on the build path of the NCIPCore project" /></a></p>
<p class="caption"><strong>Figure 12.</strong> Projects on the build path of the NCIPCore project</p>
<p>I have included both of the projects in the Tomcat ClassPath (Figure 13):</p>
<p><a href="../media/issue14/suranofsky/Figure13.jpg"><img decoding="async" src="../media/issue14/suranofsky/Figure13.jpg" alt="Figure 13. Tomcat Classpath" /></a></p>
<p class="caption"><strong>Figure 13.</strong> Tomcat Classpath</p>
<h2>Testing</h2>
<p>Much of the testing was done using an enhanced version of the index.html file that comes with the core Toolkit.   As shown below in Figure 14, I added  JavaScript that allowed me to ‘toggle’ between each of the four service  calls.  This saved me the steps of cutting and pasting.</p>
<p><a href="../media/issue14/suranofsky/Figure14.jpg"><img decoding="async" src="../media/issue14/suranofsky/Figure14.jpg" alt="Figure 14. A modified version of the Toolkit test page" /></a></p>
<p class="caption"><strong>Figure 14.</strong> A modified version of the Toolkit test page</p>
<p>The JavaScript required for this functionality:</p>
<pre class="brush: jscript; title: ; notranslate" title="">
   &lt;script type=&quot;text/javascript&quot;&gt;
   xmlArray = new Array();
   xmlArray&#x5B;&#039;LookupUser&#039;]=&quot;&lt;?xml  version = &#039;1.0&#039; encoding=&#039;UTF-8&#039;?&gt;&lt;NCIPMessage  version=&#039;http://www.niso.org/schemas/ncip/v2_0/ncip_v2_0.xsd&#039;  xmlns=&#039;http://www.niso.org/2008/ncip&#039;  xmlns:xsi=&#039;http://www.w3.org/2001/XMLSchema-instance&#039;&gt;&lt;LookupUser&gt;&lt;UserId&gt;   &lt;AgencyId&gt;NFSM&lt;/AgencyId&gt;   &lt;UserIdentifierValue&gt;123456789&lt;/UserIdentifierValue&gt;&lt;/UserId&gt;&lt;UserElementType&gt;Name  Information&lt;/UserElementType&gt;&lt;UserElementType&gt;User Address  Information&lt;/UserElementType&gt;&lt;UserElementType&gt;User  Language&lt;/UserElementType&gt;&lt;UserElementType&gt;User  Privilege&lt;/UserElementType&gt;&lt;UserElementType&gt;User  Id&lt;/UserElementType&gt;&lt;/LookupUser&gt;&lt;/NCIPMessage&gt;&quot;;
   xmlArray&#x5B;&#039;CheckinItem&#039;]=&quot;&lt;?xml  version = &#039;1.0&#039; encoding=&#039;UTF-8&#039;?&gt;&lt;NCIPMessage  version=&#039;http://www.niso.org/schemas/ncip/v2_0/ncip_v2_0.xsd&#039;  xmlns=&#039;http://www.niso.org/2008/ncip&#039;  xmlns:xsi=&#039;http://www.w3.org/2001/XMLSchema-instance&#039;&gt;  &lt;CheckInItem&gt;&lt;ItemId&gt;  &lt;AgencyId&gt;Your Agency  ID&lt;/AgencyId&gt;   &lt;ItemIdentifierValue&gt;39159999985&lt;/ItemIdentifierValue&gt;&lt;/ItemId&gt;&lt;ItemElementType&gt;Bibliographic  Description&lt;/ItemElementType&gt;&lt;ItemElementType&gt;Item  Description&lt;/ItemElementType&gt;&lt;/CheckInItem&gt;&lt;/NCIPMessage&gt;&quot;;
   xmlArray&#x5B;&#039;CheckOutItem&#039;]=&quot;&lt;?xml  version = &#039;1.0&#039; encoding=&#039;UTF-8&#039;?&gt;&lt;NCIPMessage  version=&#039;http://www.niso.org/schemas/ncip/v2_0/ncip_v2_0.xsd&#039;  xmlns=&#039;http://www.niso.org/2008/ncip&#039;  xmlns:xsi=&#039;http://www.w3.org/2001/XMLSchema-instance&#039;&gt;&lt;CheckOutItem&gt;&lt;UserId&gt;   &lt;AgencyId&gt;Your Agency ID&lt;/AgencyId&gt;   &lt;UserIdentifierValue&gt;123456789&lt;/UserIdentifierValue&gt;&lt;/UserId&gt;&lt;ItemId&gt;   &lt;AgencyId&gt;Your Agency ID&lt;/AgencyId&gt;   &lt;ItemIdentifierValue&gt;39999995&lt;/ItemIdentifierValue&gt;&lt;/ItemId&gt;&lt;/CheckOutItem&gt;&lt;/NCIPMessage&gt;&quot;;
   xmlArray&#x5B;&#039;AcceptItem&#039;]=&quot;&lt;?xml  version = &#039;1.0&#039; encoding=&#039;UTF-8&#039;?&gt;&lt;NCIPMessage  version=&#039;http://www.niso.org/schemas/ncip/v2_0/ncip_v2_0.xsd&#039;  xmlns=&#039;http://www.niso.org/2008/ncip&#039;  xmlns:xsi=&#039;http://www.w3.org/2001/XMLSchema-instance&#039;&gt;&lt;AcceptItem&gt;&lt;RequestId&gt;&lt;AgencyId&gt;Relais&lt;/AgencyId&gt;&lt;RequestIdentifierValue&gt;REG-12345679&lt;/RequestIdentifierValue&gt;&lt;/RequestId&gt;&lt;RequestedActionType&gt;Hold  For  Pickup&lt;/RequestedActionType&gt;&lt;UserId&gt;&lt;AgencyId&gt;Your  Agency  ID&lt;/AgencyId&gt;&lt;UserIdentifierValue&gt;123456789&lt;/UserIdentifierValue&gt;&lt;/UserId&gt;&lt;ItemId&gt;&lt;AgencyId&gt;Your  Agency  ID&lt;/AgencyId&gt;&lt;ItemIdentifierValue&gt;39999995885&lt;/ItemIdentifierValue&gt;&lt;/ItemId&gt;&lt;ItemOptionalFields&gt;&lt;BibliographicDescription&gt;&lt;Author&gt;Author&lt;/Author&gt;&lt;Title&gt;Title&lt;/Title&gt;&lt;/BibliographicDescription&gt;&lt;ItemDescription&gt;&lt;CallNumber&gt;Call   Number&lt;/CallNumber&gt;&lt;/ItemDescription&gt;&lt;/ItemOptionalFields&gt;&lt;PickupLocation&gt;Your  Pickup Location  code&lt;/PickupLocation&gt;&lt;/AcceptItem&gt;&lt;/NCIPMessage&gt;&quot;;

function  changeXML(serviceType) {
   document.getElementById(&#039;ncipDoc&#039;).value = xmlArray&#x5B;serviceType];
}

&lt;/script&gt;
</pre>
<p>The clickable links that call the JavaScript changeXML method:</p>
<pre class="brush: xml; title: ; notranslate" title="">
&lt;a href=&quot;javascript:changeXML(&#039;LookupUser&#039;)&quot;&gt;Show Lookup User XML&lt;/a&gt;  |
&lt;a href=&quot;javascript:changeXML(&#039;CheckinItem&#039;)&quot;&gt;Show CheckIn Item XML&lt;/a&gt; |
&lt;a href=&quot;javascript:changeXML(&#039;CheckOutItem&#039;)&quot;&gt;Show CheckOut Item XML&lt;/a&gt;  |
&lt;a href=&quot;javascript:changeXML(&#039;AcceptItem&#039;)&quot;&gt;Show Accept Item XML&lt;/a&gt;
</pre>
<p>For performance testing the services, I use JMeter [<a id="ref8" href="../index.html%3Fp=5608.html#note8">8</a>] which is an Apache open source project that allows me to create repeatable tests for valid  input, invalid input and also stress testing (Figure 15):</p>
<p><a href="../media/issue14/suranofsky/Figure15.jpg"><img decoding="async" src="../media/issue14/suranofsky/Figure15.jpg" alt="Figure 15. Apache JMeter" /></a></p>
<p class="caption"><strong>Figure 15.</strong> Apache JMeter</p>
<h2>Deploying the software (to Jetty 7.2.0)</h2>
<p>Our implementation of the Toolkit and connector is deployed in our production environment using Jetty.  I do not ‘package’ the NCIP Core code from Eclipse to deploy.  Instead I simply download the .war file  provided by the eXtensible Catalog.  I do package the Connector code from eclipse by exporting the project (class files only) as a .jar file.   The Toolkit .war file is placed in the webapps directory of Jetty.   The connector code, packaged as a .jar file, is placed in the  [NCIP_ROOT_DIR]/NCIP-Instances/ncipv2/driver/ directory together with  the driver configuration file.  (NCIP_ROOT_DIR represents the directory  your environmental variable points to.)</p>
<h2>Open Sourcing the Connector Code &amp; Perl Scripts</h2>
<p>All of the Symphony Connector Java code has been open-sourced.  It can be found on the XC NCIP2 Toolkit Google Code Website [<a id="ref9" href="../index.html%3Fp=5608.html#note9">9</a>].</p>
<p>The Perl scripts that are called by the Java connector code have also been  made available to any Symphony API customer on Symphony’s ‘sirsiapi.org’ site [<a id="ref10" href="../index.html%3Fp=5608.html#note10">10</a>].  A user id and password provided by Symphony are required to  access this site.  This is the best we could do as far as open-sourcing these scripts, due to the use of the proprietary SirsiDynix API.  The scripts consist of a call to the Symphony API and a return of the resulting string to the Java method calling it as show below in Figure 16:</p>
<p><a href="../media/issue14/suranofsky/Figure16.jpg"><img decoding="async" src="../media/issue14/suranofsky/Figure16.jpg" alt="Figure 16. Perl script that calls the proprietary SirsiDynix API" /></a></p>
<p class="caption"><strong>Figure 16.</strong> Perl script that calls the proprietary SirsiDynix API</p>
<h2>Results of the Project and Getting Involved</h2>
<p>We have been using the Toolkit and the connector code in a production environment (on Jetty) since late March 2011.   Since then, the services have been called approximately 4,000 times without any downtime or issues.  While this is not a terribly high volume, we have been happy  with the stability and performance.</p>
<p>In  the end, I can’t help but to reflect upon the simple process of the  Symphony connector code.  It validates input, calls an API, parses the results and constructs and populates the response object.  There are approximately fifty services that make up the entire NCIP protocol.  The code that makes up the Symphony connector &#8211; just four services &#8211;  is reliable and does exactly what we needed it to do support our patrons use of the Relais EZ-Borrow software.  However, as the Symphony  connector code grows to fully support all of the NCIP services, I would  like to see the design be considered so that it scales in a clean and  elegant manor.  I am thinking along the lines of mapping the XML elements to the Sirsi API codes to maximize reuse of the Java clases.</p>
<p>If  you are interested in getting involved with the XC NCIP2 Toolkit project, there is a bi-weekly conference call managed by Randy Cook [<a id="ref11" href="../index.html%3Fp=5608.html#note11">11</a>] who is the project manager for XC.  Randy and the developers that work  on this project have been wonderful to work with and extremely  responsive to all of my questions.  This is a worthy project with the  potential to benefit any organization looking for a way to access their catalog using NCIP.</p>
<h2>Software List</h2>
<p style="padding-left: 30px;">Eclipse Java EE IDE for Web Developers, Version: Helios Release, Build id: 20100617-1415<br />
Apache Tomcat 7.0.2<br />
Jetty 7.2.0<br />
Apache Maven 2.2.1<br />
Apache JMeter 2.4 r961953<br />
Subversion 1.6.12</p>
<h2>References</h2>
<p style="padding-left: 30px;">[<a id="note1" href="../index.html%3Fp=5608.html#ref1">1</a>] Pennsylvania Academic Library Consortium, Inc. <a href="http://www.palci.org/">http://www.palci.org/</a><br />
[<a id="note2" href="../index.html%3Fp=5608.html#ref2">2</a>] Relais International <a href="http://www.relais-intl.com/relais/home/index.htm">http://www.relais-intl.com/relais/home/index.htm</a><br />
[<a id="note3" href="../index.html%3Fp=5608.html#ref3">3</a>] SirsiDynix <a href="http://www.sirsidynix.com/">http://www.sirsidynix.com/</a><br />
[<a id="note4" href="../index.html%3Fp=5608.html#ref4">4</a>] eXtensible Catalog Organization <a href="http://www.extensiblecatalog.org/">http://www.extensiblecatalog.org/</a><br />
[<a id="note5" href="../index.html%3Fp=5608.html#ref5">5</a>] eXtensible Catalog XC NCIP 2 Toolkit Google Code Website &#8211; XML Samples <a href="http://code.google.com/p/xcncip2toolkit/wiki/SampleXML">http://code.google.com/p/xcncip2toolkit/wiki/SampleXML</a><br />
[<a id="note6" href="../index.html%3Fp=5608.html#ref6">6</a>] eXtensible Catalog XC NCIP 2 Toolkit Google Code Website &#8211; Class Diagram <a href="http://code.google.com/p/xcncip2toolkit/wiki/ClassDiagram">http://code.google.com/p/xcncip2toolkit/wiki/ClassDiagram</a><br />
[<a id="note7" href="../index.html%3Fp=5608.html#ref7">7</a>] eXtensible Catalog XC NCIP 2 Toolkit Google Code Website &#8211; How to Write an ILS Connector for an NCIP Service <a href="http://code.google.com/p/xcncip2toolkit/wiki/WriteConnector">http://code.google.com/p/xcncip2toolkit/wiki/WriteConnector</a><br />
[<a id="note8" href="../index.html%3Fp=5608.html#ref8">8</a>] Apache JMeter <a href="http://jakarta.apache.org/jmeter/">http://jakarta.apache.org/jmeter/</a><br />
[<a id="note9" href="../index.html%3Fp=5608.html#ref9">9</a>] eXtensible Catalog XC NCIP 2 Toolkit Google Code Website <a href="http://code.google.com/p/xcncip2toolkit/source/browse/">http://code.google.com/p/xcncip2toolkit/source/browse/</a><br />
[<a id="note10" href="../index.html%3Fp=5608.html#ref10">10</a>] Sirsi API Voluntary Code Repository (*Password Protected Site*) <a href="http://sirsiapi.org/">http://sirsiapi.org/</a><br />
[<a id="note11" href="../index.html%3Fp=5608.html#ref11">11</a>] Extensible Catalog Organization &#8211; Randall Cook <a href="http://www.extensiblecatalog.org/about/people/randall-cook">http://www.extensiblecatalog.org/about/people/randall-cook</a></p>
<h2 class="abouttheauthor">About the Author</h2>
<p>Michelle Suranofsky is a Sr. Developer at Lehigh University  in Bethlehem, PA.  Before joining Lehigh in 2010, Michelle worked for 10  years developing and maintaining Web applications primarily with Java at  Chubb Insurance.  She can be contacted at <a href="mailto:mis306@lehigh.edu" target="_blank">mis306@lehigh.edu</a>.</p>
					</div>
														</div>
				<!-- You can start editing here. -->

<div class="comments">
	<p class="subscriptionlinks">Subscribe to comments: <a href="5608/feed">For this article</a> | <a href="http://feeds.feedburner.com/c4lj/comments">For all articles</a></p>

			<!-- If comments are open, but there are no comments. -->

	 

<h3 id="respond">Leave a Reply</h3>


<form action="https://journal.code4lib.org/wp-comments-post.php" method="post" id="commentform">


<p><input type="text" name="author" id="author" value=""/>
<label for="author">Name (required)</label></p>

<p><input type="text" name="email" id="email" value="" />
<label for="email">Mail (will not be published) (required)</label></p>

<p><input type="text" name="url" id="url" value="" />
<label for="url">Website</label></p>


<p><textarea autocomplete="new-password"  aria-label="Comment box" id="f127f6ccbe"  name="f127f6ccbe"   cols="50" rows="10"></textarea><textarea id="comment" aria-label="hp-comment" aria-hidden="true" name="comment" autocomplete="new-password" style="padding:0 !important;clip:rect(1px, 1px, 1px, 1px) !important;position:absolute !important;white-space:nowrap !important;height:1px !important;width:1px !important;overflow:hidden !important;" tabindex="-1"></textarea><script data-noptimize>document.getElementById("comment").setAttribute( "id", "a6e92ad59cf68a7c0768651a975ef059" );document.getElementById("f127f6ccbe").setAttribute( "id", "comment" );</script></p>

<p><input name="submit" type="submit" id="submit"  value="Submit Comment" />
<input type="hidden" name="comment_post_ID" value="5608" />
</p>
<p style="display: none;"><input type="hidden" id="akismet_comment_nonce" name="akismet_comment_nonce" value="73f7fc2dfd" /></p><p style="display: none !important;" class="akismet-fields-container" data-prefix="ak_"><label>&#916;<textarea name="ak_hp_textarea" cols="45" rows="8" maxlength="100"></textarea></label><input type="hidden" id="ak_js_1" name="ak_js" value="150"/><script>document.getElementById( "ak_js_1" ).setAttribute( "value", ( new Date() ).getTime() );</script></p>
</form>


</div>
							</div>

			<div id="meta">
				<div id="issn">
					<p>ISSN 1940-5758</p>
				</div>
				<div class="search-sidebar">
				<form method="get" id="searchform" action="../index.html">
					<div>
						<input type="text" value="" aria-labelledby="searchsubmit" name="s" id="s" />
						<input type="submit" value="Search" id="searchsubmit"/>
					</div>
				</form>
				</div>
				<div id="archives">
					<h2>Current Issue</h2>
						<ul>
							<li><a href="../issues/issues/issue60.html">Issue 60, 2025-04-14</a></li>
						</ul>

					<h2>Previous Issues</h2>
						<ul>
              <li><a href="../issues/issues/issue59.html">Issue 59, 2024-10-07</a></li><li><a href="../issues/issues/issue58.html">Issue 58, 2023-12-04</a></li><li><a href="../issues/issues/issue57.html">Issue 57, 2023-08-29</a></li><li><a href="../issues/issues/issue56.html">Issue 56, 2023-04-21</a></li>              <li><a href="../index.html%3Fp=2476.html">Older Issues</a></li>
						</ul>
				</div>
				<div id="forauthors">
					<h2>For Authors</h2>
					<ul>
						<li class="page_item page-item-4"><a href="../index.html%3Fp=4.html">Call for Submissions</a></li>
<li class="page_item page-item-7"><a href="../index.html%3Fp=7.html">Article Guidelines</a></li>
					</ul>
				</div>
			</div>
						<div id="footer">
				<p id="login"><a href="../wp-login.php.html">Log in</a></p>
				<p id="copyright">This work is licensed under a <a rel="license" href="http://creativecommons.org/licenses/by/3.0/us/">Creative Commons Attribution 3.0 United States License</a>.<br /><a rel="license" href="http://creativecommons.org/licenses/by/3.0/us/"><img alt="Creative Commons License" src="http://i.creativecommons.org/l/by/3.0/us/80x15.png" /></a></p>
			</div>
			<script type="speculationrules">
{"prefetch":[{"source":"document","where":{"and":[{"href_matches":"\/*"},{"not":{"href_matches":["\/wp-*.php","\/wp-admin\/*","\/wp-content\/uploads\/*","\/wp-content\/*","\/wp-content\/plugins\/*","\/wp-content\/themes\/c4lj-theme\/*","\/*\\?(.+)"]}},{"not":{"selector_matches":"a[rel~=\"nofollow\"]"}},{"not":{"selector_matches":".no-prefetch, .no-prefetch a"}}]},"eagerness":"conservative"}]}
</script>
<script type="text/javascript" src="../wp-content/plugins/syntaxhighlighter/syntaxhighlighter3/scripts/shCore.js%3Fver=3.0.9b" id="syntaxhighlighter-core-js"></script>
<script type="text/javascript" src="../wp-content/plugins/syntaxhighlighter/syntaxhighlighter3/scripts/shBrushJava.js%3Fver=3.0.9b" id="syntaxhighlighter-brush-java-js"></script>
<script type="text/javascript" src="../wp-content/plugins/syntaxhighlighter/syntaxhighlighter3/scripts/shBrushJScript.js%3Fver=3.0.9b" id="syntaxhighlighter-brush-jscript-js"></script>
<script type="text/javascript" src="../wp-content/plugins/syntaxhighlighter/syntaxhighlighter3/scripts/shBrushXml.js%3Fver=3.0.9b" id="syntaxhighlighter-brush-xml-js"></script>
<script type='text/javascript'>
	(function(){
		var corecss = document.createElement('link');
		var themecss = document.createElement('link');
		var corecssurl = "https://journal.code4lib.org/wp-content/plugins/syntaxhighlighter/syntaxhighlighter3/styles/shCore.css?ver=3.0.9b";
		if ( corecss.setAttribute ) {
				corecss.setAttribute( "rel", "stylesheet" );
				corecss.setAttribute( "type", "text/css" );
				corecss.setAttribute( "href", corecssurl );
		} else {
				corecss.rel = "stylesheet";
				corecss.href = corecssurl;
		}
		document.head.appendChild( corecss );
		var themecssurl = "https://journal.code4lib.org/wp-content/plugins/syntaxhighlighter/syntaxhighlighter3/styles/shThemeDefault.css?ver=3.0.9b";
		if ( themecss.setAttribute ) {
				themecss.setAttribute( "rel", "stylesheet" );
				themecss.setAttribute( "type", "text/css" );
				themecss.setAttribute( "href", themecssurl );
		} else {
				themecss.rel = "stylesheet";
				themecss.href = themecssurl;
		}
		document.head.appendChild( themecss );
	})();
	SyntaxHighlighter.config.strings.expandSource = '+ expand source';
	SyntaxHighlighter.config.strings.help = '?';
	SyntaxHighlighter.config.strings.alert = 'SyntaxHighlighter\n\n';
	SyntaxHighlighter.config.strings.noBrush = 'Can\'t find brush for: ';
	SyntaxHighlighter.config.strings.brushNotHtmlScript = 'Brush wasn\'t configured for html-script option: ';
	SyntaxHighlighter.defaults['pad-line-numbers'] = false;
	SyntaxHighlighter.defaults['toolbar'] = false;
	SyntaxHighlighter.all();

	// Infinite scroll support
	if ( typeof( jQuery ) !== 'undefined' ) {
		jQuery( function( $ ) {
			$( document.body ).on( 'post-load', function() {
				SyntaxHighlighter.highlight();
			} );
		} );
	}
</script>
<script defer type="text/javascript" src="../wp-content/plugins/akismet/_inc/akismet-frontend.js%3Fver=1748382734" id="akismet-frontend-js"></script>
		</div>
	</body>
</html>
