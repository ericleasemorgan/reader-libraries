<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
	<head>
		<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />

		<title>The Code4Lib Journal &#8211; Copyright and access restrictions–providing access to the digital collections of Leiden University Libraries with conditional access rights</title>

		<meta name="viewport" content="width=device-width, initial-scale=1" />
		<meta name="generator" content="WordPress 6.8.1" /> <!-- leave this for stats -->
    <link rel="shortcut icon" href="../wp-content/themes/c4lj-theme/images/favicon.ico" />
		<link rel="stylesheet" href="../wp-content/themes/c4lj-theme/style.css" type="text/css" media="screen, print" />
		<!--[if lte IE 7]>
		<link rel="stylesheet" href="https://journal.code4lib.org/wp-content/themes/c4lj-theme/fix-ie7.css" type="text/css" media="screen" />
		<![endif]-->
		<!--[if lte IE 6]>
		<link rel="stylesheet" href="https://journal.code4lib.org/wp-content/themes/c4lj-theme/fix-ie6.css" type="text/css" media="screen" />
		<![endif]-->
		<link rel="stylesheet" href="../wp-content/themes/c4lj-theme/print.css" type="text/css" media="print" />
		<link rel="alternate" type="application/rss+xml" title="The Code4Lib Journal Syndication Feed" href="http://feeds.feedburner.com/c4lj" />
		<link rel="pingback" href="https://journal.code4lib.org/xmlrpc.php" />

<!-- Google Scholar Stuff -->
	<meta name="citation_title" content="Copyright and access restrictions–providing access to the digital collections of Leiden University Libraries with conditional access rights">
 <meta name="citation_author" content="Saskia van Bergen">
 <meta name="citation_author" content="Lucas van Schaik">
<meta name="citation_publication_date" content="2018/08/09">
	<meta name="citation_journal_title" content="Code4Lib Journal">
		<meta name="citation_issue" content="41">
<!-- end  Google Scholar Stuff -->

<meta name='robots' content='max-image-preview:large' />
	<style>img:is([sizes="auto" i], [sizes^="auto," i]) { contain-intrinsic-size: 3000px 1500px }</style>
	<link rel="alternate" type="application/rss+xml" title="The Code4Lib Journal &raquo; Copyright and access restrictions–providing access to the digital collections of Leiden University Libraries with conditional access rights Comments Feed" href="13588/feed" />
<script type="text/javascript">
/* <![CDATA[ */
window._wpemojiSettings = {"baseUrl":"https:\/\/s.w.org\/images\/core\/emoji\/15.1.0\/72x72\/","ext":".png","svgUrl":"https:\/\/s.w.org\/images\/core\/emoji\/15.1.0\/svg\/","svgExt":".svg","source":{"concatemoji":"https:\/\/journal.code4lib.org\/wp-includes\/js\/wp-emoji-release.min.js?ver=6.8.1"}};
/*! This file is auto-generated */
!function(i,n){var o,s,e;function c(e){try{var t={supportTests:e,timestamp:(new Date).valueOf()};sessionStorage.setItem(o,JSON.stringify(t))}catch(e){}}function p(e,t,n){e.clearRect(0,0,e.canvas.width,e.canvas.height),e.fillText(t,0,0);var t=new Uint32Array(e.getImageData(0,0,e.canvas.width,e.canvas.height).data),r=(e.clearRect(0,0,e.canvas.width,e.canvas.height),e.fillText(n,0,0),new Uint32Array(e.getImageData(0,0,e.canvas.width,e.canvas.height).data));return t.every(function(e,t){return e===r[t]})}function u(e,t,n){switch(t){case"flag":return n(e,"\ud83c\udff3\ufe0f\u200d\u26a7\ufe0f","\ud83c\udff3\ufe0f\u200b\u26a7\ufe0f")?!1:!n(e,"\ud83c\uddfa\ud83c\uddf3","\ud83c\uddfa\u200b\ud83c\uddf3")&&!n(e,"\ud83c\udff4\udb40\udc67\udb40\udc62\udb40\udc65\udb40\udc6e\udb40\udc67\udb40\udc7f","\ud83c\udff4\u200b\udb40\udc67\u200b\udb40\udc62\u200b\udb40\udc65\u200b\udb40\udc6e\u200b\udb40\udc67\u200b\udb40\udc7f");case"emoji":return!n(e,"\ud83d\udc26\u200d\ud83d\udd25","\ud83d\udc26\u200b\ud83d\udd25")}return!1}function f(e,t,n){var r="undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope?new OffscreenCanvas(300,150):i.createElement("canvas"),a=r.getContext("2d",{willReadFrequently:!0}),o=(a.textBaseline="top",a.font="600 32px Arial",{});return e.forEach(function(e){o[e]=t(a,e,n)}),o}function t(e){var t=i.createElement("script");t.src=e,t.defer=!0,i.head.appendChild(t)}"undefined"!=typeof Promise&&(o="wpEmojiSettingsSupports",s=["flag","emoji"],n.supports={everything:!0,everythingExceptFlag:!0},e=new Promise(function(e){i.addEventListener("DOMContentLoaded",e,{once:!0})}),new Promise(function(t){var n=function(){try{var e=JSON.parse(sessionStorage.getItem(o));if("object"==typeof e&&"number"==typeof e.timestamp&&(new Date).valueOf()<e.timestamp+604800&&"object"==typeof e.supportTests)return e.supportTests}catch(e){}return null}();if(!n){if("undefined"!=typeof Worker&&"undefined"!=typeof OffscreenCanvas&&"undefined"!=typeof URL&&URL.createObjectURL&&"undefined"!=typeof Blob)try{var e="postMessage("+f.toString()+"("+[JSON.stringify(s),u.toString(),p.toString()].join(",")+"));",r=new Blob([e],{type:"text/javascript"}),a=new Worker(URL.createObjectURL(r),{name:"wpTestEmojiSupports"});return void(a.onmessage=function(e){c(n=e.data),a.terminate(),t(n)})}catch(e){}c(n=f(s,u,p))}t(n)}).then(function(e){for(var t in e)n.supports[t]=e[t],n.supports.everything=n.supports.everything&&n.supports[t],"flag"!==t&&(n.supports.everythingExceptFlag=n.supports.everythingExceptFlag&&n.supports[t]);n.supports.everythingExceptFlag=n.supports.everythingExceptFlag&&!n.supports.flag,n.DOMReady=!1,n.readyCallback=function(){n.DOMReady=!0}}).then(function(){return e}).then(function(){var e;n.supports.everything||(n.readyCallback(),(e=n.source||{}).concatemoji?t(e.concatemoji):e.wpemoji&&e.twemoji&&(t(e.twemoji),t(e.wpemoji)))}))}((window,document),window._wpemojiSettings);
/* ]]> */
</script>
<style id='wp-emoji-styles-inline-css' type='text/css'>

	img.wp-smiley, img.emoji {
		display: inline !important;
		border: none !important;
		box-shadow: none !important;
		height: 1em !important;
		width: 1em !important;
		margin: 0 0.07em !important;
		vertical-align: -0.1em !important;
		background: none !important;
		padding: 0 !important;
	}
</style>
<link rel='stylesheet' id='wp-block-library-css' href='../wp-includes/css/dist/block-library/style.min.css%3Fver=6.8.1.css' type='text/css' media='all' />
<style id='classic-theme-styles-inline-css' type='text/css'>
/*! This file is auto-generated */
.wp-block-button__link{color:#fff;background-color:#32373c;border-radius:9999px;box-shadow:none;text-decoration:none;padding:calc(.667em + 2px) calc(1.333em + 2px);font-size:1.125em}.wp-block-file__button{background:#32373c;color:#fff;text-decoration:none}
</style>
<style id='global-styles-inline-css' type='text/css'>
:root{--wp--preset--aspect-ratio--square: 1;--wp--preset--aspect-ratio--4-3: 4/3;--wp--preset--aspect-ratio--3-4: 3/4;--wp--preset--aspect-ratio--3-2: 3/2;--wp--preset--aspect-ratio--2-3: 2/3;--wp--preset--aspect-ratio--16-9: 16/9;--wp--preset--aspect-ratio--9-16: 9/16;--wp--preset--color--black: #000000;--wp--preset--color--cyan-bluish-gray: #abb8c3;--wp--preset--color--white: #ffffff;--wp--preset--color--pale-pink: #f78da7;--wp--preset--color--vivid-red: #cf2e2e;--wp--preset--color--luminous-vivid-orange: #ff6900;--wp--preset--color--luminous-vivid-amber: #fcb900;--wp--preset--color--light-green-cyan: #7bdcb5;--wp--preset--color--vivid-green-cyan: #00d084;--wp--preset--color--pale-cyan-blue: #8ed1fc;--wp--preset--color--vivid-cyan-blue: #0693e3;--wp--preset--color--vivid-purple: #9b51e0;--wp--preset--gradient--vivid-cyan-blue-to-vivid-purple: linear-gradient(135deg,rgba(6,147,227,1) 0%,rgb(155,81,224) 100%);--wp--preset--gradient--light-green-cyan-to-vivid-green-cyan: linear-gradient(135deg,rgb(122,220,180) 0%,rgb(0,208,130) 100%);--wp--preset--gradient--luminous-vivid-amber-to-luminous-vivid-orange: linear-gradient(135deg,rgba(252,185,0,1) 0%,rgba(255,105,0,1) 100%);--wp--preset--gradient--luminous-vivid-orange-to-vivid-red: linear-gradient(135deg,rgba(255,105,0,1) 0%,rgb(207,46,46) 100%);--wp--preset--gradient--very-light-gray-to-cyan-bluish-gray: linear-gradient(135deg,rgb(238,238,238) 0%,rgb(169,184,195) 100%);--wp--preset--gradient--cool-to-warm-spectrum: linear-gradient(135deg,rgb(74,234,220) 0%,rgb(151,120,209) 20%,rgb(207,42,186) 40%,rgb(238,44,130) 60%,rgb(251,105,98) 80%,rgb(254,248,76) 100%);--wp--preset--gradient--blush-light-purple: linear-gradient(135deg,rgb(255,206,236) 0%,rgb(152,150,240) 100%);--wp--preset--gradient--blush-bordeaux: linear-gradient(135deg,rgb(254,205,165) 0%,rgb(254,45,45) 50%,rgb(107,0,62) 100%);--wp--preset--gradient--luminous-dusk: linear-gradient(135deg,rgb(255,203,112) 0%,rgb(199,81,192) 50%,rgb(65,88,208) 100%);--wp--preset--gradient--pale-ocean: linear-gradient(135deg,rgb(255,245,203) 0%,rgb(182,227,212) 50%,rgb(51,167,181) 100%);--wp--preset--gradient--electric-grass: linear-gradient(135deg,rgb(202,248,128) 0%,rgb(113,206,126) 100%);--wp--preset--gradient--midnight: linear-gradient(135deg,rgb(2,3,129) 0%,rgb(40,116,252) 100%);--wp--preset--font-size--small: 13px;--wp--preset--font-size--medium: 20px;--wp--preset--font-size--large: 36px;--wp--preset--font-size--x-large: 42px;--wp--preset--spacing--20: 0.44rem;--wp--preset--spacing--30: 0.67rem;--wp--preset--spacing--40: 1rem;--wp--preset--spacing--50: 1.5rem;--wp--preset--spacing--60: 2.25rem;--wp--preset--spacing--70: 3.38rem;--wp--preset--spacing--80: 5.06rem;--wp--preset--shadow--natural: 6px 6px 9px rgba(0, 0, 0, 0.2);--wp--preset--shadow--deep: 12px 12px 50px rgba(0, 0, 0, 0.4);--wp--preset--shadow--sharp: 6px 6px 0px rgba(0, 0, 0, 0.2);--wp--preset--shadow--outlined: 6px 6px 0px -3px rgba(255, 255, 255, 1), 6px 6px rgba(0, 0, 0, 1);--wp--preset--shadow--crisp: 6px 6px 0px rgba(0, 0, 0, 1);}:where(.is-layout-flex){gap: 0.5em;}:where(.is-layout-grid){gap: 0.5em;}body .is-layout-flex{display: flex;}.is-layout-flex{flex-wrap: wrap;align-items: center;}.is-layout-flex > :is(*, div){margin: 0;}body .is-layout-grid{display: grid;}.is-layout-grid > :is(*, div){margin: 0;}:where(.wp-block-columns.is-layout-flex){gap: 2em;}:where(.wp-block-columns.is-layout-grid){gap: 2em;}:where(.wp-block-post-template.is-layout-flex){gap: 1.25em;}:where(.wp-block-post-template.is-layout-grid){gap: 1.25em;}.has-black-color{color: var(--wp--preset--color--black) !important;}.has-cyan-bluish-gray-color{color: var(--wp--preset--color--cyan-bluish-gray) !important;}.has-white-color{color: var(--wp--preset--color--white) !important;}.has-pale-pink-color{color: var(--wp--preset--color--pale-pink) !important;}.has-vivid-red-color{color: var(--wp--preset--color--vivid-red) !important;}.has-luminous-vivid-orange-color{color: var(--wp--preset--color--luminous-vivid-orange) !important;}.has-luminous-vivid-amber-color{color: var(--wp--preset--color--luminous-vivid-amber) !important;}.has-light-green-cyan-color{color: var(--wp--preset--color--light-green-cyan) !important;}.has-vivid-green-cyan-color{color: var(--wp--preset--color--vivid-green-cyan) !important;}.has-pale-cyan-blue-color{color: var(--wp--preset--color--pale-cyan-blue) !important;}.has-vivid-cyan-blue-color{color: var(--wp--preset--color--vivid-cyan-blue) !important;}.has-vivid-purple-color{color: var(--wp--preset--color--vivid-purple) !important;}.has-black-background-color{background-color: var(--wp--preset--color--black) !important;}.has-cyan-bluish-gray-background-color{background-color: var(--wp--preset--color--cyan-bluish-gray) !important;}.has-white-background-color{background-color: var(--wp--preset--color--white) !important;}.has-pale-pink-background-color{background-color: var(--wp--preset--color--pale-pink) !important;}.has-vivid-red-background-color{background-color: var(--wp--preset--color--vivid-red) !important;}.has-luminous-vivid-orange-background-color{background-color: var(--wp--preset--color--luminous-vivid-orange) !important;}.has-luminous-vivid-amber-background-color{background-color: var(--wp--preset--color--luminous-vivid-amber) !important;}.has-light-green-cyan-background-color{background-color: var(--wp--preset--color--light-green-cyan) !important;}.has-vivid-green-cyan-background-color{background-color: var(--wp--preset--color--vivid-green-cyan) !important;}.has-pale-cyan-blue-background-color{background-color: var(--wp--preset--color--pale-cyan-blue) !important;}.has-vivid-cyan-blue-background-color{background-color: var(--wp--preset--color--vivid-cyan-blue) !important;}.has-vivid-purple-background-color{background-color: var(--wp--preset--color--vivid-purple) !important;}.has-black-border-color{border-color: var(--wp--preset--color--black) !important;}.has-cyan-bluish-gray-border-color{border-color: var(--wp--preset--color--cyan-bluish-gray) !important;}.has-white-border-color{border-color: var(--wp--preset--color--white) !important;}.has-pale-pink-border-color{border-color: var(--wp--preset--color--pale-pink) !important;}.has-vivid-red-border-color{border-color: var(--wp--preset--color--vivid-red) !important;}.has-luminous-vivid-orange-border-color{border-color: var(--wp--preset--color--luminous-vivid-orange) !important;}.has-luminous-vivid-amber-border-color{border-color: var(--wp--preset--color--luminous-vivid-amber) !important;}.has-light-green-cyan-border-color{border-color: var(--wp--preset--color--light-green-cyan) !important;}.has-vivid-green-cyan-border-color{border-color: var(--wp--preset--color--vivid-green-cyan) !important;}.has-pale-cyan-blue-border-color{border-color: var(--wp--preset--color--pale-cyan-blue) !important;}.has-vivid-cyan-blue-border-color{border-color: var(--wp--preset--color--vivid-cyan-blue) !important;}.has-vivid-purple-border-color{border-color: var(--wp--preset--color--vivid-purple) !important;}.has-vivid-cyan-blue-to-vivid-purple-gradient-background{background: var(--wp--preset--gradient--vivid-cyan-blue-to-vivid-purple) !important;}.has-light-green-cyan-to-vivid-green-cyan-gradient-background{background: var(--wp--preset--gradient--light-green-cyan-to-vivid-green-cyan) !important;}.has-luminous-vivid-amber-to-luminous-vivid-orange-gradient-background{background: var(--wp--preset--gradient--luminous-vivid-amber-to-luminous-vivid-orange) !important;}.has-luminous-vivid-orange-to-vivid-red-gradient-background{background: var(--wp--preset--gradient--luminous-vivid-orange-to-vivid-red) !important;}.has-very-light-gray-to-cyan-bluish-gray-gradient-background{background: var(--wp--preset--gradient--very-light-gray-to-cyan-bluish-gray) !important;}.has-cool-to-warm-spectrum-gradient-background{background: var(--wp--preset--gradient--cool-to-warm-spectrum) !important;}.has-blush-light-purple-gradient-background{background: var(--wp--preset--gradient--blush-light-purple) !important;}.has-blush-bordeaux-gradient-background{background: var(--wp--preset--gradient--blush-bordeaux) !important;}.has-luminous-dusk-gradient-background{background: var(--wp--preset--gradient--luminous-dusk) !important;}.has-pale-ocean-gradient-background{background: var(--wp--preset--gradient--pale-ocean) !important;}.has-electric-grass-gradient-background{background: var(--wp--preset--gradient--electric-grass) !important;}.has-midnight-gradient-background{background: var(--wp--preset--gradient--midnight) !important;}.has-small-font-size{font-size: var(--wp--preset--font-size--small) !important;}.has-medium-font-size{font-size: var(--wp--preset--font-size--medium) !important;}.has-large-font-size{font-size: var(--wp--preset--font-size--large) !important;}.has-x-large-font-size{font-size: var(--wp--preset--font-size--x-large) !important;}
:where(.wp-block-post-template.is-layout-flex){gap: 1.25em;}:where(.wp-block-post-template.is-layout-grid){gap: 1.25em;}
:where(.wp-block-columns.is-layout-flex){gap: 2em;}:where(.wp-block-columns.is-layout-grid){gap: 2em;}
:root :where(.wp-block-pullquote){font-size: 1.5em;line-height: 1.6;}
</style>
<style id='akismet-widget-style-inline-css' type='text/css'>

			.a-stats {
				--akismet-color-mid-green: #357b49;
				--akismet-color-white: #fff;
				--akismet-color-light-grey: #f6f7f7;

				max-width: 350px;
				width: auto;
			}

			.a-stats * {
				all: unset;
				box-sizing: border-box;
			}

			.a-stats strong {
				font-weight: 600;
			}

			.a-stats a.a-stats__link,
			.a-stats a.a-stats__link:visited,
			.a-stats a.a-stats__link:active {
				background: var(--akismet-color-mid-green);
				border: none;
				box-shadow: none;
				border-radius: 8px;
				color: var(--akismet-color-white);
				cursor: pointer;
				display: block;
				font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', 'Oxygen-Sans', 'Ubuntu', 'Cantarell', 'Helvetica Neue', sans-serif;
				font-weight: 500;
				padding: 12px;
				text-align: center;
				text-decoration: none;
				transition: all 0.2s ease;
			}

			/* Extra specificity to deal with TwentyTwentyOne focus style */
			.widget .a-stats a.a-stats__link:focus {
				background: var(--akismet-color-mid-green);
				color: var(--akismet-color-white);
				text-decoration: none;
			}

			.a-stats a.a-stats__link:hover {
				filter: brightness(110%);
				box-shadow: 0 4px 12px rgba(0, 0, 0, 0.06), 0 0 2px rgba(0, 0, 0, 0.16);
			}

			.a-stats .count {
				color: var(--akismet-color-white);
				display: block;
				font-size: 1.5em;
				line-height: 1.4;
				padding: 0 13px;
				white-space: nowrap;
			}
		
</style>
<link rel="https://api.w.org/" href="../wp-json/index.html" /><link rel="alternate" title="JSON" type="application/json" href="../wp-json/wp/v2/posts/13588" /><link rel="EditURI" type="application/rsd+xml" title="RSD" href="https://journal.code4lib.org/xmlrpc.php?rsd" />
<link rel="canonical" href="../index.html%3Fp=13588.html" />
<link rel='shortlink' href='../index.html%3Fp=13588.html' />
<link rel="alternate" title="oEmbed (JSON)" type="application/json+oembed" href="../wp-json/oembed/1.0/embed%3Furl=https:%252F%252Fjournal.code4lib.org%252Farticles%252F13588" />
<link rel="alternate" title="oEmbed (XML)" type="text/xml+oembed" href="../wp-json/oembed/1.0/embed%3Furl=https:%252F%252Fjournal.code4lib.org%252Farticles%252F13588&amp;format=xml" />
<style>
@media all and (max-width : 768px) {
.syntaxhighlighter a, .syntaxhighlighter div, .syntaxhighlighter code, .syntaxhighlighter table, .syntaxhighlighter table td, .syntaxhighlighter table tr, .syntaxhighlighter table tbody, .syntaxhighlighter table thead, .syntaxhighlighter table caption, .syntaxhighlighter textarea
{
	font-size: 0.95em !important;
}
}
</style>
	</head>
	<body>
		<div id="page">
			<div id="header">
				<div id="headerbackground">
					<h1><a href="../index.html"><img src="../wp-content/themes/c4lj-theme/images/logo.png" alt="The Code4Lib Journal" /></a></h1>
				</div>
				<div id="about">
					<ul>
						<li class="page_item page-item-5"><a href="../index.html%3Fp=5.html">Mission</a></li>
<li class="page_item page-item-6"><a href="../editorial-committee/index.html">Editorial Committee</a></li>
<li class="page_item page-item-8"><a href="../process/index.html">Process and Structure</a></li>
						<li><a href="http://code4lib.org/">Code4Lib</a></li>
					</ul>
				</div>
				<div class="mobile-search">
					<form method="get" id="searchform" action="../index.html">
						<div>
							<input type="text" value="" aria-labelledby="searchsubmit" name="s" id="s" />
							<input type="submit" value="Search" id="searchsubmit" />
						</div>
					</form>
				</div>
			</div>

			<div id="content">
								<div class="article" id="post-13588">
					<p id="issueDesignation"><a href="../issues/issues/issue41.html">Issue 41, 2018-08-09</a></p>
					<h1 class="articletitle">Copyright and access restrictions–providing access to the digital collections of Leiden University Libraries with conditional access rights</h1>
					<div class="abstract">
						<p>To provide access to the digitized collections without breaking any copyright laws, Leiden University Library built a copyright module for their Islandora-based repository. The project was not just about building a technical solution, but also addressed policy, metadata, and workflows. A fine-grained system of access rights was set up, distinguishing conditions based on metadata, IP address, authentication and user role.</p>
					</div>
					<div class="entry">
						<p>by Saskia van Bergen and Lucas van Schaik</p>
<h2>Introduction</h2>
<p>Leiden University has a long tradition of research and education dedicated to  non-Western cultures, specifically Asian and Middle Eastern cultures. This focus was in large part driven by the historical ties between the Netherlands and the countries formerly under colonial rule. As a result Leiden University Libraries (UBL) owns a significant number of non-Western heritage collections. </p>
<p>In 2013 the Library of the Royal Tropical Institute (KIT) was closed and the part of the collection that dealt with the former Dutch colonies was transferred to Leiden University Libraries, a vast collection which included unique historical materials about the former colonies of the Netherlands. In 2014 Leiden’s collections on Southeast Asia, the Pacific and the Caribbean grew through the acquisition of the heritage collection of the Royal Netherlands Institute of Southeast Asian and Caribbean Studies (KITLV).</p>
<p>The many non-Western objects held by Leiden University Libraries can be of great value both to researchers worldwide and to the general public in the regions in which these objects originated. However, because of the costs of travel it is often difficult for them to consult these objects physically in the library’s reading room. </p>
<p>For this reason UBL decided to invest considerably in improving the digital access to these collections. As an important step in this process the library redesigned its repository infrastructure and replaced all commercial, home-built and (partly outdated) open source applications for ingest, storage and presentation with one open source, multi-functional environment based on Islandora. In the  course of 2018, the new online interface for Leiden University Libraries Digital Collections will contain all digitized heritage collections of Leiden University Libraries. These include manuscripts, early printed books, maps, atlases, prints, drawings, and photographs; all together around 3 million scans and 50 TB. </p>
<p>The new infrastructure offers a service that is both manageable and trustworthy. It focuses on the long-term preservation of objects and their metadata. Researchers and students can easily view and download digital objects through the online interface, and specific groups of objects can be made available as a separate collection by creating a home page for each of them. The objects and metadata can be requested by external parties through standardized exchange protocols, APIs and persistent identifiers.</p>
<p>In recent years, European cultural heritage institutions have invested heavily in the digitization and online availability of their collections. In accordance with the intellectual property rights, permission from copyright holders is required for both reproduction and online dissemination. Copyright in the Netherlands is laid down in the Auteurswet (Dutch Copyright Act). The copyright is valid for up to 70 years after the creator’s death. This means that during this period creators (or their heirs) have the exclusive right to authorize and prohibit the use of their works. </p>
<p>Dutch heritage organizations have for a long time devoted little attention to the follow-up of copyright restrictions. This was based on the idea that they are non-commercial organizations and work for research and educational purposes. Thus not all legacy applications maintained by the UBL were equipped with sufficient functionality to comply with Dutch copyright law. </p>
<p>Over the past few years however, several heritage organizations have been brought before court for copyright infringement and as a result they have begun to respond to these requirements. The same goes for our library. Collections that had been made available online in the past had to be reconsidered, and if any copyright infringement had occurred, measures had to be taken. Fortunately, the Islandora infrastructure does enable us to make the availability of digital objects dependent on copyright regulations in a flexible way. </p>
<p>In this article we will focus on the implementation of a copyright module for Islandora. Altogether this project was not just about building a technical solution, but also considered policy, metadata, and workflows. </p>
<h2>Policies and Workflows</h2>
<h3>Policy</h3>
<p>Most collections at UBL were digitized for preservation purposes, mainly as part of the Dutch Metamorfoze programme. By digitizing them the originals can be protected from handling, while their content is still available to our users.  At the start of the project many digital objects were made available even though they were under copyright protection. </p>
<p>With copyright compliance now a priority, this had to be corrected. We also needed to make it unambiguous on a general level what our users can and cannot do with our data. Are they allowed to download and reuse our metadata? And can they share, reuse and modify our JPEG files only, or the TIFF archival object as well? Because our library did not yet have a clear policy for the digital collections, this was the first step necessary for setting up the workflows. We decided that all data are made as openly available as possible, in as many places as possible. If copyright permits, users can download:</p>
<ul>
<li>JPG files of individual scans</li>
<li>PDF files of complete works</li>
<li>OCR in txt and xml formats (if available)</li>
<li>MP3 files of audiovisual materials</li>
</ul>
<p>Exceptions can be made for collections or items, depending on the requirements of copyright owners. Collections subject to copyright restrictions are made available on a dedicated terminal only accessible in the main building of the library. </p>
<h2>Metadata and copyright clearance</h2>
<p>All items in our collections are catalogued in our main library management system Alma, including archival materials, prints, maps and photographs. Alma is the source for the metadata in our discovery system Primo and also for Islandora. For this reason, we have created a module that uses an OAI-PMH enabled source to synchronize the metadata to Islandora. Synchronization can be performed for an individual item (manage, synchronize) or for a batch. For the physical and digital objects we make two separate records, both with their own metadata and services: the metadata for the physical object contains a request button, while the digital object record contains a Handle persistent identifier leading users to the digitized content in Islandora. </p>
<p>Access to all copyright-protected works that were still digitally accessible had to be restricted. A major problem was that the metadata was not always of sufficient quality to determine whether an object was free of copyright (for example, a photographer&#8217;s date of death not recorded). </p>
<p>Over the past few years we have worked hard to improve this metadata. To be able to clear the copyrights, we had to retrieve the contact details of the copyright owners. In the Netherlands various agencies offer their assistance in this, including the Dutch Knowledge Center for Digital Heritage and Culture (DEN) and Kennisland. </p>
<p>If after careful research the right holders are not known or cannot be traced, one can register the work in the European database for orphaned works and make it publicly available. The National Office for Orphaned Works in The Hague offers assistance in determining whether a work can be registered as unidentified. </p>
<p>In practice copyright clearance is an intensive and costly process. For this reason, more and more Dutch organizations decide to save themselves the effort and switch to the services of a copyright collecting agency. However, the digital Asian collections were the main bottleneck for UBL. The clearing and registration of these collections is hampered by a variety of problems, such as language and spelling variations and difficulties in determining years of life and contact details of copyright owners. And although more and more copyright collecting agencies and companies are becoming active in Asia, the number still lags far behind that of Europe.   This meant that &#8211; despite our efforts &#8211; parts of these collections can only be made available within the walls of the library. </p>
<h2>Rights Workflow</h2>
<p>To be able to make our digital collections available without infringement of any law, we had to create separate workflows for each possible copyright situation. Each workflow starts with an analysis, the result is documented in the metadata and this leads to specific access actions.  To analyze the status and potential risks of copyright infringement for our digital collections we made use of the licenses granted by both Creative Commons and RightsStatements, established by Europeana and DPLA. We distinguished four main categories:</p>
<ul>
<li>Works with copyright restrictions</li>
<li>Works in the public domain</li>
<li>Works for which the copyright is not evaluated (most Asian collections)</li>
<li>Orphaned works</li>
</ul>
<p>For works with an unknown author or creator, we decided that textual materials made or published before 1900 and maps published more than 70 years ago would be made available free of restrictions. The risk of legal action is  very low for these materials. The next step was to create separate workflows for:</p>
<ul>
<li>collections which were not evaluated yet at the item level</li>
<li>collections and items within copyright</li>
<li>collections and items in the public domain </li>
</ul>
<p>A separate workflow was created for collections which are in use internally by research groups of Leiden University and cannot be made available (yet) to other users, because of copyright and/or privacy issues. </p>
<p>For each collection the rights and the online availability were registered with one or more of the following permission scopes: </p>
<ul>
<li>Access with ULCN account services login, the single sign on environment for students, researchers and guests of Leiden University</li>
<li>Access within the walls of the library building only, on dedicated desktop terminals</li>
<li>Viewing and streaming rights only: for collections with possible copyright issues, but limited risks</li>
<li>Access and download rights for everyone, anywhere, anytime</li>
</ul>
<p>This could be one both on item and collection level. The process consists of two steps. First, the access rights for each digital object of a collection are recorded in Alma. </p>
<pre>506 - Restrictions on Access Note (R)
$a Streaming access (Assign first indicator 1)
$a Download provided (Assign first indicator 0)

540 Terms of use and reproduction note (R)
$a Copyright not evaluated
$u  http://rightsstatements.org/vocab/CNE/1.0/

$a This resource is protected by copyright 
$u http://rightsstatements.org/vocab/InC/1.0/ 
</pre>
<p class="caption"><strong>Figure 1.</strong> Examples of copyright information coded in MARC21</p>
<p>This results in a MODS file in Islandora containing two separate fields for Access Condition :</p>
<pre class="brush: xml; title: ; notranslate" title="">
&lt;accessCondition type=&quot;restriction on access&quot;&gt;Download provided&lt;/accessCondition&gt;
&lt;accessCondition xmlns:xlink=&quot;http://www.w3.org/1999/xlink&quot; type=&quot;use and reproduction&quot; xlink:href=&quot;https://creativecommons.org/licenses/by/4.0/&quot;&gt;
Use of this resource is governed by the terms and conditions of the Creative Commons CC-BY License&lt;/accessCondition&gt;
</pre>
<p class="caption"><strong>Figure 2.</strong> Example of copyright information coded in MODS</p>
<p>To make it clear to users what the access rights for each object are texts, links and images are displayed both below the metadata and inside a download menu (Figure 3). The download menu lists all of the available datastreams and indicates whether they are available for download (see Figure 4). Items that are part of a compound object, like pages of a book and sheets of a map, can have their own access actions as well. If there is no data available (for example for a page in a book), the data of the compound object (the book itself) is used. </p>
<p><img decoding="async" src="https://journal.code4lib.org/media/issue41/vanbergen/\vanbergen_ill_1.jpg" /></p>
<p class="caption"><strong>Figure 3.</strong> Example of public record display</p>
<p><img decoding="async" src="../media/issue41/vanbergen/vanbergen_ill_2.jpg" /></p>
<p class="caption"><strong>Figure 4.</strong> Example context menu</p>
<h2>Islandora Conditional Access Rights Module</h2>
<p>To handle the access rights and display the copyright statements, we built a module called Islandora conditional access rights, a Drupal module in PHP. The module pulls the access rights and the displayed copyright statements from the metadata of the object in Islandora, synchronized from Alma.</p>
<p>The module defines conditions and access actions it uses to determine user access. The conditions are evaluated when a user attempts to view an object. Based on the outcome of the conditions, certain access actions are performed. An access action is a single effect the user perceives when accessing the object; for example denying access to the object or displaying a download menu.</p>
<h3>Islandora Hooks</h3>
<p>Islandora conditional access rights uses Islandora hooks to modify the access restrictions of objects and datastreams. Islandora hooks are an implementation of Drupal hooks which allows modules to change the behavior and data of other hook modules. Because Islandora itself is partly implemented as Drupal modules, it also defines its own hooks.</p>
<h4>Object access hook</h4>
<p>The Islandora object access hook is used to establish the access rights at the object level. If the “deny access to object” access action’s value is true for an object, access to this object is restricted. If the value is false or the value is absent, users have access to this object, unless another module prevents access. If the object subordinates to another object, such as a page in a book, and the child object does not have its own access action, the parent object is checked to determine access rights.</p>
<h4>Datastream access hook</h4>
<p>The Islandora datastream access hook is used to establish the access rights at the datastream level. There are two access actions that determine if the user has access:</p>
<ul>
<li>deny access to datastream<br />
If the datastream is present in this access action but not in the “allow access to datastream” access action, the access to the datastream is not allowed.</li>
<li>allow access to datastream<br />
If the datastream is present in this access action but not in the “deny access to datastream” access action, the access to the datastream is allowed.</li>
</ul>
<p>If the access rights are not handled by these two access actions (because the datastream is not defined or it is defined in both access actions), users have access to this datastream, unless another module restricts access. Just as is the case with the object access option, the parent is checked as well for compound objects. </p>
<h3>Conditional statements</h3>
<p>Islandora conditional access rights uses the following information to determine access rights for an object:</p>
<ul>
<li>copyright statement contained in the metadata</li>
<li>IP address of the user</li>
<li>user authentication</li>
<li>user role</li>
</ul>
<p>Figure 5 shows the relationship between conditions and access actions. The configuration of the module allows any number of conditions and access actions for a single object. Green indicates the condition is met and the access action is taken.</p>
<p><img decoding="async" src="../media/issue41/vanbergen/vanbergen_ill_3.png" /></p>
<p class="caption"><strong>Figure 5.</strong> Conditional relationship and access action model</p>
<p>A single condition can only be true or false; either the condition is met or not. If a condition is met, the related access action is performed.</p>
<p>The module defines six condition types to determine access actions.</p>
<h4>Metadata condition type</h4>
<p>This condition type compares a value in a specific metadata field to a given value. The metadata field is determined by the datastream ID and an XPath in the module.</p>
<p>In Islandora it is possible to have multiple metadata XML files per object, so the datastream ID identifies the XML file to use and the XPath identifies the metadata value to use for the access action.</p>
<p>The object’s metadata field is referenced by the metadata key field “restriction_on_access”, which is defined in the module’s configuration [metadata:restriction_on_access] and then used in the condition (metadata = restriction_on_access).</p>
<h4>Location condition type</h4>
<p>This is used to restrict access to terminals within the library building. This condition is met when the IP address of the machine of the user lies within a specific range or ranges. The IP address of the machine of the user is used when no reverse proxy is employed. When it is behind a reverse proxy the value of the X-Forwarded-For header field is used by the module. IPv6 is supported by the module.</p>
<h4>Authorization level condition type</h4>
<p>This condition is met when the user is authenticated and has a specific role in Islandora. This can be used to differentiate between the access rights of employees and end users.</p>
<h3>And, Or, and Not Conditions</h3>
<p>Three conditions used by the module determine access actions by comparing other conditions. These either negate, conjunct, or disjunct those conditions.</p>
<h4>Negating condition type</h4>
<p>This condition is fulfilled when another condition is not met. This can be used with a location condition for users outside an IP range, or in case a metadata value is not found.</p>
<h4>Conjunctive condition type</h4>
<p>This condition is met when all related conditions are met. This can be used when the user has a specific role and is within a specific IP range.</p>
<h4>Disjunctive condition</h4>
<p>This condition is met when any of the related conditions are met. This can be used when the user has a specific role or is within a specific IP range.</p>
<h3>Access actions</h3>
<p>Which access action is taken depends on which conditions are met. It is possible that multiple, possibly conflicting access actions are confirmed for one object. If this is the case, the order of the access actions in the configuration determines which access action is taken. </p>
<p>For example, when the condition “user is administrator” is met and there is an access action associated with this condition that allows access to the object, access is allowed. Subsequent access actions are  ignored, because access was already allowed. This applies to each access action met for each object. </p>
<p>For example let’s assume the following configuration:</p>
<p>[access:user_is_administrator]<br />
deny_viewing = FALSE</p>
<p>[access:internal]<br />
deny_viewing = FALSE</p>
<p>[access:external]<br />
deny_viewing = TRUE</p>
<p>For an administrator from inside the IP range, the following applies:</p>
<table>
<tr>
<td><strong>access condition</strong></td>
<td><strong>access action</strong></td>
<td><strong>result</strong></td>
</tr>
<tr>
<td>user is administrator</td>
<td>allow access</td>
<td>condition met, action performed: access is allowed</td>
</tr>
<tr>
<td>intern</td>
<td>allow access</td>
<td>action is ignored, access was already allowed</td>
</tr>
<tr>
<td>extern</td>
<td>deny access</td>
<td>action is ignored, access was already allowed</td>
</tr>
</table>
<p>But for an anonymous user from inside the IP range, the following applies:</p>
<table>
<tr>
<td><strong>access condition</strong></td>
<td><strong>access action</strong></td>
<td><strong>result</strong></td>
</tr>
<tr>
<td>user is administrator</td>
<td>allow access</td>
<td>condition not met, action not performed</td>
</tr>
<tr>
<td>internal</td>
<td>allow access</td>
<td>condition met, action performed: access is allowed</td>
</tr>
<tr>
<td>external</td>
<td>deny access</td>
<td>action is ignored, access was already allowed</td>
</tr>
</table>
<p>And for an anonymous user from outside the IP range, the following applies:</p>
<table>
<tr>
<td><strong>access condition</strong></td>
<td><strong>access action</strong></td>
<td><strong>result</strong></td>
</tr>
<tr>
<td>user is administrator</td>
<td>allow access</td>
<td>condition not met, action not performed</td>
</tr>
<tr>
<td>internal</td>
<td>allow access</td>
<td>condition not met, action not performed</td>
</tr>
<tr>
<td>external</td>
<td>deny access</td>
<td>condition met, action performed: access is denied</td>
</tr>
</table>
<p>The following access actions are available:</p>
<ul>
<li>deny access to object: user receives an HTTP 403 forbidden page with explanation of access restrictions</li>
<li>deny access to datastream: user can view object page, but requests to access datastreams are denied with HTTP 403 Forbidden page</li>
<li>allow access to datastream: all datastreams are accessible to the user but not available for download. Can be specific, such as “deny access to all datastreams, except thumbnails” or “allow access to all datastreams, except archival objects.”</li>
<li>provide download of datastream: download menu is visible to the user for all datastreams</li>
</ul>
<p>We&#8217;ve provided an example of one possible configuration for the Islandora Condition Access Rights module:</p>
<h4>Configuration file</h4>
<pre class="brush: php; title: ; notranslate" title="">
; ---------------
; Metadata values
; ---------------
 
&#x5B;metadata:restriction_on_access]
datastream = MODS
xpath = &quot;/mods:mods/mods:accessCondition&#x5B;@type='restriction on access']&quot;
namespace&#x5B;] = &quot;mods http://www.loc.gov/mods/v3&quot;
 
&#x5B;metadata:use_and_reproduction]
datastream = MODS
xpath = &quot;/mods:mods/mods:accessCondition&#x5B;@type='use and reproduction']&quot;
namespace&#x5B;] = &quot;mods http://www.loc.gov/mods/v3&quot;
 
&#x5B;metadata:embargo_date]
datastream = MODS
xpath = &quot;/mods:mods/mods:accessCondition&#x5B;@type='embargo date']&quot;
namespace&#x5B;] = &quot;mods http://www.loc.gov/mods/v3&quot;
 
; ----------
; Conditions
; ----------
 
&#x5B;condition:manager]
user_role&#x5B;] = &quot;administrator&quot;
user_role&#x5B;] = &quot;editor&quot;
 
&#x5B;condition:intern]
ip_range&#x5B;] = &quot;192.0.2.0-192.0.2.24&quot;
ip_range&#x5B;] = &quot;198.51.100.0-198.51.100.24&quot;
 
&#x5B;condition:extern]
condition&#x5B;] = intern
operator = negate
 
&#x5B;condition:fullaccess]
metadata = restriction_on_access
comparator = &quot;lowercaseLetterMatch&quot;
value = &quot;full access&quot;
 
&#x5B;condition:withinlibrary]
metadata = restriction_on_access
comparator = &quot;lowercaseLetterMatch&quot;
value = &quot;access within the library premises&quot;
 
&#x5B;condition:embargo]
metadata = embargo_date
comparator = &quot;beforeDateISO8601&quot;
value = &quot;today&quot;
 
&#x5B;condition:cczero1.0]
metadata = use_and_reproduction
comparator = &quot;equals&quot;
value = &quot;https://creativecommons.org/publicdomain/zero/1.0/&quot;
 
&#x5B;condition:rsinc1.0]
metadata = use_and_reproduction
comparator = &quot;equals&quot;
value = &quot;http://rightsstatements.org/vocab/InC/1.0/&quot;
 
&#x5B;condition:intern_withinlibrary]
condition&#x5B;] = intern
condition&#x5B;] = withinlibrary
operator = and
 
&#x5B;condition:extern_withinlibrary]
condition&#x5B;] = extern
condition&#x5B;] = withinlibrary
operator = and
 
; --------------
; Access actions
; --------------
 
&#x5B;access:manager]
deny_viewing = FALSE
deny_access_to_dsid&#x5B;] = &quot;NONE&quot;
allow_access_to_dsid&#x5B;] = &quot;ALL&quot;
provide_download_of_dsid&#x5B;] = &quot;ALL&quot;
access_text = &quot;Manager access.&quot;
 
&#x5B;access:embargo]
deny_viewing = TRUE
deny_access_to_dsid&#x5B;] = &quot;ALL&quot;
 
&#x5B;access:fullaccess]
deny_access_to_dsid&#x5B;] = &quot;NONE&quot;
allow_access_to_dsid&#x5B;] = &quot;ALL&quot;
provide_download_of_dsid&#x5B;] = &quot;ALL&quot;
access_text = &quot;Full access.&quot;
 
&#x5B;access:intern_withinlibrary]
deny_access_to_dsid&#x5B;] = &quot;OBJ&quot;
allow_access_to_dsid&#x5B;] = &quot;NONE&quot;
provide_download_of_dsid&#x5B;] = &quot;NONE&quot;
access_text = &quot;Access within the library premises.&quot;
 
&#x5B;access:extern_withinlibrary]
deny_access_to_dsid&#x5B;] = &quot;ALL&quot;
allow_access_to_dsid&#x5B;] = &quot;NONE&quot;
provide_download_of_dsid&#x5B;] = &quot;NONE&quot;
access_text = &quot;Access within the library premises.&quot;
 
&#x5B;access:cczero1.0]
access_usetext = &quot;Use of this public-domain resource is unrestricted&quot;
access_link = &quot;https://creativecommons.org/publicdomain/zero/1.0/&quot;
access_image = &quot;https://licensebuttons.net/p/zero/1.0/88x31.png&quot;
 
&#x5B;access:rsinc1.0]
access_usetext = &quot;This resource is protected by copyright&quot;
access_link = &quot;http://rightsstatements.org/vocab/InC/1.0/&quot;
access_image = &quot;http://rightsstatements.org/files/buttons/InC.dark-white-interior.png&quot;
</pre>
<p class="caption"><strong>Figure 6.</strong> Example configuration</p>
<p>In this configuration three metadata values, 10 conditions, and seven access actions are defined. Note that not all conditions have an access action, but every access action shares the same name of the condition that grants it. </p>
<p>Below are three example scenarios for one object and the resulting access rights when the configuration above is used.</p>
<p>Example object:</p>
<pre class="brush: xml; title: ; notranslate" title="">
&lt;?xml version=&quot;1.0&quot;?&gt;
&lt;mods xmlns=&quot;http://www.loc.gov/mods/v3&quot;&gt;
  &lt;titleInfo&gt;&lt;title&gt;Full access&lt;/title&gt;&lt;subTitle&gt;&lt;/subTitle&gt;&lt;/titleInfo&gt;
  &lt;accessCondition type=&quot;restriction on access&quot;&gt;Access within the library premises.&lt;/accessCondition&gt;
  &lt;accessCondition type=&quot;use and reproduction&quot;&gt;http://rightsstatements.org/vocab/InC/1.0//&lt;/accessCondition&gt;
&lt;/mods&gt;
</pre>
<p>Scenario:</p>
<ul>
<li>user is not in the library</li>
<li>user is not logged in</li>
<li>object is restricted to in library access</li>
</ul>
<p>This user has access to the object but not to any of its datastreams. User sees “Access within library premises.” and “This resource is protected by copyright“ messages and cannot download any datastreams.</p>
<table>
<tr>
<td width="32%"><strong>condition</strong></td>
<td width="35%"><strong>result</strong></td>
<td width="33%"><strong>access action</strong></td>
</tr>
<tr>
<td>condition:manager</td>
<td>not met, user does not have right role</td>
<td>not performed, condition not met</td>
</tr>
<tr>
<td>condition:intern</td>
<td>not met, user is not within IP range</td>
<td>N/A</td>
</tr>
<tr>
<td>condition:extern</td>
<td>met, because intern was not met</td>
<td>N/A</td>
</tr>
<tr>
<td>condition:fullaccess</td>
<td>not met, because value is not in metadata</td>
<td>not performed, condition not met</td>
</tr>
<tr>
<td>condition:withinlibrary</td>
<td>met, because value is in metadata</td>
<td>N/A</td>
</tr>
<tr>
<td>condition:embargo</td>
<td>not met, because value is not in metadata</td>
<td>not performed, condition not met</td>
</tr>
<tr>
<td>condition:cczero1.0</td>
<td>not met, because value is not in metadata</td>
<td>not performed, condition not met</td>
</tr>
<tr>
<td>condition:rsinc1.0</td>
<td>met, because value is in metadata</td>
<td>performed</td>
</tr>
<tr>
<td>condition:intern_withinlibrary</td>
<td>not met, because condition:intern is not met (condition:withinlibrary is met, but this is a conjunctive condition type, so both conditions must be met)</td>
<td>not performed, condition not met</td>
</tr>
<tr>
<td>condition:extern_withinlibrary</td>
<td>met, because condition:extern and condition:withinlibrary are met</td>
<td>performed</td>
</tr>
</table>
<p>Scenario:</p>
<ul>
<li>user is in the library</li>
<li>user is logged in</li>
<li>object is restricted to in library access</li>
</ul>
<p>The logged-in user in the library has access to the object and can view the datastreams (except for the OBJ datastream). The user sees the “Access within library premises.”  and “This resource is protected by copyright“ messages and cannot download any datastreams.</p>
<table>
<tr>
<td width="32%"><strong>condition</strong></td>
<td width="35%"><strong>result</strong></td>
<td width="33%"><strong>access action</strong></td>
</tr>
<tr>
<td>condition:manager</td>
<td>not met, user does not have right role</td>
<td>not performed, condition not met</td>
</tr>
<tr>
<td>condition:intern</td>
<td>met, user is within IP range of the library</td>
<td>N/A</td>
</tr>
<tr>
<td>condition:extern</td>
<td>not met, because intern was met</td>
<td>N/A</td>
</tr>
<tr>
<td>condition:fullaccess</td>
<td>not met, because value is not in metadata</td>
<td>not performed, condition not met</td>
</tr>
<tr>
<td>condition:withinlibrary</td>
<td>met, because value is in metadata</td>
<td>N/A</td>
</tr>
<tr>
<td>condition:embargo</td>
<td>not met, because value is not in metadata</td>
<td>not performed, condition not met</td>
</tr>
<tr>
<td>condition:cczero1.0</td>
<td>not met, because value is not in metadata</td>
<td>not performed, condition not met</td>
</tr>
<tr>
<td>condition:rsinc1.0</td>
<td>met, because value is in metadata</td>
<td>performed</td>
</tr>
<tr>
<td>condition:intern_withinlibrary</td>
<td>met, because condition:intern and condition:withinlibrary are met</td>
<td>performed</td>
</tr>
<tr>
<td>condition:extern_withinlibrary</td>
<td>not met, because condition:extern is not met (condition:withinlibrary is met, but this is a conjunctive condition type, so both conditions must be met)</td>
<td>not performed, condition not met</td>
</tr>
</table>
<p>Scenario:</p>
<ul>
<li>user is in the library</li>
<li>user is an administrator and logged in</li>
<li>object is restricted to in library access</li>
</ul>
<p>The logged-in admin user at the library has access to the object and can view all datastreams. The user sees the “Manager access” and “This resource is protected by copyright“ messages, but can download all datastreams.</p>
<table>
<tr>
<td width="32%"><strong>condition</strong></td>
<td width="35%"><strong>result</strong></td>
<td width="33%"><strong>access action</strong></td>
</tr>
<tr>
<td>condition:manager</td>
<td>met, user does have administrator role</td>
<td>performed, condition met</td>
</tr>
<tr>
<td>condition:intern</td>
<td>met, user is within IP range of the library</td>
<td>N/A</td>
</tr>
<tr>
<td>condition:extern</td>
<td>not met, because intern was met</td>
<td>N/A</td>
</tr>
<tr>
<td>condition:fullaccess</td>
<td>not met, because value is not in metadata</td>
<td>not performed, condition not met</td>
</tr>
<tr>
<td>condition:withinlibrary</td>
<td>met, because value is in metadata</td>
<td>N/A</td>
</tr>
<tr>
<td>condition:embargo</td>
<td>not met, because value is not in metadata</td>
<td>not performed, condition not met</td>
</tr>
<tr>
<td>condition:cczero1.0</td>
<td>not met, because value is not in metadata</td>
<td>not performed, condition not met</td>
</tr>
<tr>
<td>condition:rsinc1.0</td>
<td>met, because value is in metadata</td>
<td>performed, condition met. This access action has other actions then access:manager, so these will be performed.</td>
</tr>
<tr>
<td>condition:intern_withinlibrary</td>
<td>met, because condition:intern and condition:withinlibrary are met</td>
<td>not performed, although the condition is met, the access actions from access:manager are already performed earlier and overrule these all access actions</td>
</tr>
<tr>
<td>condition:extern_withinlibrary</td>
<td>not met, because condition:extern is not met (condition:withinlibrary is met, but this is a conjunctive condition type, so both conditions must be met)</td>
<td>not performed, condition not met</td>
</tr>
</table>
<p><a href="../media/issue41/vanbergen/van_bergen_schaik_code4lib_example_figure.pdf">More example scenarios are available</a> for further explanation.</p>
<h3>Detail tools block</h3>
<p>The Details tool Drupal block, included in the module, makes the download options visible for users. A Drupal block defines part of a web page. In Drupal a page consists of multiple blocks, each in its own region of the page. The access rights of the current object and the available datastreams determine the downloadable datastreams. Which datastreams are made available depends on the “Provide download of datastream” access action. Some datastreams, including the relational datastreams (these define the internal and external relations of the object) and the policy datastreams (used for XACML access rights) are never available for download.</p>
<h3>Caches</h3>
<p>Determining the access rights of an object can be time consuming. To prevent the configuration of the module from being read with each request, the entire configuration is sent as an object. This is cached for at least a day. The metadata values that determine the access rights are cached per object as well. If the metadata of an object is changed, the metadata values cache of that object is flushed. This is done by comparing the last modification dates of the metadata with those in cache. This avoids that the cache will persist multiple hours or days, depending on the configuration of Islandora. </p>
<p>Both caches can be flushed in the usual (Drupal) manner. Caching is also done on page level, for the calculated access actions. This is only done during the load of a single page, but is needed because the access actions are used multiple times during a page load. Calculating them once and using them many times during a page load increases performance. However, they cannot be cached for longer than a single page load, because the access actions are dependent on the conditions of the page load: IP of the requester, the user role and/or the time.</p>
<h2>Islandora Versus Fedora Access</h2>
<p>Islandora is an open source digital repository system based on Fedora Commons, Drupal and a host of additional applications. Both Islandora and Fedora Commons have their own systems to allow or restrict access to objects or datastreams. Islandora conditional access rights works only on the Islandora side and can be used alongside other access rights management systems built into Islandora and/or Fedora Commons.</p>
<p>Fedora Commons works with the eXtensible Access Control Markup Language (XACML) to restrict access privileges. XACML defines a “declarative fine-grained, attribute-based access control policy language, an architecture, and a processing model describing how to evaluate access requests according to the rules defined in policies”. XACML is partly implemented in Islandora, so it is possible to manage the rights on a higher level and there is no need to make a XACML document yourself.</p>
<p>An earlier version of Islandora conditional access rights included support for XACML, but the current implementation of Islandora XACML didn’t work with all of our requirements , such as IP range checking, time-based (embargo) and inherited (pages of a book). For this reason we decided not to use XACML support for the time being.</p>
<p>The downside of using only Islandora’s own access control mechanism instead of XACML is that access rights are only controlled on the Islandora level. This means that if direct access to Fedora Commons is allowed, the access rights are not maintained there. Because at Leiden University Libraries all access is via Islandora, this doesn’t cause any problems. </p>
<h2>Conclusion and further development</h2>
<p>With the Islandora Conditional Access Rights module we have created a fine-grained system including all levels of access rights necessary for end users; from access on one terminal within the library to full access everywhere and anytime. This makes it possible to make all digitized items and collections available online. The main advantage to this system is that all metadata are maintained in our main cataloguing system, which also makes it possible for curators and other colleagues to adjust the metadata themselves if needed. </p>
<p>It is the library’s policy to manage all data within the same environment. For this reason, the next project will be the migration of our scholarly repository from DSpace to Islandora as well. Further development of the access rights module will then be needed, e.g. to provide access to collections with embargo restrictions. </p>
<h2>About the authors</h2>
<p>Saskia van Bergen works as a project manager for Leiden University Libraries and is currently responsible for the implementation of Islandora and the migration of the digital collections. </p>
<p>Lucas van Schaik works as a developer/consultant for Leiden University Libraries and is the lead developer for the Islandora infrastructure of the library.</p>
					</div>
														</div>
				<!-- You can start editing here. -->

<div class="comments">
	<p class="subscriptionlinks">Subscribe to comments: <a href="13588/feed">For this article</a> | <a href="http://feeds.feedburner.com/c4lj/comments">For all articles</a></p>

			<!-- If comments are open, but there are no comments. -->

	 

<h3 id="respond">Leave a Reply</h3>


<form action="https://journal.code4lib.org/wp-comments-post.php" method="post" id="commentform">


<p><input type="text" name="author" id="author" value=""/>
<label for="author">Name (required)</label></p>

<p><input type="text" name="email" id="email" value="" />
<label for="email">Mail (will not be published) (required)</label></p>

<p><input type="text" name="url" id="url" value="" />
<label for="url">Website</label></p>


<p><textarea autocomplete="new-password"  aria-label="Comment box" id="f127f6ccbe"  name="f127f6ccbe"   cols="50" rows="10"></textarea><textarea id="comment" aria-label="hp-comment" aria-hidden="true" name="comment" autocomplete="new-password" style="padding:0 !important;clip:rect(1px, 1px, 1px, 1px) !important;position:absolute !important;white-space:nowrap !important;height:1px !important;width:1px !important;overflow:hidden !important;" tabindex="-1"></textarea><script data-noptimize>document.getElementById("comment").setAttribute( "id", "a046d5fb124631d47db853e57e33c4b2" );document.getElementById("f127f6ccbe").setAttribute( "id", "comment" );</script></p>

<p><input name="submit" type="submit" id="submit"  value="Submit Comment" />
<input type="hidden" name="comment_post_ID" value="13588" />
</p>
<p style="display: none;"><input type="hidden" id="akismet_comment_nonce" name="akismet_comment_nonce" value="94728cc5af" /></p><p style="display: none !important;" class="akismet-fields-container" data-prefix="ak_"><label>&#916;<textarea name="ak_hp_textarea" cols="45" rows="8" maxlength="100"></textarea></label><input type="hidden" id="ak_js_1" name="ak_js" value="124"/><script>document.getElementById( "ak_js_1" ).setAttribute( "value", ( new Date() ).getTime() );</script></p>
</form>


</div>
							</div>

			<div id="meta">
				<div id="issn">
					<p>ISSN 1940-5758</p>
				</div>
				<div class="search-sidebar">
				<form method="get" id="searchform" action="../index.html">
					<div>
						<input type="text" value="" aria-labelledby="searchsubmit" name="s" id="s" />
						<input type="submit" value="Search" id="searchsubmit"/>
					</div>
				</form>
				</div>
				<div id="archives">
					<h2>Current Issue</h2>
						<ul>
							<li><a href="../issues/issues/issue60.html">Issue 60, 2025-04-14</a></li>
						</ul>

					<h2>Previous Issues</h2>
						<ul>
              <li><a href="../issues/issues/issue59.html">Issue 59, 2024-10-07</a></li><li><a href="../issues/issues/issue58.html">Issue 58, 2023-12-04</a></li><li><a href="../issues/issues/issue57.html">Issue 57, 2023-08-29</a></li><li><a href="../issues/issues/issue56.html">Issue 56, 2023-04-21</a></li>              <li><a href="../index.html%3Fp=2476.html">Older Issues</a></li>
						</ul>
				</div>
				<div id="forauthors">
					<h2>For Authors</h2>
					<ul>
						<li class="page_item page-item-4"><a href="../index.html%3Fp=4.html">Call for Submissions</a></li>
<li class="page_item page-item-7"><a href="../index.html%3Fp=7.html">Article Guidelines</a></li>
					</ul>
				</div>
			</div>
						<div id="footer">
				<p id="login"><a href="../wp-login.php.html">Log in</a></p>
				<p id="copyright">This work is licensed under a <a rel="license" href="http://creativecommons.org/licenses/by/3.0/us/">Creative Commons Attribution 3.0 United States License</a>.<br /><a rel="license" href="http://creativecommons.org/licenses/by/3.0/us/"><img alt="Creative Commons License" src="http://i.creativecommons.org/l/by/3.0/us/80x15.png" /></a></p>
			</div>
			<script type="speculationrules">
{"prefetch":[{"source":"document","where":{"and":[{"href_matches":"\/*"},{"not":{"href_matches":["\/wp-*.php","\/wp-admin\/*","\/wp-content\/uploads\/*","\/wp-content\/*","\/wp-content\/plugins\/*","\/wp-content\/themes\/c4lj-theme\/*","\/*\\?(.+)"]}},{"not":{"selector_matches":"a[rel~=\"nofollow\"]"}},{"not":{"selector_matches":".no-prefetch, .no-prefetch a"}}]},"eagerness":"conservative"}]}
</script>
<script type="text/javascript" src="../wp-content/plugins/syntaxhighlighter/syntaxhighlighter3/scripts/shCore.js%3Fver=3.0.9b" id="syntaxhighlighter-core-js"></script>
<script type="text/javascript" src="../wp-content/plugins/syntaxhighlighter/syntaxhighlighter3/scripts/shBrushXml.js%3Fver=3.0.9b" id="syntaxhighlighter-brush-xml-js"></script>
<script type="text/javascript" src="../wp-content/plugins/syntaxhighlighter/syntaxhighlighter3/scripts/shBrushPhp.js%3Fver=3.0.9b" id="syntaxhighlighter-brush-php-js"></script>
<script type='text/javascript'>
	(function(){
		var corecss = document.createElement('link');
		var themecss = document.createElement('link');
		var corecssurl = "https://journal.code4lib.org/wp-content/plugins/syntaxhighlighter/syntaxhighlighter3/styles/shCore.css?ver=3.0.9b";
		if ( corecss.setAttribute ) {
				corecss.setAttribute( "rel", "stylesheet" );
				corecss.setAttribute( "type", "text/css" );
				corecss.setAttribute( "href", corecssurl );
		} else {
				corecss.rel = "stylesheet";
				corecss.href = corecssurl;
		}
		document.head.appendChild( corecss );
		var themecssurl = "https://journal.code4lib.org/wp-content/plugins/syntaxhighlighter/syntaxhighlighter3/styles/shThemeDefault.css?ver=3.0.9b";
		if ( themecss.setAttribute ) {
				themecss.setAttribute( "rel", "stylesheet" );
				themecss.setAttribute( "type", "text/css" );
				themecss.setAttribute( "href", themecssurl );
		} else {
				themecss.rel = "stylesheet";
				themecss.href = themecssurl;
		}
		document.head.appendChild( themecss );
	})();
	SyntaxHighlighter.config.strings.expandSource = '+ expand source';
	SyntaxHighlighter.config.strings.help = '?';
	SyntaxHighlighter.config.strings.alert = 'SyntaxHighlighter\n\n';
	SyntaxHighlighter.config.strings.noBrush = 'Can\'t find brush for: ';
	SyntaxHighlighter.config.strings.brushNotHtmlScript = 'Brush wasn\'t configured for html-script option: ';
	SyntaxHighlighter.defaults['pad-line-numbers'] = false;
	SyntaxHighlighter.defaults['toolbar'] = false;
	SyntaxHighlighter.all();

	// Infinite scroll support
	if ( typeof( jQuery ) !== 'undefined' ) {
		jQuery( function( $ ) {
			$( document.body ).on( 'post-load', function() {
				SyntaxHighlighter.highlight();
			} );
		} );
	}
</script>
<script defer type="text/javascript" src="../wp-content/plugins/akismet/_inc/akismet-frontend.js%3Fver=1748382734" id="akismet-frontend-js"></script>
		</div>
	</body>
</html>
