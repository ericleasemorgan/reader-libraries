<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
	<head>
		<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />

		<title>The Code4Lib Journal &#8211; How We Built a Spatial Subject Classification Based on Wikidata</title>

		<meta name="viewport" content="width=device-width, initial-scale=1" />
		<meta name="generator" content="WordPress 6.8.1" /> <!-- leave this for stats -->
    <link rel="shortcut icon" href="../wp-content/themes/c4lj-theme/images/favicon.ico" />
		<link rel="stylesheet" href="../wp-content/themes/c4lj-theme/style.css" type="text/css" media="screen, print" />
		<!--[if lte IE 7]>
		<link rel="stylesheet" href="https://journal.code4lib.org/wp-content/themes/c4lj-theme/fix-ie7.css" type="text/css" media="screen" />
		<![endif]-->
		<!--[if lte IE 6]>
		<link rel="stylesheet" href="https://journal.code4lib.org/wp-content/themes/c4lj-theme/fix-ie6.css" type="text/css" media="screen" />
		<![endif]-->
		<link rel="stylesheet" href="../wp-content/themes/c4lj-theme/print.css" type="text/css" media="print" />
		<link rel="alternate" type="application/rss+xml" title="The Code4Lib Journal Syndication Feed" href="http://feeds.feedburner.com/c4lj" />
		<link rel="pingback" href="https://journal.code4lib.org/xmlrpc.php" />

<!-- Google Scholar Stuff -->
	<meta name="citation_title" content="How We Built a Spatial Subject Classification Based on Wikidata">
 <meta name="citation_author" content="Adrian Pohl">
<meta name="citation_publication_date" content="2021/06/14">
	<meta name="citation_journal_title" content="Code4Lib Journal">
		<meta name="citation_issue" content="51">
<!-- end  Google Scholar Stuff -->

<meta name='robots' content='max-image-preview:large' />
	<style>img:is([sizes="auto" i], [sizes^="auto," i]) { contain-intrinsic-size: 3000px 1500px }</style>
	<link rel="alternate" type="application/rss+xml" title="The Code4Lib Journal &raquo; How We Built a Spatial Subject Classification Based on Wikidata Comments Feed" href="15875/feed" />
<script type="text/javascript">
/* <![CDATA[ */
window._wpemojiSettings = {"baseUrl":"https:\/\/s.w.org\/images\/core\/emoji\/15.1.0\/72x72\/","ext":".png","svgUrl":"https:\/\/s.w.org\/images\/core\/emoji\/15.1.0\/svg\/","svgExt":".svg","source":{"concatemoji":"https:\/\/journal.code4lib.org\/wp-includes\/js\/wp-emoji-release.min.js?ver=6.8.1"}};
/*! This file is auto-generated */
!function(i,n){var o,s,e;function c(e){try{var t={supportTests:e,timestamp:(new Date).valueOf()};sessionStorage.setItem(o,JSON.stringify(t))}catch(e){}}function p(e,t,n){e.clearRect(0,0,e.canvas.width,e.canvas.height),e.fillText(t,0,0);var t=new Uint32Array(e.getImageData(0,0,e.canvas.width,e.canvas.height).data),r=(e.clearRect(0,0,e.canvas.width,e.canvas.height),e.fillText(n,0,0),new Uint32Array(e.getImageData(0,0,e.canvas.width,e.canvas.height).data));return t.every(function(e,t){return e===r[t]})}function u(e,t,n){switch(t){case"flag":return n(e,"\ud83c\udff3\ufe0f\u200d\u26a7\ufe0f","\ud83c\udff3\ufe0f\u200b\u26a7\ufe0f")?!1:!n(e,"\ud83c\uddfa\ud83c\uddf3","\ud83c\uddfa\u200b\ud83c\uddf3")&&!n(e,"\ud83c\udff4\udb40\udc67\udb40\udc62\udb40\udc65\udb40\udc6e\udb40\udc67\udb40\udc7f","\ud83c\udff4\u200b\udb40\udc67\u200b\udb40\udc62\u200b\udb40\udc65\u200b\udb40\udc6e\u200b\udb40\udc67\u200b\udb40\udc7f");case"emoji":return!n(e,"\ud83d\udc26\u200d\ud83d\udd25","\ud83d\udc26\u200b\ud83d\udd25")}return!1}function f(e,t,n){var r="undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope?new OffscreenCanvas(300,150):i.createElement("canvas"),a=r.getContext("2d",{willReadFrequently:!0}),o=(a.textBaseline="top",a.font="600 32px Arial",{});return e.forEach(function(e){o[e]=t(a,e,n)}),o}function t(e){var t=i.createElement("script");t.src=e,t.defer=!0,i.head.appendChild(t)}"undefined"!=typeof Promise&&(o="wpEmojiSettingsSupports",s=["flag","emoji"],n.supports={everything:!0,everythingExceptFlag:!0},e=new Promise(function(e){i.addEventListener("DOMContentLoaded",e,{once:!0})}),new Promise(function(t){var n=function(){try{var e=JSON.parse(sessionStorage.getItem(o));if("object"==typeof e&&"number"==typeof e.timestamp&&(new Date).valueOf()<e.timestamp+604800&&"object"==typeof e.supportTests)return e.supportTests}catch(e){}return null}();if(!n){if("undefined"!=typeof Worker&&"undefined"!=typeof OffscreenCanvas&&"undefined"!=typeof URL&&URL.createObjectURL&&"undefined"!=typeof Blob)try{var e="postMessage("+f.toString()+"("+[JSON.stringify(s),u.toString(),p.toString()].join(",")+"));",r=new Blob([e],{type:"text/javascript"}),a=new Worker(URL.createObjectURL(r),{name:"wpTestEmojiSupports"});return void(a.onmessage=function(e){c(n=e.data),a.terminate(),t(n)})}catch(e){}c(n=f(s,u,p))}t(n)}).then(function(e){for(var t in e)n.supports[t]=e[t],n.supports.everything=n.supports.everything&&n.supports[t],"flag"!==t&&(n.supports.everythingExceptFlag=n.supports.everythingExceptFlag&&n.supports[t]);n.supports.everythingExceptFlag=n.supports.everythingExceptFlag&&!n.supports.flag,n.DOMReady=!1,n.readyCallback=function(){n.DOMReady=!0}}).then(function(){return e}).then(function(){var e;n.supports.everything||(n.readyCallback(),(e=n.source||{}).concatemoji?t(e.concatemoji):e.wpemoji&&e.twemoji&&(t(e.twemoji),t(e.wpemoji)))}))}((window,document),window._wpemojiSettings);
/* ]]> */
</script>
<style id='wp-emoji-styles-inline-css' type='text/css'>

	img.wp-smiley, img.emoji {
		display: inline !important;
		border: none !important;
		box-shadow: none !important;
		height: 1em !important;
		width: 1em !important;
		margin: 0 0.07em !important;
		vertical-align: -0.1em !important;
		background: none !important;
		padding: 0 !important;
	}
</style>
<link rel='stylesheet' id='wp-block-library-css' href='../wp-includes/css/dist/block-library/style.min.css%3Fver=6.8.1.css' type='text/css' media='all' />
<style id='classic-theme-styles-inline-css' type='text/css'>
/*! This file is auto-generated */
.wp-block-button__link{color:#fff;background-color:#32373c;border-radius:9999px;box-shadow:none;text-decoration:none;padding:calc(.667em + 2px) calc(1.333em + 2px);font-size:1.125em}.wp-block-file__button{background:#32373c;color:#fff;text-decoration:none}
</style>
<style id='global-styles-inline-css' type='text/css'>
:root{--wp--preset--aspect-ratio--square: 1;--wp--preset--aspect-ratio--4-3: 4/3;--wp--preset--aspect-ratio--3-4: 3/4;--wp--preset--aspect-ratio--3-2: 3/2;--wp--preset--aspect-ratio--2-3: 2/3;--wp--preset--aspect-ratio--16-9: 16/9;--wp--preset--aspect-ratio--9-16: 9/16;--wp--preset--color--black: #000000;--wp--preset--color--cyan-bluish-gray: #abb8c3;--wp--preset--color--white: #ffffff;--wp--preset--color--pale-pink: #f78da7;--wp--preset--color--vivid-red: #cf2e2e;--wp--preset--color--luminous-vivid-orange: #ff6900;--wp--preset--color--luminous-vivid-amber: #fcb900;--wp--preset--color--light-green-cyan: #7bdcb5;--wp--preset--color--vivid-green-cyan: #00d084;--wp--preset--color--pale-cyan-blue: #8ed1fc;--wp--preset--color--vivid-cyan-blue: #0693e3;--wp--preset--color--vivid-purple: #9b51e0;--wp--preset--gradient--vivid-cyan-blue-to-vivid-purple: linear-gradient(135deg,rgba(6,147,227,1) 0%,rgb(155,81,224) 100%);--wp--preset--gradient--light-green-cyan-to-vivid-green-cyan: linear-gradient(135deg,rgb(122,220,180) 0%,rgb(0,208,130) 100%);--wp--preset--gradient--luminous-vivid-amber-to-luminous-vivid-orange: linear-gradient(135deg,rgba(252,185,0,1) 0%,rgba(255,105,0,1) 100%);--wp--preset--gradient--luminous-vivid-orange-to-vivid-red: linear-gradient(135deg,rgba(255,105,0,1) 0%,rgb(207,46,46) 100%);--wp--preset--gradient--very-light-gray-to-cyan-bluish-gray: linear-gradient(135deg,rgb(238,238,238) 0%,rgb(169,184,195) 100%);--wp--preset--gradient--cool-to-warm-spectrum: linear-gradient(135deg,rgb(74,234,220) 0%,rgb(151,120,209) 20%,rgb(207,42,186) 40%,rgb(238,44,130) 60%,rgb(251,105,98) 80%,rgb(254,248,76) 100%);--wp--preset--gradient--blush-light-purple: linear-gradient(135deg,rgb(255,206,236) 0%,rgb(152,150,240) 100%);--wp--preset--gradient--blush-bordeaux: linear-gradient(135deg,rgb(254,205,165) 0%,rgb(254,45,45) 50%,rgb(107,0,62) 100%);--wp--preset--gradient--luminous-dusk: linear-gradient(135deg,rgb(255,203,112) 0%,rgb(199,81,192) 50%,rgb(65,88,208) 100%);--wp--preset--gradient--pale-ocean: linear-gradient(135deg,rgb(255,245,203) 0%,rgb(182,227,212) 50%,rgb(51,167,181) 100%);--wp--preset--gradient--electric-grass: linear-gradient(135deg,rgb(202,248,128) 0%,rgb(113,206,126) 100%);--wp--preset--gradient--midnight: linear-gradient(135deg,rgb(2,3,129) 0%,rgb(40,116,252) 100%);--wp--preset--font-size--small: 13px;--wp--preset--font-size--medium: 20px;--wp--preset--font-size--large: 36px;--wp--preset--font-size--x-large: 42px;--wp--preset--spacing--20: 0.44rem;--wp--preset--spacing--30: 0.67rem;--wp--preset--spacing--40: 1rem;--wp--preset--spacing--50: 1.5rem;--wp--preset--spacing--60: 2.25rem;--wp--preset--spacing--70: 3.38rem;--wp--preset--spacing--80: 5.06rem;--wp--preset--shadow--natural: 6px 6px 9px rgba(0, 0, 0, 0.2);--wp--preset--shadow--deep: 12px 12px 50px rgba(0, 0, 0, 0.4);--wp--preset--shadow--sharp: 6px 6px 0px rgba(0, 0, 0, 0.2);--wp--preset--shadow--outlined: 6px 6px 0px -3px rgba(255, 255, 255, 1), 6px 6px rgba(0, 0, 0, 1);--wp--preset--shadow--crisp: 6px 6px 0px rgba(0, 0, 0, 1);}:where(.is-layout-flex){gap: 0.5em;}:where(.is-layout-grid){gap: 0.5em;}body .is-layout-flex{display: flex;}.is-layout-flex{flex-wrap: wrap;align-items: center;}.is-layout-flex > :is(*, div){margin: 0;}body .is-layout-grid{display: grid;}.is-layout-grid > :is(*, div){margin: 0;}:where(.wp-block-columns.is-layout-flex){gap: 2em;}:where(.wp-block-columns.is-layout-grid){gap: 2em;}:where(.wp-block-post-template.is-layout-flex){gap: 1.25em;}:where(.wp-block-post-template.is-layout-grid){gap: 1.25em;}.has-black-color{color: var(--wp--preset--color--black) !important;}.has-cyan-bluish-gray-color{color: var(--wp--preset--color--cyan-bluish-gray) !important;}.has-white-color{color: var(--wp--preset--color--white) !important;}.has-pale-pink-color{color: var(--wp--preset--color--pale-pink) !important;}.has-vivid-red-color{color: var(--wp--preset--color--vivid-red) !important;}.has-luminous-vivid-orange-color{color: var(--wp--preset--color--luminous-vivid-orange) !important;}.has-luminous-vivid-amber-color{color: var(--wp--preset--color--luminous-vivid-amber) !important;}.has-light-green-cyan-color{color: var(--wp--preset--color--light-green-cyan) !important;}.has-vivid-green-cyan-color{color: var(--wp--preset--color--vivid-green-cyan) !important;}.has-pale-cyan-blue-color{color: var(--wp--preset--color--pale-cyan-blue) !important;}.has-vivid-cyan-blue-color{color: var(--wp--preset--color--vivid-cyan-blue) !important;}.has-vivid-purple-color{color: var(--wp--preset--color--vivid-purple) !important;}.has-black-background-color{background-color: var(--wp--preset--color--black) !important;}.has-cyan-bluish-gray-background-color{background-color: var(--wp--preset--color--cyan-bluish-gray) !important;}.has-white-background-color{background-color: var(--wp--preset--color--white) !important;}.has-pale-pink-background-color{background-color: var(--wp--preset--color--pale-pink) !important;}.has-vivid-red-background-color{background-color: var(--wp--preset--color--vivid-red) !important;}.has-luminous-vivid-orange-background-color{background-color: var(--wp--preset--color--luminous-vivid-orange) !important;}.has-luminous-vivid-amber-background-color{background-color: var(--wp--preset--color--luminous-vivid-amber) !important;}.has-light-green-cyan-background-color{background-color: var(--wp--preset--color--light-green-cyan) !important;}.has-vivid-green-cyan-background-color{background-color: var(--wp--preset--color--vivid-green-cyan) !important;}.has-pale-cyan-blue-background-color{background-color: var(--wp--preset--color--pale-cyan-blue) !important;}.has-vivid-cyan-blue-background-color{background-color: var(--wp--preset--color--vivid-cyan-blue) !important;}.has-vivid-purple-background-color{background-color: var(--wp--preset--color--vivid-purple) !important;}.has-black-border-color{border-color: var(--wp--preset--color--black) !important;}.has-cyan-bluish-gray-border-color{border-color: var(--wp--preset--color--cyan-bluish-gray) !important;}.has-white-border-color{border-color: var(--wp--preset--color--white) !important;}.has-pale-pink-border-color{border-color: var(--wp--preset--color--pale-pink) !important;}.has-vivid-red-border-color{border-color: var(--wp--preset--color--vivid-red) !important;}.has-luminous-vivid-orange-border-color{border-color: var(--wp--preset--color--luminous-vivid-orange) !important;}.has-luminous-vivid-amber-border-color{border-color: var(--wp--preset--color--luminous-vivid-amber) !important;}.has-light-green-cyan-border-color{border-color: var(--wp--preset--color--light-green-cyan) !important;}.has-vivid-green-cyan-border-color{border-color: var(--wp--preset--color--vivid-green-cyan) !important;}.has-pale-cyan-blue-border-color{border-color: var(--wp--preset--color--pale-cyan-blue) !important;}.has-vivid-cyan-blue-border-color{border-color: var(--wp--preset--color--vivid-cyan-blue) !important;}.has-vivid-purple-border-color{border-color: var(--wp--preset--color--vivid-purple) !important;}.has-vivid-cyan-blue-to-vivid-purple-gradient-background{background: var(--wp--preset--gradient--vivid-cyan-blue-to-vivid-purple) !important;}.has-light-green-cyan-to-vivid-green-cyan-gradient-background{background: var(--wp--preset--gradient--light-green-cyan-to-vivid-green-cyan) !important;}.has-luminous-vivid-amber-to-luminous-vivid-orange-gradient-background{background: var(--wp--preset--gradient--luminous-vivid-amber-to-luminous-vivid-orange) !important;}.has-luminous-vivid-orange-to-vivid-red-gradient-background{background: var(--wp--preset--gradient--luminous-vivid-orange-to-vivid-red) !important;}.has-very-light-gray-to-cyan-bluish-gray-gradient-background{background: var(--wp--preset--gradient--very-light-gray-to-cyan-bluish-gray) !important;}.has-cool-to-warm-spectrum-gradient-background{background: var(--wp--preset--gradient--cool-to-warm-spectrum) !important;}.has-blush-light-purple-gradient-background{background: var(--wp--preset--gradient--blush-light-purple) !important;}.has-blush-bordeaux-gradient-background{background: var(--wp--preset--gradient--blush-bordeaux) !important;}.has-luminous-dusk-gradient-background{background: var(--wp--preset--gradient--luminous-dusk) !important;}.has-pale-ocean-gradient-background{background: var(--wp--preset--gradient--pale-ocean) !important;}.has-electric-grass-gradient-background{background: var(--wp--preset--gradient--electric-grass) !important;}.has-midnight-gradient-background{background: var(--wp--preset--gradient--midnight) !important;}.has-small-font-size{font-size: var(--wp--preset--font-size--small) !important;}.has-medium-font-size{font-size: var(--wp--preset--font-size--medium) !important;}.has-large-font-size{font-size: var(--wp--preset--font-size--large) !important;}.has-x-large-font-size{font-size: var(--wp--preset--font-size--x-large) !important;}
:where(.wp-block-post-template.is-layout-flex){gap: 1.25em;}:where(.wp-block-post-template.is-layout-grid){gap: 1.25em;}
:where(.wp-block-columns.is-layout-flex){gap: 2em;}:where(.wp-block-columns.is-layout-grid){gap: 2em;}
:root :where(.wp-block-pullquote){font-size: 1.5em;line-height: 1.6;}
</style>
<style id='akismet-widget-style-inline-css' type='text/css'>

			.a-stats {
				--akismet-color-mid-green: #357b49;
				--akismet-color-white: #fff;
				--akismet-color-light-grey: #f6f7f7;

				max-width: 350px;
				width: auto;
			}

			.a-stats * {
				all: unset;
				box-sizing: border-box;
			}

			.a-stats strong {
				font-weight: 600;
			}

			.a-stats a.a-stats__link,
			.a-stats a.a-stats__link:visited,
			.a-stats a.a-stats__link:active {
				background: var(--akismet-color-mid-green);
				border: none;
				box-shadow: none;
				border-radius: 8px;
				color: var(--akismet-color-white);
				cursor: pointer;
				display: block;
				font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', 'Oxygen-Sans', 'Ubuntu', 'Cantarell', 'Helvetica Neue', sans-serif;
				font-weight: 500;
				padding: 12px;
				text-align: center;
				text-decoration: none;
				transition: all 0.2s ease;
			}

			/* Extra specificity to deal with TwentyTwentyOne focus style */
			.widget .a-stats a.a-stats__link:focus {
				background: var(--akismet-color-mid-green);
				color: var(--akismet-color-white);
				text-decoration: none;
			}

			.a-stats a.a-stats__link:hover {
				filter: brightness(110%);
				box-shadow: 0 4px 12px rgba(0, 0, 0, 0.06), 0 0 2px rgba(0, 0, 0, 0.16);
			}

			.a-stats .count {
				color: var(--akismet-color-white);
				display: block;
				font-size: 1.5em;
				line-height: 1.4;
				padding: 0 13px;
				white-space: nowrap;
			}
		
</style>
<link rel="https://api.w.org/" href="../wp-json/index.html" /><link rel="alternate" title="JSON" type="application/json" href="../wp-json/wp/v2/posts/15875" /><link rel="EditURI" type="application/rsd+xml" title="RSD" href="https://journal.code4lib.org/xmlrpc.php?rsd" />
<link rel="canonical" href="../index.html%3Fp=15875.html" />
<link rel='shortlink' href='../index.html%3Fp=15875.html' />
<link rel="alternate" title="oEmbed (JSON)" type="application/json+oembed" href="../wp-json/oembed/1.0/embed%3Furl=https:%252F%252Fjournal.code4lib.org%252Farticles%252F15875" />
<link rel="alternate" title="oEmbed (XML)" type="text/xml+oembed" href="../wp-json/oembed/1.0/embed%3Furl=https:%252F%252Fjournal.code4lib.org%252Farticles%252F15875&amp;format=xml" />
<style>
@media all and (max-width : 768px) {
.syntaxhighlighter a, .syntaxhighlighter div, .syntaxhighlighter code, .syntaxhighlighter table, .syntaxhighlighter table td, .syntaxhighlighter table tr, .syntaxhighlighter table tbody, .syntaxhighlighter table thead, .syntaxhighlighter table caption, .syntaxhighlighter textarea
{
	font-size: 0.95em !important;
}
}
</style>
	</head>
	<body>
		<div id="page">
			<div id="header">
				<div id="headerbackground">
					<h1><a href="../index.html"><img src="../wp-content/themes/c4lj-theme/images/logo.png" alt="The Code4Lib Journal" /></a></h1>
				</div>
				<div id="about">
					<ul>
						<li class="page_item page-item-5"><a href="../index.html%3Fp=5.html">Mission</a></li>
<li class="page_item page-item-6"><a href="../editorial-committee/index.html">Editorial Committee</a></li>
<li class="page_item page-item-8"><a href="../process/index.html">Process and Structure</a></li>
						<li><a href="http://code4lib.org/">Code4Lib</a></li>
					</ul>
				</div>
				<div class="mobile-search">
					<form method="get" id="searchform" action="../index.html">
						<div>
							<input type="text" value="" aria-labelledby="searchsubmit" name="s" id="s" />
							<input type="submit" value="Search" id="searchsubmit" />
						</div>
					</form>
				</div>
			</div>

			<div id="content">
								<div class="article" id="post-15875">
					<p id="issueDesignation"><a href="../issues/issues/issue51.html">Issue 51, 2021-06-14</a></p>
					<h1 class="articletitle">How We Built a Spatial Subject Classification Based on Wikidata</h1>
					<div class="abstract">
						<p>From the fall of 2017 to the beginning of 2020 a project had been carried out to upgrade spatial subject indexing in North Rhine-Westphalian Bibliography (NWBib) from uncontrolled strings to controlled values. For this purpose, a spatial classification with around 4,500 entries was created from Wikidata and published as SKOS (Simple Knowledge Organization System) vocabulary. The article gives an overview over the initial problem and outlines the different implementation steps.</p>
					</div>
					<div class="entry">
						<p>by Adrian Pohl</p>
<h2>Background</h2>
<p>The North Rhine-Westphalian Bibliography (NWBib) is a regional bibliography that records literature about the German state of <a href="https://en.wikipedia.org/wiki/North_Rhine-Westphalia">North Rhine-Westphalia</a> (NRW), its regions, places and people. As of now, NWBib comprises around 440,000 resources. NWBib collects monographs, articles, as well as other media like maps, DVDs, etc. The cataloging takes place in the North Rhine-Westphalian Library Service Centre (hbz) union catalog. The NWBib&#8217;s public interface for end users is the bibliography&#8217;s website at <a href="https://nwbib.de">https://nwbib.de</a>.</p>
<p>The hbz union catalogue contains more than 21 Million cooperatively maintained bibliographic titles including the German Union Catalogue of Serials (ZDB) [<a id="ref1" href="../index.html%3Fp=15875.html#note1">1</a>] plus holding information from libraries in North Rhine-Westphalia and Rhineland-Palatinate. Aleph [<a id="ref2" href="../index.html%3Fp=15875.html#note2">2</a>] is used as cataloging system, a migration to Alma [<a id="ref3" href="../index.html%3Fp=15875.html#note3">3</a>] is underway. Cologne-based libraries and the Library Centre of Rhineland-Palatinate (LBZ) in cooperation with the hbz started an open data initiative in 2010 being the first to publish their catalog data under an open license. By now, the whole hbz union catalogue is published under CC0 Public Domain Dedication in different ways and formats: as Linked Open Usable Data (LOUD) via the user interface and API at <a href="https://lobid.org/resources">https://lobid.org/resources</a> and as full dumps both in Linked Open Data format and in MARC21/XML format with MAB2 [<a id="ref4" href="../index.html%3Fp=15875.html#note4">4</a>] field numbering. </p>
<p>From the fall of 2017 to the beginning of 2020 we carried out a project to upgrade spatial subject indexing in NWBib from uncontrolled strings to controlled values from a spatial classification that is created from Wikidata [<a id="ref5" href="../index.html%3Fp=15875.html#note5">5</a>]. This article gives an overview over what we have achieved and how.</p>
<h2>NWBib as part of the hbz union catalogue</h2>
<p>Before diving deeper into the actual project, a short explanation on how the technical and editorial work is divided between different people and institutions. NWBib editors are working at the University and State Libraries Düsseldorf and Münster while the whole underlying technical infrastructure (from cataloging to the web presence of NWBib) is managed by hbz which mostly means: the Open Infrastructure team. [<a id="ref6" href="../index.html%3Fp=15875.html#note6">6</a>]</p>
<p>NWBib editors use the Aleph union catalog for cataloging, which means that NWBib records are also part of <a href="https://lobid.org/resources">lobid-resources</a>, a LOD-based web API for the union catalogue, at its core consisting of JSON-LD indexed in Elasticsearch [<a id="ref7" href="../index.html%3Fp=15875.html#note7">7</a>]. Within lobid-resources, all NWBib titles – see for example <a href="https://lobid.org/resources/HT019035846.json">https://lobid.org/resources/HT019035846.json</a> – are marked like this:</p>
<pre class="brush: jscript; title: ; notranslate" title="">
{
  &quot;inCollection&quot; : &#x5B; {
    &quot;id&quot; : &quot;http://lobid.org/resources/HT014176012#!&quot;,
    &quot;type&quot; : &#x5B; &quot;Collection&quot; ],
    &quot;label&quot; : &quot;Nordrhein-Westfälische Bibliographie (NWBib)&quot;
  } ]
}
</pre>
<p>This information enables to easily query NWBib data via lobid-resources by attaching <a href="https://lobid.org/resources/search?q=inCollection.id%3A%22http%3A%2F%2Flobid.org%2Fresources%2FHT014176012%23%21%22"><tt>inCollection.id:"http://lobid.org/resources/HT014176012#!"</tt></a> to a lobid-resources query. This filter is utilized to offer the web interface for NWBib at <a href="https://nwbib.de">https://nwbib.de</a> which is, at its core, a web application built on the <a href="https://lobid.org/resources/api">lobid-resources API</a>.</p>
<h2>Spatial subject indexing without controlled values</h2>
<p>For years, subject indexing in NWBib has been done mainly by adding to a record the text strings of locations or regions a resource is about. It looked like this in the source data which is MARCXML with MAB2 field numbering (in a MARCXML representation, the information would be in field <tt>084</tt>):</p>
<pre class="brush: xml; title: ; notranslate" title="">
&lt;datafield tag=&quot;700&quot; ind1=&quot;n&quot; ind2=&quot;1&quot;&gt;
  &lt;subfield code=&quot;a&quot;&gt;99&lt;/subfield&gt;
  &lt;subfield code=&quot;b&quot;&gt;Duisburg&lt;/subfield&gt;
&lt;/datafield&gt;
&lt;datafield tag=&quot;700&quot; ind1=&quot;n&quot; ind2=&quot;1&quot;&gt;
  &lt;subfield code=&quot;a&quot;&gt;99&lt;/subfield&gt;
  &lt;subfield code=&quot;b&quot;&gt;Essen&lt;/subfield&gt;
&lt;/datafield&gt;
</pre>
<p>The strings &#8220;Duisburg&#8221; and &#8220;Essen&#8221; refer to the cities in NRW with this name. Around three quarters of NWBib records (~300,000 records) contained one or more of these place name strings. In 2017, we had 8,800 distinct strings that denoted locations, mostly referring to administrative areas but also to monasteries, principalities, natural regions etc.</p>
<h2>Enriching strings with geo coordinates</h2>
<p>For years (2014-2019), we have been using Wikidata to enrich NWBib data with geo coordinates by matching those place strings to Wikidata items and pulling the geo coordinates from there. We had chosen a rather naive matching approach which resulted in poor or no matches for some resources. However, it was good enough to enable map-based filtering of results at nwbib.de.</p>
<p>Besides the sub-optimal matching there were other drawbacks with this approach. Of course the well-known problem occured which everybody encounters after some time when using strings instead of controlled values: You get lots of different strings for the same place because of different recording practices, omissions or typos. As said, in 2017 NWBib included around 8,800 distinct spatial strings which roughly referred to only 4,500 different places. Taking a look at a <a href="https://gist.github.com/acka47/ccd3715201442e8cb78c70cca9ebd1ab">2017 list</a> containing all the distinct place name strings found in NWBib including an occurrence count, you find for example five strings referring to Wiesdorf, a part of Leverkusen:</p>
<p>&#8211; &#8220;Wiesdorf&#8221;<br />
&#8211; &#8220;Wiesdorf &lt;Niederrhein&gt;&#8221;<br />
&#8211; &#8220;Wiesdorf, Niederrhein&#8221;<br />
&#8211; &#8220;Leverkusen-Wiesdorf&#8221;<br />
&#8211; &#8220;Leverkusen- Wiesdorf (Niederrhein)&#8221;</p>
<p>Another drawback of the string-based approach was that we could not provide users with a hierarchical overview of all the places. To address these drawbacks, we started thinking about using controlled values from a spatial classification.</p>
<h2>Doing it the right way using controlled values</h2>
<p>You do not have to convince librarians that the best way to do spatial subject indexing is by using a classification rather than textual strings. Soon we all agreed to go this way, the main <a href="https://github.com/hbz/nwbib/wiki/Neukonzeption-der-Raumsystematik#ziele">goals</a> of the approach being:</p>
<ol>
<li>No multiple values referring to the same place</li>
<li>A hierarchical view of all places by NRW&#8217;s administrative structure: <a href="https://www.wikidata.org/wiki/Q22721">government region</a>, <a href="https://www.wikidata.org/wiki/Q20738811">rural districts</a>, <a href="https://www.wikidata.org/wiki/QQ42744322">urban</a> and <a href="https://www.wikidata.org/wiki/QQ262166">rural</a> municipalities as well as <a href="https://www.wikidata.org/wiki/Q253019">city district</a>.</li>
</ol>
<p>Here is a mockup of the envisaged classification NWBib editors created in 2017:</p>
<p><img decoding="async" src="../media/issue51/pohl/mockup-classification.png" alt="Figure 1. A mockup of a spatial classification created with a spreadsheet" style="width:600px" /></p>
<p class="caption">
  <strong>Figure 1.</strong> A mockup of a spatial classification created with a spreadsheet
</p>
<h3>Requirements for reuse of spatial authority data</h3>
<p>Because of limited resources, NWBib editors would not be able to create a classification from scratch and maintain it all by themselves. Thus, we we were looking for existing authority data to be used for our purpose. We identified the following <a href="https://github.com/hbz/nwbib/wiki/Neukonzeption-der-Raumsystematik#anforderungen">requirements</a> towards the authority data to be reused for the spatial classification:</p>
<ul>
<li><strong>Coverage</strong>: As many places as possible that were used in spatial tagging must be covered. This included some historical places.</li>
<li><strong>Hierarchy</strong>: Hierarchical relations between places must be included.</li>
<li><strong>Extensibility</strong>: NWBib editors must be able to add new places.</li>
</ul>
<p>Furthermore, there should be one common entry for a place before and after incorporation into another geographic entity (e.g. parts of a town that had once been standalone administrative entities).</p>
<h3>Why Wikidata rather than GND?</h3>
<p>As the discussion happened in the German university library context, NWBib editors naturally tended to use the Integrated Authority File (GND) [<a id="ref8" href="../index.html%3Fp=15875.html#note8">8</a>] which is the main authority file in German-speaking countries, being used and maintained by hundreds of institutions. As NWBib titles already had been indexed with GND subjects for some years (including spatial subjects), GND looked like the obvious candidate.</p>
<p>However, GND did not cover most of the requirements. Only few hierarchical relations then existed in the data, and with the changes during the move to Resource Description and Access (RDA) [<a id="ref9" href="../index.html%3Fp=15875.html#note9">9</a>], more and more entries had been split into separate entries for an entity before and after its incorporation into a administrative superior entity, see e.g. these two GND entries for Wiesdorf: <a href="https://lobid.org/gnd/4108828-1">4108828-1</a> (independent city between 1921 and 1930) &#038; <a href="https://lobid.org/gnd/4099576-8">4099576-8</a> (part of Leverkusen since 1930).</p>
<p>The next candidate we looked at was Wikidata as we had some experiences with it implementing the above mentioned geodata enrichment. Wikidata already had good coverage of place entries, geo coordinates and hierarchical information. As with the GND, Wikidata comes with a technical infrastructure for maintaining the authority data, the difference with Wikidata being that the editing community encompasses virtually anybody and not only catalogers. The implications are twofold:</p>
<ol>
<li>The bigger the community, the easier it is to keep the data up to date which means less work for NWBib editors.</li>
<li>With anybody being able to edit the data, NWBib editors justifiably worried about unwanted changes and vandalism.</li>
</ol>
<p>Furthermore, while the free infrastructure of Wikidata is great to start working on a project, it might lead to problems in the long run if you solely rely on Wikimedia to keep this infrastructure running. We guaranteed NWBib editors that we&#8217;d mitigate 2.) and would also mitigate the lack of control over the infrastructure by creating a solution that adds some kind of buffer between Wikidata and the NWBib classification so that we could identify and fix unwanted changes in Wikidata before deploying them in NWBib.</p>
<h2>Implementation</h2>
<p>As this project had to be carried out alongside other projects and in parallel to different maintenance duties by a team of three persons working part-time, the whole duration of the project covered more than two years. This fitted quite well with the constant need for review and feedback cycles which sometimes could take some time due to NWBib editors residing in two organizations different from the hbz.</p>
<h3>Match strings</h3>
<p>As said above, we already had been matching place strings with Wikidata items since 2014 in order to enrich NWBib data with geo coordinates. We had learned early on that using the Wikidata API is not sufficient for matching strings of places with Wikidata items. One reason being that different levels of administrative areas do have very similar names which led to systematic errors. So we created a custom Elasticsearch index from the query which was used in the matching process. As there was no single property for filtering all the places in North Rhine-Westphalia out of Wikidata and as we only wanted to get out those types of items we needed to match the strings with, we had to work with a SPARQL query that would be improved over several iterations, see the evolution of this SPARQL query in <a href="https://git.io/JOVS9">https://git.io/JOVS9</a> &#038; <a href="https://git.io/JOVS7">https://git.io/JOVS7</a>.</p>
<p>For an optimal matching result, we indexed the German name and alternative names (<tt>label</tt>, <tt>aliases</tt>) along with the geo coordinates (<tt>geo</tt>) for the enrichment. As place strings in NWBib data often contained the name of the superior administrative body for disambiguation, we also added this name to the index (<tt>locatedIn</tt>). Here is a full example of the information from Wikidata we loaded into Elasticsearch:</p>
<pre class="brush: jscript; title: ; notranslate" title="">
{
   &quot;spatial&quot;:{
      &quot;id&quot;:&quot;http://www.wikidata.org/entity/Q897382&quot;,
      &quot;label&quot;:&quot;Ehrenfeld&quot;,
      &quot;geo&quot;:{
         &quot;lat&quot;:50.9464,
         &quot;lon&quot;:6.91833
      },
      &quot;type&quot;:&#x5B;
         &quot;http://www.wikidata.org/entity/Q15632166&quot;
      ]
   },
   &quot;aliases&quot;:&#x5B;
      {
         &quot;language&quot;:&quot;de&quot;,
         &quot;value&quot;:&quot;Köln/Ehrenfeld&quot;
      },
      {
         &quot;language&quot;:&quot;de&quot;,
         &quot;value&quot;:&quot;Köln-Ehrenfeld&quot;
      }
   ],
   &quot;locatedIn&quot;:{
      &quot;language&quot;:&quot;de&quot;,
      &quot;value&quot;:&quot;Köln-Ehrenfeld&quot;
   }
}
</pre>
<p>It then took quite some manual work in Wikidata (adding items and/or alternative names) as well as adjustment of field boosting in Elasticsearch (see <a href="https://git.io/J3LFi">https://git.io/J3LFi</a>) to reach a successful matching for around 99% of all NWBib records, which covered approximately 92% of all place strings we had in the data. To get to a 100% coverage, NWBib editors adjusted catalog records and made more than 6000 manual edits to Wikidata adding aliases and type information or creating new entries.</p>
<h3>Update NWBib data</h3>
<p>Having reached the milestone of a 100% matching rate for all the place strings, we could move on to the next step: Updating NWBib data with information from Wikidata.</p>
<p>We did this by including the information in a <tt>spatial</tt> JSON object (the JSON key being mapped to the RDF property <tt>http://purl.org/dc/terms/spatial</tt>). To avoid being susceptible to vandalism or other unwanted Wikidata edits, we refrained from directly using Wikidata URIs. Instead, we minted custom URIs in the <tt>nwbib.de</tt> namespace and used the Simple Knowledge Organization System (SKOS) [<a id="ref10" href="../index.html%3Fp=15875.html#note10">10</a>], a World Wide Web Consortium (W3C) recommendation for publishing classifications, thesauri or other controlled vocabularies as Linked Data using the Resource Description Framework (RDF) [<a id="ref11" href="../index.html%3Fp=15875.html#note11">11</a>]. In a subsequent step, we&#8217;d create a SKOS classification from these SKOS concept URIs (see below). To link the SKOS concepts for those places to the corresponding Wikidata entities, the <tt>foaf:focus</tt> (<tt>http://xmlns.com/foaf/0.1/focus</tt>) property is used. [<a id="ref12" href="../index.html%3Fp=15875.html#note12">12</a>] Besides the URI (<tt>id</tt>), the type information and geodata from Wikidata is also embedded in the <tt>focus</tt> object, see for example the <tt>spatial</tt> object from the record <a href="https://lobid.org/resources/HT017710656.json">HT017710656</a>:</p>
<pre class="brush: jscript; title: ; notranslate" title="">
{
  &quot;spatial&quot;:&#x5B;
     {
        &quot;focus&quot;:{
           &quot;id&quot;:&quot;http://www.wikidata.org/entity/Q365&quot;,
           &quot;geo&quot;:{
              &quot;lat&quot;:50.942222222222,
              &quot;lon&quot;:6.9577777777778
           },
           &quot;type&quot;:&#x5B;
              &quot;http://www.wikidata.org/entity/Q22865&quot;,
              &quot;http://www.wikidata.org/entity/Q707813&quot;,
              &quot;http://www.wikidata.org/entity/Q200250&quot;,
              &quot;http://www.wikidata.org/entity/Q2202509&quot;,
              &quot;http://www.wikidata.org/entity/Q42744322&quot;,
              &quot;http://www.wikidata.org/entity/Q1549591&quot;
           ]
        },
        &quot;id&quot;:&quot;https://nwbib.de/spatial#Q365&quot;,
        &quot;type&quot;:&#x5B;
           &quot;Concept&quot;
        ],
        &quot;label&quot;:&quot;Köln&quot;,
        &quot;notation&quot;:&quot;05315000&quot;,
        &quot;source&quot;:{
           &quot;id&quot;:&quot;https://nwbib.de/spatial&quot;,
           &quot;label&quot;:&quot;Raumsystematik der Nordrhein-Westfälischen Bibliographie&quot;
        }
     }
  ]
}
</pre>
<p>With this setup, it becomes possible to query lobid for NWBib resources based on a place&#8217;s Q-identifier from Wikidata, for example:</p>
<p><a href="https://lobid.org/resources/search?q=spatial.focus.id%3A%22http%3A%2F%2Fwww.wikidata.org%2Fentity%2FQ365%22"><tt>spatial.focus.id:"http://www.wikidata.org/entity/Q365"</tt></a></p>
<p>Having reached a state where controlled values for all the places are in NWBib/lobid data, we were still lacking a hierarchical overview of the places to be browsed by users. To enable this, we created a SKOS classification with broader/narrower relations.</p>
<h3>Create &#038; present SKOS classification</h3>
<p>As NWBib editors did not want NWBib to directly rely on Wikidata&#8217;s infrastructure and data, we had early on decided to represent the classification in an intermediate SKOS file that we control. The NWBib web application would then rely on this file and not directly on Wikidata.</p>
<p>As an additional requirement, it became clear that we would not be able to maintain 100% of the classification in Wikidata for several reasons: Some parts of the classification were quite NWBib-specific and it wasn&#8217;t feasible to include them in Wikidata. Also, we could not claim authority over the preferred names used in Wikidata so that we had to think about a solution when a label in Wikidata would differ from the label we wanted to be used in NWBib. Here is the setup we came up with:</p>
<ol>
<li>A SKOS turtle file covering the core spatial NWBib classification with (currently around 40) concepts not covered in Wikidata or where we need to use another label than Wikidata: <a href="https://github.com/hbz/nwbib/blob/master/conf/nwbib-spatial-conf.ttl">nwbib-spatial-conf.ttl</a></li>
<li>The complete classification as a SKOS file created from 1.) and Wikidata: <a href="https://github.com/hbz/lobid-vocabs/blob/master/nwbib/nwbib-spatial.ttl">nwbib-spatial.ttl</a></li>
</ol>
<p>The HTML classification that is rendered from the classisication SKOS file can be viewed and browsed at <a href="https://nwbib.de/spatial">https://nwbib.de/spatial</a> (where you can also download the SKOS version under <a href="https://nwbib.de/spatial.ttl">https://nwbib.de/spatial.ttl</a>). Here is a screenshot showing a part of the HTML classification:</p>
<p><img decoding="async" src="../media/issue51/pohl/classification-screenshot.png" alt="Figure 2. A part of the NWBib spatial classification showing different hierarchical levels" style="width:800px" /></p>
<p class="caption">
  <strong>Figure 2.</strong> A part of the NWBib spatial classification showing different hierarchical levels
</p>
<p>You can directly link to each element in the HTML classification by using the concept&#8217;s hash URI which is based on its Wikidata ID – e.g. <a href="https://nwbib.de/spatial#Q365">https://nwbib.de/spatial#Q365</a>. Displayed in parenthesis behind each classification entry is the number of bibliographic resources in NWBib that refer to this place. This number is linked to a result view listing these resources.</p>
<h3>Update Wikidata with links to NWBib</h3>
<p>With the concept URIs resolving to their classification entry, the next step could be implemented: adding links from Wikidata to NWBib. Prerequisite is a Wikidata property that enables adding those links to Wikidata items. We proposed such a property in the beginning of June 2019, see <a href="https://www.wikidata.org/wiki/Wikidata:Property_proposal/NWBib_ID">https://www.wikidata.org/wiki/Wikidata:Property_proposal/NWBib_ID</a>. After getting a few affirmative votes, the Wikidata property <a href="https://www.wikidata.org/wiki/Property:P6814">NWBib ID (P6814)</a> was created quickly one or two days later. We then batch loaded the NWBib IDs with QuickStatements [<a id="ref13" href="../index.html%3Fp=15875.html#note13">13</a>], see <a href="https://github.com/hbz/nwbib/issues/469">https://github.com/hbz/nwbib/issues/469</a> for details. After this step, we could get all relevant Wikidata entries by querying for all items that have a P6814 statement.</p>
<p>Until then, we were getting information about hierarchy (superordinate administrative entity) from <a href="https://www.wikidata.org/wiki/Property:P131">P131 (located in the administrative territorial entity</a> statements. As for some places multiple superordinate administrative entities were listed, we had problems to identify the one we would use for creating our classification&#8217;s hierarchy. That&#8217;s where the Wikidata property <a href="https://www.wikidata.org/wiki/Property:P4900">P4900 (broader concept)</a> came into play. We used this property to batch load &#8220;broader&#8221; links to other Wikidata entries with a qualifier to the <a href="https://www.wikidata.org/wiki/Property:P6814">P6814 (NWBib ID)</a> statements, see the <a href="https://github.com/hbz/nwbib/issues/487">corresponding issue</a> for implementation details. The result, e.g. for Cologne (Q365), looks like this in Wikidata:</p>
<p><img decoding="async" src="../media/issue51/pohl/P4900-example.png" alt="Figure 3. NWBib ID entry in Wikidata example with P4900 (broader concept) qualifier" style="width:800px" /></p>
<p class="caption">
  <strong>Figure 3.</strong> NWBib ID entry in Wikidata example with P4900 (broader concept) qualifier
</p>
<p>The Wikidata entries which are used in NWBib can thus be identified by usage of the NWBib ID property <tt>P6814</tt>, e.g. by using this SPARQL query on the Wikidata query endpoint at <a href="https://query.wikidata.org">https://query.wikidata.org</a>:</p>
<pre class="brush: plain; title: ; notranslate" title="">
# Get all places used in the NWBib spatial classification
SELECT ?item ?itemLabel 
WHERE 
{
  ?item wdt:P6814 ?nwbibId.
  SERVICE wikibase:label {
    bd:serviceParam wikibase:language &quot;&#x5B;AUTO_LANGUAGE],en&quot;. 
  }
}
</pre>
<h3>Support Aleph cataloging with concept URIs</h3>
<p>By now, we had also replaced all spatial strings in the underlying Aleph system with SKOS concept URIs. To enable subsequent cataloging with those concept URIs, we somehow had to establish a process for cataloguers to easily add the controlled values into the bibliographic records. For this, we added a hidden copy button behind every classification entry to get the needed Aleph format with one click. One has to hover over the space behind a classification entry to make the button and an explaining tooltip visible, then click the button, select the correct field in Aleph and paste the entry there.</p>
<p><img decoding="async" src="../media/issue51/pohl/copy2aleph.png" alt="Figure 4. Hidden button with tooltip in the classification page for copying snippets into Aleph" style="width:800px" /></p>
<p class="caption">
  <strong>Figure 4.</strong> Hidden button with tooltip in the classification page for copying snippets into Aleph
</p>
<p>For example, a click on the button as shown in the screenshot adds the following string to the clipboard which can directly be pasted into the right field in the Aleph cataloging client:</p>
<p><tt>Köln$$0https://nwbib.de/spatial#Q365</tt></p>
<p>The resulting catalog data looks like this (in the MARC21/XML export format that uses MAB2 field numbering):</p>
<pre class="brush: xml; title: ; notranslate" title="">
&lt;datafield tag=&quot;700&quot; ind1=&quot;n&quot; ind2=&quot;1&quot;&gt;
  &lt;subfield code=&quot;a&quot;&gt;Köln&lt;/subfield&gt;
  &lt;subfield code=&quot;0&quot;&gt;https://nwbib.de/spatial#Q365&lt;/subfield&gt;
&lt;/datafield&gt;
</pre>
<h3>Monitoring and fixing synchronization issues</h3>
<p>Setting up the new infrastructure for the spatial classification, we noticed two problems that might and did occur with regard to the synchronization between NWBib data and Wikidata:</p>
<ol>
<li>Spatial concepts used in NWBib and derived from Wikidata might not have a <a href="https://www.wikidata.org/wiki/Property:P6814">P6814 (NWBib ID)</a> statement in Wikidata – either because they were newly added to NWBib or someone removed the statement from Wikidata.</li>
<li>Wikidata entries with a P6814 (NWBib ID) statement miss an equivalent concept in NWBib.</li>
</ol>
<p>To be notified about a potential asynchronicity, we set up a monitoring process that sends out an email whenever one of these cases occurs. Usually, a reported error can easily be resolved by adding/removing a P6814 (NWBib ID) from Wikidata.</p>
<h3>Establish editorial process for maintaining the classification</h3>
<p>Having set up this whole infrastructure we had to think about an editorial process for maintaining the classification. As noted, an up-to-date SKOS classification is created from:</p>
<ol>
<li>the manually maintained SKOS config file <a href="https://github.com/hbz/nwbib/blob/master/conf/nwbib-spatial-conf.ttl">nwbib-spatial-conf.ttl</a> which includes a) top-level concepts, b) hierarchical relationships that can&#8217;t be recorded in Wikidata with <a href="https://www.wikidata.org/wiki/Property:P4900">P4900 (broader concept)</a> and c) concepts whose desired display label differs from the label in Wikidata,</li>
<li>all Wikidata items with <a href="https://www.wikidata.org/wiki/Property:P6814">P6814 NWBib ID</a> statements including – if existent – the qualifier <a href="https://www.wikidata.org/wiki/Property:P4900">P4900 (broader concept)</a>.</li>
</ol>
<p>In general, statements from the config file (1.) overwrite those from Wikidata (2.). [<a id="ref14" href="../index.html%3Fp=15875.html#note14">14</a>]</p>
<p>Having this technical update process in place, with a few iterations we established the following editorial process:</p>
<ol>
<li>NWBib editor decides to change an entry or to include a new place by adding an <a href="https://www.wikidata.org/wiki/Property:P6814">NWBib ID (P6814)</a> statement.</li>
<li>NWBib editor triggers a new build of the classification in the test system by clicking a button &#8220;Update from Wikidata&#8221; and checks whether the desired change is achieved.</li>
<li>Editor can now already use the test classification for copying the entry into Aleph as described above.</li>
<li>If everything is fine on test, editor notifies the lobid team via email and requests a rebuild of the classification in production.</li>
<li>lobid team updates the classification in the production system and notifies editors about possible undesired changes coming in from Wikidata.</li>
</ol>
<h3>Assessment</h3>
<p>Summarizing the result of the project, the NWBib&#8217;s spatial classification – which can be browsed at <a href="https://nwbib.de/spatial">https://nwbib.de/spatial</a> – is now comprising controlled entries for around 4,500 places or geographic areas. The underlying structured data is stored as an RDF/Turtle file using the Simple Knowledge Organization System (SKOS): <a href="https://nwbib.de/spatial.ttl">https://nwbib.de/spatial.ttl</a>. This SKOS file in turn is for the utmost part derived from Wikidata. An editorial process for updating the classification has been set up.</p>
<p>Both the NWBib editors who are responsible for cataloging and the development team are very pleased with the results of the project and the achieved possibilities of maintaining and using a larger spatial classification. Here are some of the benefits:</p>
<ul>
<li>Common sources of errors like typos or missing parentheses with qualifiers are now impossible.</li>
<li>With regard to the cataloging workflow, we got the feedback that the new method of browsing and filtering the classification and clicking the hidden button to copy the field entry into Aleph would be much better and easier than the previous method of adding a textual stirng by hand. Especially, new staff or staff that is not so familiar with NWBib is very happy about the change.</li>
<li>The previous process of deriving geo coordinates from Wikidata by matching strings resulted in some errors. Directly using Wikidata-derived controlled values for spatial indexing eliminates this source of error.</li>
<li>The editorial process along with the monitoring tools results in a small and easily manageable maintenance burden for the team maintaining the technical infrastructure.</li>
<li>NWBib users benefit from the hierarchical, browsable and clickable overview of the whole spatial classification.</li>
<li>Finally, the connections to Wikidata enable us to utilize even more information from Wikidata in the future, e.g. by setting up a profile page for each place in the classification with a small description, a picture and the coat of arms.</li>
</ul>
<h2>Acknowledgements</h2>
<p>Thanks to the NWBib editors Holger Flachmann, Stefanie von Gumpert-Hohmann, Elisabeth Lakomy, Irmgard Niemann, Ute Pflughaupt, Doris Ritter-Wiegand, and Cordula Tetzlaff for being open to this Wikidata-based approach and for the sincere, constructive and friendly communication which was crucial for the success of this project. Thanks to the Open Infrastructure team, especially Fabian Steeg and Pascal Christoph, for the good team work in general and especially in this project. Finally, thanks to Magnus Sälgö, Péter Király and Osma Suominen for showing their interest in the project during SWIB20 (see the <a href="https://gist.github.com/acka47/e24a091b27f4095cbafe3cf3803b0b9a">Mattermost thread archived by me</a>) which led me to document the project in this Code4Lib article.</p>
<h2>Further resources</h2>
<ul>
<li>Slides from WikidataCon 2019: <a href="https://slides.lobid.org/nwbib-wikidatacon/">https://slides.lobid.org/nwbib-wikidatacon/</a></li>
<li>GitHub project Wiki (German): <a href="https://github.com/hbz/nwbib/wiki">https://github.com/hbz/nwbib/wiki</a></li>
<li>Project issues (mostly in German): <a href="https://github.com/hbz/nwbib/issues?q=is%3Aissue+project%3Ahbz%2F3">https://github.com/hbz/nwbib/issues?q=is%3Aissue+project%3Ahbz%2F3</a></li>
</ul>
<h2>Notes</h2>
<p>[<a id="note1" href="../index.html%3Fp=15875.html#ref1">1</a>] For information on ZDB and how to query it, see Pohl, Adrian (2018): Accessing ZDB via lobid-resources. URL: <a href="https://web.archive.org/web/20210125181012/https://blog.lobid.org/2018/09/04/zdb.html">https://web.archive.org/web/20210125181012/https://blog.lobid.org/2018/09/04/zdb.html</a></p>
<p>[<a id="note2" href="../index.html%3Fp=15875.html#ref2">2</a>] <a href="https://librarytechnology.org/product/aleph/">https://librarytechnology.org/product/aleph/</a></p>
<p>[<a id="note3" href="../index.html%3Fp=15875.html#ref3">3</a>] <a href="https://librarytechnology.org/product/alma">https://librarytechnology.org/product/alma</a></p>
<p>[<a id="note4" href="../index.html%3Fp=15875.html#ref4">4</a>] &#8220;Maschinelles Austauschformat für Bibliotheken&#8221;, a data format similar to MARC21 used as exchange format in the German-speaking library world until 2013. See <a href="https://de.wikipedia.org/wiki/Maschinelles_Austauschformat_f%C3%BCr_Bibliotheken">https://de.wikipedia.org/wiki/Maschinelles_Austauschformat_f%C3%BCr_Bibliotheken</a> for more background.</p>
<p>[<a id="note5" href="../index.html%3Fp=15875.html#ref5">5</a>] <a href="https://www.wikidata.org">https://www.wikidata.org</a></p>
<p>[<a id="note6" href="../index.html%3Fp=15875.html#ref6">6</a>] <a href="https://lobid.org/team-en">https://lobid.org/team-en</a></p>
<p>[<a id="note7" href="../index.html%3Fp=15875.html#ref7">7</a>] For details, see the blog posts about lobid-resources at <a href="https://blog.lobid.org/tags/lobid-resources">https://blog.lobid.org/tags/lobid-resources</a></p>
<p>[<a id="note8" href="../index.html%3Fp=15875.html#ref8">8</a>] <a href="https://gnd.network">https://gnd.network</a></p>
<p>[<a id="note9" href="../index.html%3Fp=15875.html#ref9">9</a>] <a href="http://www.rda-rsc.org/content/about-rda">http://www.rda-rsc.org/content/about-rda</a></p>
<p>[<a id="note10" href="../index.html%3Fp=15875.html#ref10">10</a>] <a href="https://www.w3.org/2004/02/skos/">https://www.w3.org/2004/02/skos/</a></p>
<p>[<a id="note11" href="../index.html%3Fp=15875.html#ref11">11</a>] <a href="https://www.w3.org/RDF/">https://www.w3.org/RDF/</a></p>
<p>[<a id="note12" href="../index.html%3Fp=15875.html#ref12">12</a>] For a detailled account on <tt>foaf:focus</tt> and related properties see Johnston, Pete (2011): Things &#038; their conceptualisations: SKOS, foaf:focus &#038; modelling choices. URL: <a href="https://efoundations.typepad.com/efoundations/2011/09/things-their-conceptualisations-skos-foaffocus-modelling-choices.html">https://efoundations.typepad.com/efoundations/2011/09/things-their-conceptualisations-skos-foaffocus-modelling-choices.html</a></p>
<p>[<a id="note13" href="../index.html%3Fp=15875.html#ref13">13</a>] <a href="https://www.wikidata.org/wiki/Help:QuickStatements">https://www.wikidata.org/wiki/Help:QuickStatements</a></p>
<p>[<a id="note14" href="../index.html%3Fp=15875.html#ref14">14</a>] As a sidenote: In the beginning, we hoped to directly extract SKOS data from Wikidata using a SPARQL <tt>CONSTRUCT</tt> query. Unfortunately, Wikidata does not support CONSTRUCT queries for such a large amount of data, see the <a href="https://phabricator.wikimedia.org/T211178">respective issue</a>.</p>
<h2>About the author</h2>
<p>Adrian Pohl (pohl@hbz-nrw.de) has been working at the North Rhine-Westphalian Library Service Centre (hbz) in Cologne, Germany, since 2008. He is leading the Open Infrastructure team whose work focuses on open standards, tools and processes for the publication of structured data on the web.</p>
					</div>
														</div>
				<!-- You can start editing here. -->

<div class="comments">
	<p class="subscriptionlinks">Subscribe to comments: <a href="15875/feed">For this article</a> | <a href="http://feeds.feedburner.com/c4lj/comments">For all articles</a></p>

			<!-- If comments are open, but there are no comments. -->

	 

<h3 id="respond">Leave a Reply</h3>


<form action="https://journal.code4lib.org/wp-comments-post.php" method="post" id="commentform">


<p><input type="text" name="author" id="author" value=""/>
<label for="author">Name (required)</label></p>

<p><input type="text" name="email" id="email" value="" />
<label for="email">Mail (will not be published) (required)</label></p>

<p><input type="text" name="url" id="url" value="" />
<label for="url">Website</label></p>


<p><textarea autocomplete="new-password"  aria-label="Comment box" id="f127f6ccbe"  name="f127f6ccbe"   cols="50" rows="10"></textarea><textarea id="comment" aria-label="hp-comment" aria-hidden="true" name="comment" autocomplete="new-password" style="padding:0 !important;clip:rect(1px, 1px, 1px, 1px) !important;position:absolute !important;white-space:nowrap !important;height:1px !important;width:1px !important;overflow:hidden !important;" tabindex="-1"></textarea><script data-noptimize>document.getElementById("comment").setAttribute( "id", "ab61844393da7d0ab9e824b9dba57d21" );document.getElementById("f127f6ccbe").setAttribute( "id", "comment" );</script></p>

<p><input name="submit" type="submit" id="submit"  value="Submit Comment" />
<input type="hidden" name="comment_post_ID" value="15875" />
</p>
<p style="display: none;"><input type="hidden" id="akismet_comment_nonce" name="akismet_comment_nonce" value="b753d2a86b" /></p><p style="display: none !important;" class="akismet-fields-container" data-prefix="ak_"><label>&#916;<textarea name="ak_hp_textarea" cols="45" rows="8" maxlength="100"></textarea></label><input type="hidden" id="ak_js_1" name="ak_js" value="82"/><script>document.getElementById( "ak_js_1" ).setAttribute( "value", ( new Date() ).getTime() );</script></p>
</form>


</div>
							</div>

			<div id="meta">
				<div id="issn">
					<p>ISSN 1940-5758</p>
				</div>
				<div class="search-sidebar">
				<form method="get" id="searchform" action="../index.html">
					<div>
						<input type="text" value="" aria-labelledby="searchsubmit" name="s" id="s" />
						<input type="submit" value="Search" id="searchsubmit"/>
					</div>
				</form>
				</div>
				<div id="archives">
					<h2>Current Issue</h2>
						<ul>
							<li><a href="../issues/issues/issue60.html">Issue 60, 2025-04-14</a></li>
						</ul>

					<h2>Previous Issues</h2>
						<ul>
              <li><a href="../issues/issues/issue59.html">Issue 59, 2024-10-07</a></li><li><a href="../issues/issues/issue58.html">Issue 58, 2023-12-04</a></li><li><a href="../issues/issues/issue57.html">Issue 57, 2023-08-29</a></li><li><a href="../issues/issues/issue56.html">Issue 56, 2023-04-21</a></li>              <li><a href="../index.html%3Fp=2476.html">Older Issues</a></li>
						</ul>
				</div>
				<div id="forauthors">
					<h2>For Authors</h2>
					<ul>
						<li class="page_item page-item-4"><a href="../index.html%3Fp=4.html">Call for Submissions</a></li>
<li class="page_item page-item-7"><a href="../index.html%3Fp=7.html">Article Guidelines</a></li>
					</ul>
				</div>
			</div>
						<div id="footer">
				<p id="login"><a href="../wp-login.php.html">Log in</a></p>
				<p id="copyright">This work is licensed under a <a rel="license" href="http://creativecommons.org/licenses/by/3.0/us/">Creative Commons Attribution 3.0 United States License</a>.<br /><a rel="license" href="http://creativecommons.org/licenses/by/3.0/us/"><img alt="Creative Commons License" src="http://i.creativecommons.org/l/by/3.0/us/80x15.png" /></a></p>
			</div>
			<script type="speculationrules">
{"prefetch":[{"source":"document","where":{"and":[{"href_matches":"\/*"},{"not":{"href_matches":["\/wp-*.php","\/wp-admin\/*","\/wp-content\/uploads\/*","\/wp-content\/*","\/wp-content\/plugins\/*","\/wp-content\/themes\/c4lj-theme\/*","\/*\\?(.+)"]}},{"not":{"selector_matches":"a[rel~=\"nofollow\"]"}},{"not":{"selector_matches":".no-prefetch, .no-prefetch a"}}]},"eagerness":"conservative"}]}
</script>
<script type="text/javascript" src="../wp-content/plugins/syntaxhighlighter/syntaxhighlighter3/scripts/shCore.js%3Fver=3.0.9b" id="syntaxhighlighter-core-js"></script>
<script type="text/javascript" src="../wp-content/plugins/syntaxhighlighter/syntaxhighlighter3/scripts/shBrushJScript.js%3Fver=3.0.9b" id="syntaxhighlighter-brush-jscript-js"></script>
<script type="text/javascript" src="../wp-content/plugins/syntaxhighlighter/syntaxhighlighter3/scripts/shBrushXml.js%3Fver=3.0.9b" id="syntaxhighlighter-brush-xml-js"></script>
<script type="text/javascript" src="../wp-content/plugins/syntaxhighlighter/syntaxhighlighter3/scripts/shBrushPlain.js%3Fver=3.0.9b" id="syntaxhighlighter-brush-plain-js"></script>
<script type='text/javascript'>
	(function(){
		var corecss = document.createElement('link');
		var themecss = document.createElement('link');
		var corecssurl = "https://journal.code4lib.org/wp-content/plugins/syntaxhighlighter/syntaxhighlighter3/styles/shCore.css?ver=3.0.9b";
		if ( corecss.setAttribute ) {
				corecss.setAttribute( "rel", "stylesheet" );
				corecss.setAttribute( "type", "text/css" );
				corecss.setAttribute( "href", corecssurl );
		} else {
				corecss.rel = "stylesheet";
				corecss.href = corecssurl;
		}
		document.head.appendChild( corecss );
		var themecssurl = "https://journal.code4lib.org/wp-content/plugins/syntaxhighlighter/syntaxhighlighter3/styles/shThemeDefault.css?ver=3.0.9b";
		if ( themecss.setAttribute ) {
				themecss.setAttribute( "rel", "stylesheet" );
				themecss.setAttribute( "type", "text/css" );
				themecss.setAttribute( "href", themecssurl );
		} else {
				themecss.rel = "stylesheet";
				themecss.href = themecssurl;
		}
		document.head.appendChild( themecss );
	})();
	SyntaxHighlighter.config.strings.expandSource = '+ expand source';
	SyntaxHighlighter.config.strings.help = '?';
	SyntaxHighlighter.config.strings.alert = 'SyntaxHighlighter\n\n';
	SyntaxHighlighter.config.strings.noBrush = 'Can\'t find brush for: ';
	SyntaxHighlighter.config.strings.brushNotHtmlScript = 'Brush wasn\'t configured for html-script option: ';
	SyntaxHighlighter.defaults['pad-line-numbers'] = false;
	SyntaxHighlighter.defaults['toolbar'] = false;
	SyntaxHighlighter.all();

	// Infinite scroll support
	if ( typeof( jQuery ) !== 'undefined' ) {
		jQuery( function( $ ) {
			$( document.body ).on( 'post-load', function() {
				SyntaxHighlighter.highlight();
			} );
		} );
	}
</script>
<script defer type="text/javascript" src="../wp-content/plugins/akismet/_inc/akismet-frontend.js%3Fver=1748382734" id="akismet-frontend-js"></script>
		</div>
	</body>
</html>
